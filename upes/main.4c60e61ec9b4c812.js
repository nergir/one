(self.webpackChunkupes=self.webpackChunkupes||[]).push([[179],{318:(yi,wn,te)=>{"use strict";function ze(e){return"function"==typeof e}function _(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const D=_(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function x(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class F{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(ze(i))try{i()}catch(s){t=s instanceof D?s.errors:[s]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const s of r)try{Z(s)}catch(a){t=t??[],a instanceof D?t=[...t,...a.errors]:t.push(a)}}if(t)throw new D(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Z(t);else{if(t instanceof F){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&x(n,t)}remove(t){const{_teardowns:n}=this;n&&x(n,t),t instanceof F&&t._removeParent(this)}}F.EMPTY=(()=>{const e=new F;return e.closed=!0,e})();const O=F.EMPTY;function G(e){return e instanceof F||e&&"closed"in e&&ze(e.remove)&&ze(e.add)&&ze(e.unsubscribe)}function Z(e){ze(e)?e():e.unsubscribe()}const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ye={setTimeout(...e){const{delegate:t}=ye;return(t?.setTimeout||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=ye;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Q(e){ye.setTimeout(()=>{const{onUnhandledError:t}=J;if(!t)throw e;t(e)})}function Qt(){}const nt=bt("C",void 0,void 0);function bt(e,t,n){return{kind:e,value:t,error:n}}let ct=null;function We(e){if(J.useDeprecatedSynchronousErrorHandling){const t=!ct;if(t&&(ct={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=ct;if(ct=null,n)throw i}}else e()}class ht extends F{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,G(t)&&t.add(this)):this.destination=Rt}static create(t,n,i){return new Bt(t,n,i)}next(t){this.isStopped?xn(function se(e){return bt("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?xn(function Qs(e){return bt("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?xn(nt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Bt extends ht{constructor(t,n,i){let r;if(super(),ze(t))r=t;else if(t){let s;({next:r,error:n,complete:i}=t),this&&J.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe()):s=t,r=r?.bind(s),n=n?.bind(s),i=i?.bind(s)}this.destination={next:r?Mo(r):Qt,error:Mo(n??Rr),complete:i?Mo(i):Qt}}}function Mo(e,t){return(...n)=>{try{e(...n)}catch(i){J.useDeprecatedSynchronousErrorHandling?function wi(e){J.useDeprecatedSynchronousErrorHandling&&ct&&(ct.errorThrown=!0,ct.error=e)}(i):Q(i)}}}function Rr(e){throw e}function xn(e,t){const{onStoppedNotification:n}=J;n&&ye.setTimeout(()=>n(e,t))}const Rt={closed:!0,next:Qt,error:Rr,complete:Qt},$t="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mn(e){return e}function rs(e){return 0===e.length?Mn:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}let qe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function Ks(e){return e&&e instanceof ht||function Ee(e){return e&&ze(e.next)&&ze(e.error)&&ze(e.complete)}(e)&&G(e)}(n)?n:new Bt(n,i,r);return We(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=Ui(i))((r,s)=>{let a;a=this.subscribe(c=>{try{n(c)}catch(f){s(f),a?.unsubscribe()}},s,r)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[$t](){return this}pipe(...n){return rs(n)(this)}toPromise(n){return new(n=Ui(n))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return e.create=t=>new e(t),e})();function Ui(e){var t;return null!==(t=e??J.Promise)&&void 0!==t?t:Promise}const Ke=_(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Je=(()=>{class e extends qe{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Kt(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Ke}next(n){We(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(n)}})}error(n){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){We(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?O:(s.push(n),new F(()=>x(s,n)))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new qe;return n.source=this,n}}return e.create=(t,n)=>new Kt(t,n),e})();class Kt extends Je{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:O}}class lt extends Je{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function ot(e){return ze(e?.lift)}function xe(e){return t=>{if(ot(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ne extends ht{constructor(t,n,i,r,s){super(t),this.onFinalize=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function ke(e,t){return xe((n,i)=>{let r=0;n.subscribe(new Ne(i,s=>{i.next(e.call(t,s,r++))}))})}function Hi(e){return this instanceof Hi?(this.v=e,this):new Hi(e)}function Vi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function zi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(a){return new Promise(function(c,f){!function r(s,a,c,f){Promise.resolve(f).then(function(g){s({value:g,done:c})},a)}(c,f,(a=e[s](a)).done,a.value)})}}}const Io=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ls(e){return ze(e?.then)}function _n(e){return ze(e[$t])}function Mi(e){return Symbol.asyncIterator&&ze(e?.[Symbol.asyncIterator])}function na(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const si=function Hu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function sn(e){return ze(e?.[si])}function an(e){return function as(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(P){i[P]&&(r[P]=function(A){return new Promise(function(B,V){s.push([P,A,B,V])>1||c(P,A)})})}function c(P,A){try{!function f(P){P.value instanceof Hi?Promise.resolve(P.value.v).then(g,M):b(s[0][2],P)}(i[P](A))}catch(B){b(s[0][3],B)}}function g(P){c("next",P)}function M(P){c("throw",P)}function b(P,A){P(A),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield Hi(n.read());if(r)return yield Hi(void 0);yield yield Hi(i)}}finally{n.releaseLock()}})}function So(e){return ze(e?.getReader)}function ai(e){if(e instanceof qe)return e;if(null!=e){if(_n(e))return function Di(e){return new qe(t=>{const n=e[$t]();if(ze(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Io(e))return function cr(e){return new qe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ls(e))return function Ie(e){return new qe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Q)})}(e);if(Mi(e))return Fr(e);if(sn(e))return function xo(e){return new qe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(So(e))return function Wn(e){return Fr(an(e))}(e)}throw na(e)}function Fr(e){return new qe(t=>{(function kt(e,t){var n,i,r,s;return function Js(e,t,n,i){return new(n||(n=Promise))(function(s,a){function c(M){try{g(i.next(M))}catch(b){a(b)}}function f(M){try{g(i.throw(M))}catch(b){a(b)}}function g(M){M.done?s(M.value):function r(s){return s instanceof n?s:new n(function(a){a(s)})}(M.value).then(c,f)}g((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Vi(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ln(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function It(e,t,n=1/0){return ze(t)?It((i,r)=>ke((s,a)=>t(i,s,r,a))(ai(e(i,r))),n):("number"==typeof t&&(n=t),xe((i,r)=>function us(e,t,n,i,r,s,a,c){const f=[];let g=0,M=0,b=!1;const P=()=>{b&&!f.length&&!g&&t.complete()},A=V=>g<i?B(V):f.push(V),B=V=>{s&&t.next(V),g++;let ee=!1;ai(n(V,M++)).subscribe(new Ne(t,ie=>{r?.(ie),s?A(ie):t.next(ie)},()=>{ee=!0},void 0,()=>{if(ee)try{for(g--;f.length&&g<i;){const ie=f.shift();a?Ln(t,a,()=>B(ie)):B(ie)}P()}catch(ie){t.error(ie)}}))};return e.subscribe(new Ne(t,A,()=>{b=!0,P()})),()=>{c?.()}}(i,r,e,n)))}function Ci(e=1/0){return It(Mn,e)}const Xt=new qe(e=>e.complete());function cs(e){return e[e.length-1]}function Br(e){return function yl(e){return e&&ze(e.schedule)}(cs(e))?e.pop():void 0}function To(e,t=0){return xe((n,i)=>{n.subscribe(new Ne(i,r=>Ln(i,e,()=>i.next(r),t),()=>Ln(i,e,()=>i.complete(),t),r=>Ln(i,e,()=>i.error(r),t)))})}function ra(e,t=0){return xe((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function ds(e,t){if(!e)throw new Error("Iterable cannot be null");return new qe(n=>{Ln(n,t,()=>{const i=e[Symbol.asyncIterator]();Ln(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function dt(e,t){return t?function fs(e,t){if(null!=e){if(_n(e))return function dr(e,t){return ai(e).pipe(ra(t),To(t))}(e,t);if(Io(e))return function Lo(e,t){return new qe(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(ls(e))return function Ei(e,t){return ai(e).pipe(ra(t),To(t))}(e,t);if(Mi(e))return ds(e,t);if(sn(e))return function $i(e,t){return new qe(n=>{let i;return Ln(n,t,()=>{i=e[si](),Ln(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void n.error(a)}s?n.complete():n.next(r)},0,!0)}),()=>ze(i?.return)&&i.return()})}(e,t);if(So(e))return function wl(e,t){return ds(an(e),t)}(e,t)}throw na(e)}(e,t):ai(e)}function De(...e){return dt(e,Br(e))}function Pn(e){return e<=0?()=>Xt:xe((t,n)=>{let i=0;t.subscribe(new Ne(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Ye(e={}){const{connector:t=(()=>new Je),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let a=null,c=null,f=null,g=0,M=!1,b=!1;const P=()=>{c?.unsubscribe(),c=null},A=()=>{P(),a=f=null,M=b=!1},B=()=>{const V=a;A(),V?.unsubscribe()};return xe((V,ee)=>{g++,!b&&!M&&P();const ie=f=f??t();ee.add(()=>{g--,0===g&&!b&&!M&&(c=ut(B,r))}),ie.subscribe(ee),a||(a=new Bt({next:$=>ie.next($),error:$=>{b=!0,P(),c=ut(A,n,$),ie.error($)},complete:()=>{M=!0,P(),c=ut(A,i),ie.complete()}}),dt(V).subscribe(a))})(s)}}function ut(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(Pn(1)).subscribe(()=>e())}function ln(e,t){return xe((n,i)=>{let r=null,s=0,a=!1;const c=()=>a&&!r&&i.complete();n.subscribe(new Ne(i,f=>{r?.unsubscribe();let g=0;const M=s++;ai(e(f,M)).subscribe(r=new Ne(i,b=>i.next(t?t(f,b,M,g++):b),()=>{r=null,c()}))},()=>{a=!0,c()}))})}function Gi(e,t){return e===t}function et(e){for(let t in e)if(e[t]===et)return t;throw Error("Could not find renamed property on target object.")}function Le(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Le).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function qi(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const jr=et({__forward_ref__:et});function un(e){return e.__forward_ref__=un,e.toString=function(){return Le(this())},e}function he(e){return Zi(e)?e():e}function Zi(e){return"function"==typeof e&&e.hasOwnProperty(jr)&&e.__forward_ref__===un}function Yn(e){return e&&!!e.\u0275providers}class K extends Error{constructor(t,n){super(function Lt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Fe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function _e(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function pr(e,t){throw new K(-201,!1)}function Pt(e,t){null==e&&function pe(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function we(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Kn(e){return{providers:e.providers||[],imports:e.imports||[]}}function mr(e){return Ur(e,Ve)||Ur(e,Jt)}function Ur(e,t){return e.hasOwnProperty(t)?e[t]:null}function zr(e){return e&&(e.hasOwnProperty(ko)||e.hasOwnProperty(Hr))?e[ko]:null}const Ve=et({\u0275prov:et}),ko=et({\u0275inj:et}),Jt=et({ngInjectableDef:et}),Hr=et({ngInjectorDef:et});var Pe=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Pe||{});let ys;function hn(e){const t=ys;return ys=e,t}function ws(e,t,n){const i=mr(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Pe.Optional?null:void 0!==t?t:void pr(Le(e))}const tt=globalThis,vr={},Bo="__NG_DI_FLAG__",Yi="ngTempTokenPath",bs=/\n/gm,Xn="__source";let Ki;function ui(e){const t=Ki;return Ki=e,t}function Is(e,t=Pe.Default){if(void 0===Ki)throw new K(-203,!1);return null===Ki?ws(e,void 0,t):Ki.get(e,t&Pe.Optional?null:void 0,t)}function ge(e,t=Pe.Default){return(function Oo(){return ys}()||Is)(he(e),t)}function ce(e,t=Pe.Default){return ge(e,Uo(t))}function Uo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function zo(e){const t=[];for(let n=0;n<e.length;n++){const i=he(e[n]);if(Array.isArray(i)){if(0===i.length)throw new K(900,!1);let r,s=Pe.Default;for(let a=0;a<i.length;a++){const c=i[a],f=Nn(c);"number"==typeof f?-1===f?r=c.token:s|=f:r=c}t.push(ge(r,s))}else t.push(ge(i))}return t}function qr(e,t){return e[Bo]=t,e.prototype[Bo]=t,e}function Nn(e){return e[Bo]}function dn(e){return{toString:e}.toString()}var Ho=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ho||{}),Gt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gt||{});const Jn={},$e=[],Zr=et({\u0275cmp:et}),wr=et({\u0275dir:et}),Si=et({\u0275pipe:et}),ci=et({\u0275mod:et}),Cn=et({\u0275fac:et}),Wr=et({__NG_ELEMENT_ID__:et}),Vo=et({__NG_ENV_ID__:et});function ua(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}function Rn(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],a=n[i++],c=n[i++];e.setAttribute(t,a,c,s)}else{const s=r,a=n[++i];Xi(s)?e.setProperty(t,s,a):e.setAttribute(t,s,a),i++}}return i}function ca(e){return 3===e||4===e||6===e}function Xi(e){return 64===e.charCodeAt(0)}function Yr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||ei(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function ei(e,t,n,i,r){let s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){const c=e[s++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=s-1;break}}}for(;s<e.length;){const c=e[s];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}const $o="ng-template";function ha(e,t,n){let i=0,r=!0;for(;i<e.length;){let s=e[i++];if("string"==typeof s&&r){const a=e[i++];if(n&&"class"===s&&-1!==ua(a.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Go(e){return 4===e.type&&e.value!==$o}function qo(e,t,n){return t===(4!==e.type||n?e.value:$o)}function Ss(e,t,n){let i=4;const r=e.attrs||[],s=function Mr(e){for(let t=0;t<e.length;t++)if(ca(e[t]))return t;return e.length}(r);let a=!1;for(let c=0;c<t.length;c++){const f=t[c];if("number"!=typeof f){if(!a)if(4&i){if(i=2|1&i,""!==f&&!qo(e,f,n)||""===f&&1===t.length){if(fn(i))return!1;a=!0}}else{const g=8&i?f:t[++c];if(8&i&&null!==e.attrs){if(!ha(e.attrs,g,n)){if(fn(i))return!1;a=!0}continue}const b=xt(8&i?"class":f,r,Go(e),n);if(-1===b){if(fn(i))return!1;a=!0;continue}if(""!==g){let P;P=b>s?"":r[b+1].toLowerCase();const A=8&i?P:null;if(A&&-1!==ua(A,g,0)||2&i&&g!==P){if(fn(i))return!1;a=!0}}}}else{if(!a&&!fn(i)&&!fn(f))return!1;if(a&&fn(f))continue;a=!1,i=f|1&i}}return fn(i)||a}function fn(e){return 0==(1&e)}function xt(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const a=t[r];if(a===e)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function Qr(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function hi(e,t,n=!1){for(let i=0;i<t.length;i++)if(Ss(e,t[i],n))return!0;return!1}function er(e,t){return e?":not("+t.trim()+")":t}function Kr(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&i){const c=e[++n];r+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!fn(a)&&(t+=er(s,r),r=""),i=a,s=s||!fn(i);n++}return""!==r&&(t+=er(s,r)),t}function xs(e){return dn(()=>{const t=kn(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ho.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gt.Emulated,styles:e.styles||$e,_:null,schemas:e.schemas||null,tView:null,id:""};Ls(n);const i=e.dependencies;return n.directiveDefs=Xr(i,!1),n.pipeDefs=Xr(i,!0),n.id=function xl(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Dr(e){return Qe(e)||vt(e)}function xi(e){return null!==e}function En(e){return dn(()=>({type:e.type,bootstrap:e.bootstrap||$e,declarations:e.declarations||$e,imports:e.imports||$e,exports:e.exports||$e,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ts(e,t){if(null==e)return Jn;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}function en(e){return dn(()=>{const t=kn(e);return Ls(t),t})}function Qe(e){return e[Zr]||null}function vt(e){return e[wr]||null}function qt(e){return e[Si]||null}function vn(e,t){const n=e[ci]||null;if(!n&&!0===t)throw new Error(`Type ${Le(e)} does not have '\u0275mod' property.`);return n}function kn(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Jn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||$e,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ts(e.inputs,t),outputs:Ts(e.outputs)}}function Ls(e){e.features?.forEach(t=>t(e))}function Xr(e,t){if(!e)return null;const n=t?qt:Dr;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(xi)}const gt=0,oe=1,me=2,ft=3,On=4,Cr=5,Ut=6,nr=7,yt=8,pi=9,ir=10,be=11,eo=12,o=13,l=14,h=15,m=16,y=17,S=18,N=19,j=20,H=21,W=22,ae=23,de=24,le=25,gi=1,to=2,zt=7,no=9,Ht=11;function pn(e){return Array.isArray(e)&&"object"==typeof e[gi]}function tn(e){return Array.isArray(e)&&!0===e[gi]}function wt(e){return 0!=(4&e.flags)}function ti(e){return e.componentOffset>-1}function Zo(e){return 1==(1&e.flags)}function Fn(e){return!!e.template}function Ps(e){return 0!=(512&e[me])}function ro(e,t){return e.hasOwnProperty(Cn)?e[Cn]:null}let rd=tt.WeakRef??class id{constructor(t){this.ref=t}deref(){return this.ref}},Et=0,je=null,pa=!1;function Zt(e){const t=je;return je=e,t}class Ku{constructor(){this.id=Et++,this.ref=function od(e){return new rd(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const i=n.producerNode.deref();if(null!=i&&n.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=pa;pa=!0;try{for(const[n,i]of this.consumers){const r=i.consumerNode.deref();null!=r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),r?.producers.delete(this.id))}}finally{pa=t}}producerAccessed(){if(pa)throw new Error("");if(null===je)return;let t=je.producers.get(this.id);void 0===t?(t={consumerNode:je.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:je.trackingVersion},je.producers.set(this.id,t),this.consumers.set(je.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=je.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==je?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Rl=null;const ec=()=>{};class sd extends Ku{constructor(t,n,i){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=ec,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Zt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ec,this.watch(this.registerOnCleanup)}finally{Zt(t)}}cleanup(){this.cleanupFn()}}class ad{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function oo(){return tc}function tc(e){return e.type.prototype.ngOnChanges&&(e.setInput=ud),ld}function ld(){const e=ic(this),t=e?.current;if(t){const n=e.previous;if(n===Jn)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function ud(e,t,n,i){const r=this.declaredInputs[n],s=ic(e)||function cd(e,t){return e[nc]=t}(e,{previous:Jn,current:null}),a=s.current||(s.current={}),c=s.previous,f=c[r];a[r]=new ad(f&&f.currentValue,t,c===Jn),e[i]=t}oo.ngInherit=!0;const nc="__ngSimpleChanges__";function ic(e){return e[nc]||null}const Li=function(e,t,n){};function mt(e){for(;Array.isArray(e);)e=e[gt];return e}function bn(e,t){return mt(t[e.index])}function w(e,t){const n=t[e];return pn(n)?n:n[gt]}function C(e,t){return null==t?null:e[t]}function T(e){e[y]=0}function R(e){1024&e[me]||(e[me]|=1024,k(e,1))}function U(e){1024&e[me]&&(e[me]&=-1025,k(e,-1))}function k(e,t){let n=e[ft];if(null===n)return;n[Cr]+=t;let i=n;for(n=n[ft];null!==n&&(1===t&&1===i[Cr]||-1===t&&0===i[Cr]);)n[Cr]+=t,i=n,n=n[ft]}const z={lFrame:cm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function it(){return z.bindingsEnabled}function Y(){return z.lFrame.lView}function Ze(){return z.lFrame.tView}function yn(){let e=im();for(;null!==e&&64===e.type;)e=e.parent;return e}function im(){return z.lFrame.currentTNode}function Ir(e,t){const n=z.lFrame;n.currentTNode=e,n.isParent=t}function fd(){return z.lFrame.isParent}function tC(e,t){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=e,gd(t)}function gd(e){z.lFrame.currentDirectiveIndex=e}function _d(e){z.lFrame.currentQueryIndex=e}function iC(e){const t=e[oe];return 2===t.type?t.declTNode:1===t.type?e[Ut]:null}function lm(e,t,n){if(n&Pe.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&Pe.Host||(r=iC(s),null===r||(s=s[l],10&r.type))););if(null===r)return!1;t=r,e=s}const i=z.lFrame=um();return i.currentTNode=t,i.lView=e,!0}function vd(e){const t=um(),n=e[oe];z.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function um(){const e=z.lFrame,t=null===e?null:e.child;return null===t?cm(e):t}function cm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function hm(){const e=z.lFrame;return z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const dm=hm;function yd(){const e=hm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Rs(e){z.lFrame.selectedIndex=e}let pm=!0;function ac(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:f,ngAfterViewChecked:g,ngOnDestroy:M}=s;a&&(e.contentHooks??=[]).push(-n,a),c&&((e.contentHooks??=[]).push(n,c),(e.contentCheckHooks??=[]).push(n,c)),f&&(e.viewHooks??=[]).push(-n,f),g&&((e.viewHooks??=[]).push(n,g),(e.viewCheckHooks??=[]).push(n,g)),null!=M&&(e.destroyHooks??=[]).push(n,M)}}function lc(e,t,n){gm(e,t,3,n)}function uc(e,t,n,i){(3&e[me])===n&&gm(e,t,n,i)}function wd(e,t){let n=e[me];(3&n)===t&&(n&=8191,n+=1,e[me]=n)}function gm(e,t,n,i){const s=i??-1,a=t.length-1;let c=0;for(let f=void 0!==i?65535&e[y]:0;f<a;f++)if("number"==typeof t[f+1]){if(c=t[f],null!=i&&c>=i)break}else t[f]<0&&(e[y]+=65536),(c<s||-1==s)&&(hC(e,n,t,f),e[y]=(4294901760&e[y])+f+2),f++}function mm(e,t){Li(4,e,t);const n=Zt(null);try{t.call(e)}finally{Zt(n),Li(5,e,t)}}function hC(e,t,n,i){const r=n[i]<0,s=n[i+1],c=e[r?-n[i]:n[i]];r?e[me]>>13<e[y]>>16&&(3&e[me])===t&&(e[me]+=8192,mm(c,s)):mm(c,s)}const Ma=-1;class Fl{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Dd(e){return e!==Ma}function Bl(e){return 32767&e}function jl(e,t){let n=function gC(e){return e>>16}(e),i=t;for(;n>0;)i=i[l],n--;return i}let Cd=!0;function cc(e){const t=Cd;return Cd=e,t}const _m=255,vm=5;let mC=0;const Sr={};function hc(e,t){const n=ym(e,t);if(-1!==n)return n;const i=t[oe];i.firstCreatePass&&(e.injectorIndex=t.length,Ed(i.data,e),Ed(t,null),Ed(i.blueprint,null));const r=dc(e,t),s=e.injectorIndex;if(Dd(r)){const a=Bl(r),c=jl(r,t),f=c[oe].data;for(let g=0;g<8;g++)t[s+g]=c[a+g]|f[a+g]}return t[s+8]=r,s}function Ed(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ym(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function dc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=Sm(r),null===i)return Ma;if(n++,r=r[l],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Ma}function bd(e,t,n){!function _C(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Wr)&&(i=n[Wr]),null==i&&(i=n[Wr]=mC++);const r=i&_m;t.data[e+(r>>vm)]|=1<<r}(e,t,n)}function wm(e,t,n){if(n&Pe.Optional||void 0!==e)return e;pr()}function Mm(e,t,n,i){if(n&Pe.Optional&&void 0===i&&(i=null),!(n&(Pe.Self|Pe.Host))){const r=e[pi],s=hn(void 0);try{return r?r.get(t,i,n&Pe.Optional):ws(t,i,n&Pe.Optional)}finally{hn(s)}}return wm(i,0,n)}function Dm(e,t,n,i=Pe.Default,r){if(null!==e){if(2048&t[me]&&!(i&Pe.Self)){const a=function CC(e,t,n,i,r){let s=e,a=t;for(;null!==s&&null!==a&&2048&a[me]&&!(512&a[me]);){const c=Cm(s,a,n,i|Pe.Self,Sr);if(c!==Sr)return c;let f=s.parent;if(!f){const g=a[j];if(g){const M=g.get(n,Sr,i);if(M!==Sr)return M}f=Sm(a),a=a[l]}s=f}return r}(e,t,n,i,Sr);if(a!==Sr)return a}const s=Cm(e,t,n,i,Sr);if(s!==Sr)return s}return Mm(t,n,i,r)}function Cm(e,t,n,i,r){const s=function wC(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Wr)?e[Wr]:void 0;return"number"==typeof t?t>=0?t&_m:DC:t}(n);if("function"==typeof s){if(!lm(t,e,i))return i&Pe.Host?wm(r,0,i):Mm(t,n,i,r);try{let a;if(a=s(i),null!=a||i&Pe.Optional)return a;pr()}finally{dm()}}else if("number"==typeof s){let a=null,c=ym(e,t),f=Ma,g=i&Pe.Host?t[h][Ut]:null;for((-1===c||i&Pe.SkipSelf)&&(f=-1===c?dc(e,t):t[c+8],f!==Ma&&bm(i,!1)?(a=t[oe],c=Bl(f),t=jl(f,t)):c=-1);-1!==c;){const M=t[oe];if(Em(s,c,M.data)){const b=yC(c,t,n,a,i,g);if(b!==Sr)return b}f=t[c+8],f!==Ma&&bm(i,t[oe].data[c+8]===g)&&Em(s,c,t)?(a=M,c=Bl(f),t=jl(f,t)):c=-1}}return r}function yC(e,t,n,i,r,s){const a=t[oe],c=a.data[e+8],M=function fc(e,t,n,i,r){const s=e.providerIndexes,a=t.data,c=1048575&s,f=e.directiveStart,M=s>>20,P=r?c+M:e.directiveEnd;for(let A=i?c:c+M;A<P;A++){const B=a[A];if(A<f&&n===B||A>=f&&B.type===n)return A}if(r){const A=a[f];if(A&&Fn(A)&&A.type===n)return f}return null}(c,a,n,null==i?ti(c)&&Cd:i!=a&&0!=(3&c.type),r&Pe.Host&&s===c);return null!==M?ks(t,a,M,c):Sr}function ks(e,t,n,i){let r=e[n];const s=t.data;if(function dC(e){return e instanceof Fl}(r)){const a=r;a.resolving&&function ps(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new K(-200,`Circular dependency in DI detected for ${e}${n}`)}(Fe(s[n]));const c=cc(a.canSeeViewProviders);a.resolving=!0;const g=a.injectImpl?hn(a.injectImpl):null;lm(e,i,Pe.Default);try{r=e[n]=a.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function cC(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=tc(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==g&&hn(g),cc(c),a.resolving=!1,dm()}}return r}function Em(e,t,n){return!!(n[t+(e>>vm)]&1<<e)}function bm(e,t){return!(e&Pe.Self||e&Pe.Host&&t)}class Un{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Dm(this._tNode,this._lView,t,Uo(i),n)}}function DC(){return new Un(yn(),Y())}function Id(e){return Zi(e)?()=>{const t=Id(he(e));return t&&t()}:ro(e)}function Sm(e){const t=e[oe],n=t.type;return 2===n?t.declTNode:1===n?e[Ut]:null}const Ca="__parameters__";function ba(e,t,n){return dn(()=>{const i=function Sd(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return c.annotation=a,c;function c(f,g,M){const b=f.hasOwnProperty(Ca)?f[Ca]:Object.defineProperty(f,Ca,{value:[]})[Ca];for(;b.length<=M;)b.push(null);return(b[M]=b[M]||[]).push(a),f}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function Sa(e,t){e.forEach(n=>Array.isArray(n)?Sa(n,t):t(n))}function Tm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function gc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const _c=qr(ba("Optional"),8),vc=qr(ba("SkipSelf"),4);function Cc(e){return 128==(128&e.flags)}var Qo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qo||{});const Nd=new Map;let eE=0;const kd="__ngContext__";function In(e,t){pn(t)?(e[kd]=t[N],function nE(e){Nd.set(e[N],e)}(t)):e[kd]=t}let Od;function Fd(e,t){return Od(e,t)}function Gl(e){const t=e[ft];return tn(t)?t[ft]:t}function Qm(e){return Xm(e[eo])}function Km(e){return Xm(e[On])}function Xm(e){for(;null!==e&&!tn(e);)e=e[On];return e}function Pa(e,t,n,i,r){if(null!=i){let s,a=!1;tn(i)?s=i:pn(i)&&(a=!0,i=i[gt]);const c=mt(i);0===e&&null!==n?null==r?n_(t,n,c):Os(t,n,c,r||null,!0):1===e&&null!==n?Os(t,n,c,r||null,!0):2===e?function Lc(e,t,n){const i=xc(e,t);i&&function ME(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,c,a):3===e&&t.destroyNode(c),null!=s&&function EE(e,t,n,i,r){const s=n[zt];s!==mt(n)&&Pa(t,e,i,s,r);for(let c=Ht;c<n.length;c++){const f=n[c];Zl(f[oe],f,e,t,i,s)}}(t,e,s,n,r)}}function Ic(e,t,n){return e.createElement(t,n)}function e_(e,t){const n=e[no],i=n.indexOf(t);U(t),n.splice(i,1)}function Sc(e,t){if(e.length<=Ht)return;const n=Ht+t,i=e[n];if(i){const r=i[m];null!==r&&r!==e&&e_(r,i),t>0&&(e[n-1][On]=i[On]);const s=gc(e,Ht+t);!function fE(e,t){Zl(e,t,t[be],2,null,null),t[gt]=null,t[Ut]=null}(i[oe],i);const a=s[S];null!==a&&a.detachView(s[oe]),i[ft]=null,i[On]=null,i[me]&=-129}return i}function jd(e,t){if(!(256&t[me])){const n=t[be];t[ae]?.destroy(),t[de]?.destroy(),n.destroyNode&&Zl(e,t,n,3,null,null),function mE(e){let t=e[eo];if(!t)return Ud(e[oe],e);for(;t;){let n=null;if(pn(t))n=t[eo];else{const i=t[Ht];i&&(n=i)}if(!n){for(;t&&!t[On]&&t!==e;)pn(t)&&Ud(t[oe],t),t=t[ft];null===t&&(t=e),pn(t)&&Ud(t[oe],t),n=t&&t[On]}t=n}}(t)}}function Ud(e,t){if(!(256&t[me])){t[me]&=-129,t[me]|=256,function wE(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof Fl)){const s=n[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=r[s[a]],f=s[a+1];Li(4,c,f);try{f.call(c)}finally{Li(5,c,f)}}else{Li(4,r,s);try{s.call(r)}finally{Li(5,r,s)}}}}}(e,t),function yE(e,t){const n=e.cleanup,i=t[nr];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else n[s].call(i[n[s+1]]);null!==i&&(t[nr]=null);const r=t[H];if(null!==r){t[H]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(e,t),1===t[oe].type&&t[be].destroy();const n=t[m];if(null!==n&&tn(t[ft])){n!==t[ft]&&e_(n,t);const i=t[S];null!==i&&i.detachView(e)}!function iE(e){Nd.delete(e[N])}(t)}}function zd(e,t,n){return function t_(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[gt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===Gt.None||s===Gt.Emulated)return null}return bn(i,n)}}(e,t.parent,n)}function Os(e,t,n,i,r){e.insertBefore(t,n,i,r)}function n_(e,t,n){e.appendChild(t,n)}function i_(e,t,n,i,r){null!==i?Os(e,t,n,i,r):n_(e,t,n)}function xc(e,t){return e.parentNode(t)}let Hd,qd,s_=function o_(e,t,n){return 40&e.type?bn(e,n):null};function Tc(e,t,n,i){const r=zd(e,i,t),s=t[be],c=function r_(e,t,n){return s_(e,t,n)}(i.parent||t[Ut],i,t);if(null!=r)if(Array.isArray(n))for(let f=0;f<n.length;f++)i_(s,r,n[f],c,!1);else i_(s,r,n,c,!1);void 0!==Hd&&Hd(s,i,t,n,r)}function ql(e,t){if(null!==t){const n=t.type;if(3&n)return bn(t,e);if(4&n)return Vd(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return ql(e,i);{const r=e[t.index];return tn(r)?Vd(-1,r):mt(r)}}if(32&n)return Fd(t,e)()||mt(e[t.index]);{const i=l_(e,t);return null!==i?Array.isArray(i)?i[0]:ql(Gl(e[h]),i):ql(e,t.next)}}return null}function l_(e,t){return null!==t?e[h][Ut].projection[t.projection]:null}function Vd(e,t){const n=Ht+e+1;if(n<t.length){const i=t[n],r=i[oe].firstChild;if(null!==r)return ql(i,r)}return t[zt]}function $d(e,t,n,i,r,s,a){for(;null!=n;){const c=i[n.index],f=n.type;if(a&&0===t&&(c&&In(mt(c),i),n.flags|=2),32!=(32&n.flags))if(8&f)$d(e,t,n.child,i,r,s,!1),Pa(t,e,r,c,s);else if(32&f){const g=Fd(n,i);let M;for(;M=g();)Pa(t,e,r,M,s);Pa(t,e,r,c,s)}else 16&f?c_(e,t,i,n,r,s):Pa(t,e,r,c,s);n=a?n.projectionNext:n.next}}function Zl(e,t,n,i,r,s){$d(n,i,e.firstChild,t,r,s,!1)}function c_(e,t,n,i,r,s){const a=n[h],f=a[Ut].projection[i.projection];if(Array.isArray(f))for(let g=0;g<f.length;g++)Pa(t,e,r,f[g],s);else{let g=f;const M=a[ft];Cc(i)&&(g.flags|=128),$d(e,t,g,M,r,s,!0)}}function h_(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function d_(e,t,n){const{mergedAttrs:i,classes:r,styles:s}=n;null!==i&&Rn(e,t,i),null!==r&&h_(e,t,r),null!==s&&function IE(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class Me{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=we({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Kl=new Me("ENVIRONMENT_INITIALIZER"),I_=new Me("INJECTOR",-1),S_=new Me("INJECTOR_DEF_TYPES");class Xd{get(t,n=vr){if(n===vr){const i=new Error(`NullInjectorError: No provider for ${Le(t)}!`);throw i.name="NullInjectorError",i}return n}}function JE(...e){return{\u0275providers:T_(0,e),\u0275fromNgModule:!0}}function T_(e,...t){const n=[],i=new Set;let r;const s=a=>{n.push(a)};return Sa(t,a=>{const c=a;Rc(c,s,[],i)&&(r||=[],r.push(c))}),void 0!==r&&L_(r,s),n}function L_(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:r}=e[n];Jd(r,s=>{t(s,i)})}}function Rc(e,t,n,i){if(!(e=he(e)))return!1;let r=null,s=zr(e);const a=!s&&Qe(e);if(s||a){if(a&&!a.standalone)return!1;r=e}else{const f=e.ngModule;if(s=zr(f),!s)return!1;r=f}const c=i.has(r);if(a){if(c)return!1;if(i.add(r),a.dependencies){const f="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const g of f)Rc(g,t,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let g;i.add(r);try{Sa(s.imports,M=>{Rc(M,t,n,i)&&(g||=[],g.push(M))})}finally{}void 0!==g&&L_(g,t)}if(!c){const g=ro(r)||(()=>new r);t({provide:r,useFactory:g,deps:$e},r),t({provide:S_,useValue:r,multi:!0},r),t({provide:Kl,useValue:()=>ge(r),multi:!0},r)}const f=s.providers;if(null!=f&&!c){const g=e;Jd(f,M=>{t(M,g)})}}}return r!==e&&void 0!==e.providers}function Jd(e,t){for(let n of e)Yn(n)&&(n=n.\u0275providers),Array.isArray(n)?Jd(n,t):t(n)}const eb=et({provide:String,useValue:et});function ef(e){return null!==e&&"object"==typeof e&&eb in e}function Fs(e){return"function"==typeof e}const tf=new Me("Set Injector scope."),kc={},nb={};let nf;function Oc(){return void 0===nf&&(nf=new Xd),nf}class Ni{}class Fc extends Ni{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sf(t,a=>this.processProvider(a)),this.records.set(I_,ka(void 0,this)),r.has("environment")&&this.records.set(Ni,ka(void 0,this));const s=this.records.get(tf);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(S_.multi,$e,Pe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ui(this),i=hn(void 0);try{return t()}finally{ui(n),hn(i)}}get(t,n=vr,i=Pe.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Vo))return t[Vo](this);i=Uo(i);const s=ui(this),a=hn(void 0);try{if(!(i&Pe.SkipSelf)){let f=this.records.get(t);if(void 0===f){const g=function ab(e){return"function"==typeof e||"object"==typeof e&&e instanceof Me}(t)&&mr(t);f=g&&this.injectableDefInScope(g)?ka(rf(t),kc):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(i&Pe.Self?Oc():this.parent).get(t,n=i&Pe.Optional&&n===vr?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[Yi]=c[Yi]||[]).unshift(Le(t)),s)throw c;return function yr(e,t,n,i){const r=e[Yi];throw t[Xn]&&r.unshift(t[Xn]),e.message=function bl(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Le(t);if(Array.isArray(t))r=t.map(Le).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):Le(c)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(bs,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Yi]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{hn(a),ui(s)}}resolveInjectorInitializers(){const t=ui(this),n=hn(void 0);try{const r=this.get(Kl.multi,$e,Pe.Self);for(const s of r)s()}finally{ui(t),hn(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Le(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(t){let n=Fs(t=he(t))?t:he(t&&t.provide);const i=function rb(e){return ef(e)?ka(void 0,e.useValue):ka(function N_(e,t,n){let i;if(Fs(e)){const r=he(e);return ro(r)||rf(r)}if(ef(e))i=()=>he(e.useValue);else if(function A_(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...zo(e.deps||[]));else if(function P_(e){return!(!e||!e.useExisting)}(e))i=()=>ge(he(e.useExisting));else{const r=he(e&&(e.useClass||e.provide));if(!function ob(e){return!!e.deps}(e))return ro(r)||rf(r);i=()=>new r(...zo(e.deps))}return i}(e),kc)}(t);if(Fs(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=ka(void 0,kc,!0),r.factory=()=>zo(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===kc&&(n.value=nb,n.value=n.factory()),"object"==typeof n.value&&n.value&&function sb(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=he(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function rf(e){const t=mr(e),n=null!==t?t.factory:ro(e);if(null!==n)return n;if(e instanceof Me)throw new K(204,!1);if(e instanceof Function)return function ib(e){const t=e.length;if(t>0)throw function Hl(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new K(204,!1);const n=function Dl(e){return e&&(e[Ve]||e[Jt])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new K(204,!1)}function ka(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function sf(e,t){for(const n of e)Array.isArray(n)?sf(n,t):n&&Yn(n)?sf(n.\u0275providers,t):t(n)}const Bc=new Me("AppId",{providedIn:"root",factory:()=>lb}),lb="ng",R_=new Me("Platform Initializer"),Oa=new Me("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),k_=new Me("CSP nonce",{providedIn:"root",factory:()=>function Na(){if(void 0!==qd)return qd;if(typeof document<"u")return document;throw new K(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let F_=(e,t,n)=>null;function ff(e,t,n=!1){return F_(e,t,n)}class vb{}class U_{}class wb{resolveComponentFactory(t){throw function yb(e){const t=Error(`No component factory found for ${Le(e)}.`);return t.ngComponent=e,t}(t)}}let $c=(()=>{class t{}return t.NULL=new wb,t})();function Mb(){return Ba(yn(),Y())}function Ba(e,t){return new Xo(bn(e,t))}let Xo=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=Mb,t})();class H_{}let Eb=(()=>{var e;class t{}return(e=t).\u0275prov=we({token:e,providedIn:"root",factory:()=>null}),t})();class qc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bb=new qc("16.2.0"),mf={};function q_(e,t=null,n=null,i){const r=Z_(e,t,n,i);return r.resolveInjectorInitializers(),r}function Z_(e,t=null,n=null,i,r=new Set){const s=[n||$e,JE(e)];return i=i||("object"==typeof e?void 0:Le(e)),new Fc(s,t||Oc(),i||null,r)}let Ri=(()=>{var e;class t{static create(i,r){if(Array.isArray(i))return q_({name:""},r,i,"");{const s=i.name??"";return q_({name:s},i.parent,i.providers,s)}}}return(e=t).THROW_IF_NOT_FOUND=vr,e.NULL=new Xd,e.\u0275prov=we({token:e,providedIn:"any",factory:()=>ge(I_)}),e.__NG_ELEMENT_ID__=-1,t})();function co(e){return e instanceof Function?e():e}let yf=(()=>{var e;class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new K(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const i of this.callbacks)i.invoke()}finally{this.runningCallbacks=!1;for(const i of this.deferredCallbacks)this.callbacks.add(i);this.deferredCallbacks.clear()}}register(i){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(i)}unregister(i){this.callbacks.delete(i),this.deferredCallbacks.delete(i)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(e=t).\u0275prov=we({token:e,providedIn:"root",factory:()=>new e}),t})();function tu(e){for(;e;){e[me]|=64;const t=Gl(e);if(Ps(e)&&!t)return e;e=t}return null}function wf(e){return e.ngOriginalError}class Bs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&wf(t);for(;n&&wf(n);)n=wf(n);return n||null}}const X_=new Me("",{providedIn:"root",factory:()=>!1});class nv extends Ku{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){tu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,i){const r=Zt(this);this.trackingVersion++;try{t(n,i)}finally{Zt(r)}}destroy(){this.trackingVersion++}}let Wc=null;function iv(){return Wc??=new nv,Wc}function rv(e,t){return e[t]??iv()}function ov(e,t){const n=iv();n.hasReadASignal&&(e[t]=Wc,n.lView=e,Wc=new nv)}const Re={};function Se(e,t=Pe.Default){const n=Y();return null===n?ge(e,t):Dm(yn(),n,he(e),t)}function Yc(e,t,n,i,r,s,a,c,f,g,M){const b=t.blueprint.slice();return b[gt]=r,b[me]=140|i,(null!==g||e&&2048&e[me])&&(b[me]|=2048),T(b),b[ft]=b[l]=e,b[yt]=n,b[ir]=a||e&&e[ir],b[be]=c||e&&e[be],b[pi]=f||e&&e[pi]||null,b[Ut]=s,b[N]=function tE(){return eE++}(),b[W]=M,b[j]=g,b[h]=2==t.type?e[h]:b,b}function za(e,t,n,i,r){let s=e.data[t];if(null===s)s=function Mf(e,t,n,i,r){const s=im(),a=fd(),f=e.data[t]=function Yb(e,t,n,i,r,s){let a=t?t.injectorIndex:-1,c=0;return function Ue(){return null!==z.skipHydrationRootTNode}()&&(c|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=f),null!==s&&(a?null==s.child&&null!==f.parent&&(s.child=f):null===s.next&&(s.next=f,f.prev=s)),f}(e,t,n,i,r),function eC(){return z.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const a=function Ol(){const e=z.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Ir(s,!0),s}function nu(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function lv(e,t,n,i,r){const s=rv(t,ae),a=function jn(){return z.lFrame.selectedIndex}(),c=2&i;try{if(Rs(-1),c&&t.length>le&&function sv(e,t,n,i){if(!i)if(3==(3&t[me])){const s=e.preOrderCheckHooks;null!==s&&lc(t,s,n)}else{const s=e.preOrderHooks;null!==s&&uc(t,s,0,n)}Rs(n)}(e,t,le,!1),Li(c?2:0,r),c)s.runInContext(n,i,r);else{const g=Zt(null);try{n(i,r)}finally{Zt(g)}}}finally{c&&null===t[ae]&&ov(t,ae),Rs(a),Li(c?3:1,r)}}function Df(e,t,n){if(wt(t)){const i=Zt(null);try{const s=t.directiveEnd;for(let a=t.directiveStart;a<s;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}finally{Zt(i)}}}function uv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=bf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function bf(e,t,n,i,r,s,a,c,f,g,M){const b=le+i,P=b+r,A=function Vb(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Re);return n}(b,P),B="function"==typeof g?g():g;return A[oe]={type:e,blueprint:A,template:n,queries:null,viewQuery:c,declTNode:t,data:A.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:f,consts:B,incompleteFirstPass:!1,ssrId:M}}let cv=e=>null;function hv(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const s=e[r];null===i?dv(n,t,r,s):i.hasOwnProperty(r)&&dv(n,t,i[r],s)}return n}function dv(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function fv(e,t,n,i,r,s){for(let g=0;g<i.length;g++)bd(hc(n,t),e,i[g].type);!function a1(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let g=0;g<i.length;g++){const M=i[g];M.providersResolver&&M.providersResolver(M)}let a=!1,c=!1,f=nu(e,t,i.length,null);for(let g=0;g<i.length;g++){const M=i[g];n.mergedAttrs=Yr(n.mergedAttrs,M.hostAttrs),l1(e,n,t,f,M),s1(f,M,r),null!==M.contentQueries&&(n.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(n.flags|=64);const b=M.type.prototype;!a&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),a=!0),!c&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),f++}!function Qb(e,t,n){const r=t.directiveEnd,s=e.data,a=t.attrs,c=[];let f=null,g=null;for(let M=t.directiveStart;M<r;M++){const b=s[M],P=n?n.get(b):null,B=P?P.outputs:null;f=hv(b.inputs,M,f,P?P.inputs:null),g=hv(b.outputs,M,g,B);const V=null===f||null===a||Go(t)?null:h1(f,M,a);c.push(V)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=8),f.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=f,t.outputs=g}(e,n,s)}function pv(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,a=function nC(){return z.lFrame.currentDirectiveIndex}();try{Rs(s);for(let c=i;c<r;c++){const f=e.data[c],g=t[c];gd(c),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&i1(f,g)}}finally{Rs(-1),gd(a)}}function i1(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Sf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function s1(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Fn(t)&&(n[""]=e)}}function l1(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=ro(r.type)),a=new Fl(s,Fn(r),Se);e.blueprint[i]=a,n[i]=a,function e1(e,t,n,i,r){const s=r.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const c=~t.index;(function t1(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(n,i,s)}}(e,t,i,nu(e,n,r.hostVars,Re),r)}function c1(e,t,n,i,r,s){const a=s[t];if(null!==a)for(let c=0;c<a.length;)gv(i,n,a[c++],a[c++],a[c++])}function gv(e,t,n,i,r){const s=Zt(null);try{const a=e.inputTransforms;null!==a&&a.hasOwnProperty(i)&&(r=a[i].call(t,r)),null!==e.setInput?e.setInput(t,r,n,i):t[i]=r}finally{Zt(s)}}function h1(e,t,n){let i=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const a=e[s];for(let c=0;c<a.length;c+=2)if(a[c]===t){i.push(s,a[c+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function _v(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];_d(n[i]),a.contentQueries(2,t[s],s)}}}function Qc(e,t){return e[eo]?e[o][On]=t:e[eo]=t,e[o]=t,t}function Tf(e,t,n){_d(0);const i=Zt(null);try{t(e,n)}finally{Zt(i)}}function Mv(e,t){const n=e[pi],i=n?n.get(Bs,null):null;i&&i.handleError(t)}function Lf(e,t,n,i,r){for(let s=0;s<n.length;){const a=n[s++],c=n[s++];gv(e.data[a],t[a],i,c,r)}}function d1(e,t){const n=w(t,e),i=n[oe];!function f1(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const r=n[gt];null!==r&&null===n[W]&&(n[W]=ff(r,n[pi])),Pf(i,n,n[yt])}function Pf(e,t,n){vd(t);try{const i=e.viewQuery;null!==i&&Tf(1,i,n);const r=e.template;null!==r&&lv(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_v(e,t),e.staticViewQueries&&Tf(2,e.viewQuery,n);const s=e.components;null!==s&&function p1(e,t){for(let n=0;n<t.length;n++)d1(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[me]&=-5,yd()}}let Dv=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(i,r,s){const a=typeof Zone>"u"?null:Zone.current,c=new sd(i,M=>{this.all.has(M)&&this.queue.set(M,a)},s);let f;this.all.add(c),c.notify();const g=()=>{c.cleanup(),f?.(),this.all.delete(c),this.queue.delete(c)};return f=r?.onDestroy(g),{destroy:g}}flush(){if(0!==this.queue.size)for(const[i,r]of this.queue)this.queue.delete(i),r?r.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=we({token:e,providedIn:"root",factory:()=>new e}),t})();function Kc(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?s=c:1==s?r=qi(r,c):2==s&&(i=qi(i,c+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function iu(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(mt(s)),tn(s)){for(let c=Ht;c<s.length;c++){const f=s[c],g=f[oe].firstChild;null!==g&&iu(f[oe],f,g,i)}s[zt]!==s[gt]&&i.push(s[zt])}const a=n.type;if(8&a)iu(e,t,n.child,i);else if(32&a){const c=Fd(n,t);let f;for(;f=c();)i.push(f)}else if(16&a){const c=l_(t,n);if(Array.isArray(c))i.push(...c);else{const f=Gl(t[h]);iu(f[oe],f,c,i,!0)}}n=r?n.projectionNext:n.next}return i}function Xc(e,t,n,i=!0){const r=t[ir],s=r.rendererFactory,a=r.afterRenderEventManager;s.begin?.(),a?.begin();try{Cv(e,t,e.template,n)}catch(f){throw i&&Mv(t,f),f}finally{s.end?.(),r.effectManager?.flush(),a?.end()}}function Cv(e,t,n,i){const r=t[me];if(256!=(256&r)){t[ir].effectManager?.flush(),vd(t);try{T(t),function om(e){return z.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&lv(e,t,n,2,i);const a=3==(3&r);if(a){const g=e.preOrderCheckHooks;null!==g&&lc(t,g,null)}else{const g=e.preOrderHooks;null!==g&&uc(t,g,0,null),wd(t,0)}if(function _1(e){for(let t=Qm(e);null!==t;t=Km(t)){if(!t[to])continue;const n=t[no];for(let i=0;i<n.length;i++){R(n[i])}}}(t),Ev(t,2),null!==e.contentQueries&&_v(e,t),a){const g=e.contentCheckHooks;null!==g&&lc(t,g)}else{const g=e.contentHooks;null!==g&&uc(t,g,1),wd(t,1)}!function Hb(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=rv(t,de);try{for(let r=0;r<n.length;r++){const s=n[r];if(s<0)Rs(~s);else{const a=s,c=n[++r],f=n[++r];tC(c,a),i.runInContext(f,2,t[a])}}}finally{null===t[de]&&ov(t,de),Rs(-1)}}(e,t);const c=e.components;null!==c&&Iv(t,c,0);const f=e.viewQuery;if(null!==f&&Tf(2,f,i),a){const g=e.viewCheckHooks;null!==g&&lc(t,g)}else{const g=e.viewHooks;null!==g&&uc(t,g,2),wd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[me]&=-73,U(t)}finally{yd()}}}function Ev(e,t){for(let n=Qm(e);null!==n;n=Km(n))for(let i=Ht;i<n.length;i++)bv(n[i],t)}function v1(e,t,n){bv(w(t,e),n)}function bv(e,t){if(!function E(e){return 128==(128&e[me])}(e))return;const n=e[oe];if(80&e[me]&&0===t||1024&e[me]||2===t)Cv(n,e,n.template,e[yt]);else if(e[Cr]>0){Ev(e,1);const r=e[oe].components;null!==r&&Iv(e,r,1)}}function Iv(e,t,n){for(let i=0;i<t.length;i++)v1(e,t[i],n)}class ru{get rootNodes(){const t=this._lView,n=t[oe];return iu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yt]}set context(t){this._lView[yt]=t}get destroyed(){return 256==(256&this._lView[me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ft];if(tn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Sc(t,i),gc(n,i))}this._attachedToViewContainer=!1}jd(this._lView[oe],this._lView)}onDestroy(t){!function q(e,t){if(256==(256&e[me]))throw new K(911,!1);null===e[H]&&(e[H]=[]),e[H].push(t)}(this._lView,t)}markForCheck(){tu(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){this._lView[me]|=128}detectChanges(){Xc(this._lView[oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gE(e,t){Zl(e,t,t[be],2,null,null)}(this._lView[oe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=t}}class y1 extends ru{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Xc(t[oe],t,t[yt],!1)}checkNoChanges(){}get context(){return null}}class Sv extends $c{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Qe(t);return new ou(n,this.ngModule)}}function xv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class M1{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Uo(i);const r=this.injector.get(t,mf,i);return r!==mf||n===mf?r:this.parentInjector.get(t,n,i)}}class ou extends U_{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=xv(t.inputs);if(null!==n)for(const r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return xv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Il(e){return e.map(Kr).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=(r=r||this.ngModule)instanceof Ni?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new M1(t,s):t,c=a.get(H_,null);if(null===c)throw new K(407,!1);const b={rendererFactory:c,sanitizer:a.get(Eb,null),effectManager:a.get(Dv,null),afterRenderEventManager:a.get(yf,null)},P=c.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",B=i?function $b(e,t,n,i){const s=i.get(X_,!1)||n===Gt.ShadowDom,a=e.selectRootElement(t,s);return function Gb(e){cv(e)}(a),a}(P,i,this.componentDef.encapsulation,a):Ic(P,A,function w1(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(A)),ie=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let $=null;null!==B&&($=ff(B,a,!0));const ve=bf(0,null,null,1,0,null,null,null,null,null,null),Te=Yc(null,ve,null,ie,null,null,b,P,a,null,$);let Xe,oi;vd(Te);try{const wo=this.componentDef;let fl,Bg=null;wo.findHostDirectiveDefs?(fl=[],Bg=new Map,wo.findHostDirectiveDefs(wo,fl,Bg),fl.push(wo)):fl=[wo];const iO=function C1(e,t){const n=e[oe],i=le;return e[i]=t,za(n,i,2,"#host",null)}(Te,B),rO=function E1(e,t,n,i,r,s,a){const c=r[oe];!function b1(e,t,n,i){for(const r of e)t.mergedAttrs=Yr(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Kc(t,t.mergedAttrs,!0),null!==n&&d_(i,n,t))}(i,e,t,a);let f=null;null!==t&&(f=ff(t,r[pi]));const g=s.rendererFactory.createRenderer(t,n);let M=16;n.signals?M=4096:n.onPush&&(M=64);const b=Yc(r,uv(n),null,M,r[e.index],e,s,g,null,null,f);return c.firstCreatePass&&Sf(c,e,i.length-1),Qc(r,b),r[e.index]=b}(iO,B,wo,fl,Te,b,P);oi=function d(e,t){return e.data[t]}(ve,le),B&&function S1(e,t,n,i){if(i)Rn(e,n,["ng-version",bb.full]);else{const{attrs:r,classes:s}=function da(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!fn(r))break;r=s}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&Rn(e,n,r),s&&s.length>0&&h_(e,n,s.join(" "))}}(P,wo,B,i),void 0!==n&&function x1(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const s=n[r];i.push(null!=s?Array.from(s):null)}}(oi,this.ngContentSelectors,n),Xe=function I1(e,t,n,i,r,s){const a=yn(),c=r[oe],f=bn(a,r);fv(c,r,a,n,null,i);for(let M=0;M<n.length;M++)In(ks(r,c,a.directiveStart+M,a),r);pv(c,r,a),f&&In(f,r);const g=ks(r,c,a.directiveStart+a.componentOffset,a);if(e[yt]=r[yt]=g,null!==s)for(const M of s)M(g,t);return Df(c,a,e),g}(rO,wo,fl,Bg,Te,[T1]),Pf(ve,Te,null)}finally{yd()}return new D1(this.componentType,Xe,Ba(oi,Te),Te,oi)}}class D1 extends vb{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new y1(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Lf(s[oe],s,r,t,n),this.previousInputValues.set(t,n),tu(w(this._tNode.index,s))}}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function T1(){const e=yn();ac(Y()[oe],e)}function jf(e,t,n,i,r){const a=r?"class":"style";Lf(e,n,t.inputs[a],a,i)}function oh(e,t,n,i){const r=Y(),s=Ze(),a=le+e,c=r[be],f=s.firstCreatePass?function cI(e,t,n,i,r,s){const a=t.consts,f=za(t,e,2,i,C(a,r));return function If(e,t,n,i){if(it()){const r=null===i?null:{"":-1},s=function r1(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(hi(t,a.selectors,!1))if(i||(i=[]),Fn(a))if(null!==a.findHostDirectiveDefs){const c=[];r=r||new Map,a.findHostDirectiveDefs(a,c,r),i.unshift(...c,a),Sf(e,t,c.length)}else i.unshift(a),Sf(e,t,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(e,n);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&fv(e,t,n,a,r,c),r&&function o1(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new K(-301,!1);i.push(t[r],s)}}}(n,i,r)}n.mergedAttrs=Yr(n.mergedAttrs,n.attrs)}(t,n,f,C(a,s)),null!==f.attrs&&Kc(f,f.attrs,!1),null!==f.mergedAttrs&&Kc(f,f.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,f),f}(a,s,r,t,n,i):s.data[a],g=Qv(s,r,f,c,t,e);r[a]=g;const M=Zo(f);return Ir(f,!0),d_(c,g,f),32!=(32&f.flags)&&function sc(){return pm}()&&Tc(s,r,g,f),0===function fe(){return z.lFrame.elementDepthCount}()&&In(g,r),function Oe(){z.lFrame.elementDepthCount++}(),M&&(function Cf(e,t,n){it()&&(function n1(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;ti(n)&&function u1(e,t,n){const i=bn(t,e),r=uv(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const c=Qc(e,Yc(e,r,null,a,i,t,null,e[ir].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=c}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||hc(n,t),In(i,t);const a=n.initialInputs;for(let c=r;c<s;c++){const f=e.data[c],g=ks(t,e,c,n);In(g,t),null!==a&&c1(0,c-r,g,f,0,a),Fn(f)&&(w(n.index,t)[yt]=ks(t,e,c,n))}}(e,t,n,bn(n,t)),64==(64&n.flags)&&pv(e,t,n))}(s,r,f),Df(s,f,r)),null!==i&&function Ef(e,t,n=bn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],c=-1===a?n(t,e):e[a];e[r++]=c}}}(r,f),oh}function sh(){let e=yn();fd()?function pd(){z.lFrame.isParent=!1}():(e=e.parent,Ir(e,!1));const t=e;(function rt(e){return z.skipHydrationRootTNode===e})(t)&&function so(){z.skipHydrationRootTNode=null}(),function Ge(){z.lFrame.elementDepthCount--}();const n=Ze();return n.firstCreatePass&&(ac(n,e),wt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function fC(e){return 0!=(8&e.flags)}(t)&&jf(n,t,Y(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function pC(e){return 0!=(16&e.flags)}(t)&&jf(n,t,Y(),t.stylesWithoutHost,!1),sh}function Uf(e,t,n,i){return oh(e,t,n,i),sh(),Uf}let Qv=(e,t,n,i,r,s)=>(function Yo(e){pm=e}(!0),Ic(i,r,function fm(){return z.lFrame.currentNamespace}()));function ah(e){return!!e&&"function"==typeof e.then}function Jv(e){return!!e&&"function"==typeof e.subscribe}function lh(e,t,n,i){const r=Y(),s=Ze(),a=yn();return function ty(e,t,n,i,r,s,a){const c=Zo(i),g=e.firstCreatePass&&function yv(e){return e.cleanup||(e.cleanup=[])}(e),M=t[yt],b=function vv(e){return e[nr]||(e[nr]=[])}(t);let P=!0;if(3&i.type||a){const V=bn(i,t),ee=a?a(V):V,ie=b.length,$=a?Te=>a(mt(Te[i.index])):i.index;let ve=null;if(!a&&c&&(ve=function _I(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===n&&r[s+1]===i){const c=t[nr],f=r[s+2];return c.length>f?c[f]:null}"string"==typeof a&&(s+=2)}return null}(e,t,r,i.index)),null!==ve)(ve.__ngLastListenerFn__||ve).__ngNextListenerFn__=s,ve.__ngLastListenerFn__=s,P=!1;else{s=iy(i,t,M,s,!1);const Te=n.listen(ee,r,s);b.push(s,Te),g&&g.push(r,$,ie,ie+1)}}else s=iy(i,t,M,s,!1);const A=i.outputs;let B;if(P&&null!==A&&(B=A[r])){const V=B.length;if(V)for(let ee=0;ee<V;ee+=2){const Xe=t[B[ee]][B[ee+1]].subscribe(s),oi=b.length;b.push(s,Xe),g&&g.push(r,i.index,oi,-(oi+1))}}}(s,r,r[be],a,e,t,i),lh}function ny(e,t,n,i){try{return Li(6,t,n),!1!==n(i)}catch(r){return Mv(e,r),!1}finally{Li(7,t,n)}}function iy(e,t,n,i,r){return function s(a){if(a===Function)return i;tu(e.componentOffset>-1?w(e.index,t):t);let f=ny(t,n,i,a),g=s.__ngNextListenerFn__;for(;g;)f=ny(t,n,g,a)&&f,g=g.__ngNextListenerFn__;return r&&!1===f&&a.preventDefault(),f}}const Ja="en-US";let Ky=Ja;class Hs{}class E0{}class tp extends Hs{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sv(this);const r=vn(t);this._bootstrapComponents=co(r.bootstrap),this._r3Injector=Z_(t,n,[{provide:Hs,useValue:this},{provide:$c,useValue:this.componentFactoryResolver},...i],Le(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class np extends E0{constructor(t){super(),this.moduleType=t}create(t){return new tp(this.moduleType,t,[])}}class b0 extends Hs{constructor(t){super(),this.componentFactoryResolver=new Sv(this),this.instance=null;const n=new Fc([...t.providers,{provide:Hs,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],t.parent||Oc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ip(e,t,n=null){return new b0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let gx=(()=>{var e;class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const r=T_(0,i.type),s=r.length>0?ip([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=we({token:e,providedIn:"environment",factory:()=>new e(ge(Ni))}),t})();function I0(e){e.getStandaloneInjector=t=>t.get(gx).getOrCreateStandaloneInjector(e)}function op(e){return t=>{setTimeout(e,void 0,t)}}const Hn=class zx extends Je{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,s=n||(()=>null),a=i;if(t&&"object"==typeof t){const f=t;r=f.next?.bind(f),s=f.error?.bind(f),a=f.complete?.bind(f)}this.__isAsync&&(s=op(s),r&&(r=op(r)),a&&(a=op(a)));const c=super.subscribe({next:r,error:s,complete:a});return t instanceof F&&t.add(c),c}};function $x(e,t,n,i=!0){const r=t[oe];if(function _E(e,t,n,i){const r=Ht+i,s=n.length;i>0&&(n[r-1][On]=t),i<s-Ht?(t[On]=n[r],Tm(n,Ht+i,t)):(n.push(t),t[On]=null),t[ft]=n;const a=t[m];null!==a&&n!==a&&function vE(e,t){const n=e[no];t[h]!==t[ft][ft][h]&&(e[to]=!0),null===n?e[no]=[t]:n.push(t)}(a,t);const c=t[S];null!==c&&c.insertView(e),t[me]|=128}(r,t,e,n),i){const s=Vd(n,e),a=t[be],c=xc(a,e[zt]);null!==c&&function pE(e,t,n,i,r,s){i[gt]=r,i[Ut]=t,Zl(e,i,n,1,r,s)}(r,e[Ut],a,t,c,s)}}let sr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Jx,t})();function Jx(){return function $0(e,t){let n;const i=t[e.index];return tn(i)?n=i:(n=function mv(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}(i,t,null,e),t[e.index]=n,Qc(t,n)),G0(n,t,e,i),new H0(n,e,t)}(yn(),Y())}const eT=sr,H0=class extends eT{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){const t=dc(this._hostTNode,this._hostLView);if(Dd(t)){const n=jl(t,this._hostLView),i=Bl(t);return new Un(n[oe].data[i+8],n)}return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=V0(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(t,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const c=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(c,r,false),c}createComponent(t,n,i,r,s){const a=t&&!function zl(e){return"function"==typeof e}(t);let c;if(a)c=n;else{const V=n||{};c=V.index,i=V.injector,r=V.projectableNodes,s=V.environmentInjector||V.ngModuleRef}const f=a?t:new ou(Qe(t)),g=i||this.parentInjector;if(!s&&null==f.ngModule){const ee=(a?g:this.parentInjector).get(Ni,null);ee&&(s=ee)}Qe(f.componentType??{});const A=f.create(g,r,null,s);return this.insertImpl(A.hostView,c,false),A}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const r=t._lView;if(function I(e){return tn(e[ft])}(r)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=r[ft],M=new H0(g,g[Ut],g[ft]);M.detach(M.indexOf(t))}}const a=this._adjustIndex(n),c=this._lContainer;return $x(c,r,a,!i),t.attachToViewContainerRef(),Tm(ap(c),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=V0(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Sc(this._lContainer,n);i&&(gc(ap(this._lContainer),n),jd(i[oe],i))}detach(t){const n=this._adjustIndex(t,-1),i=Sc(this._lContainer,n);return i&&null!=gc(ap(this._lContainer),n)?new ru(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function V0(e){return e[8]}function ap(e){return e[8]||(e[8]=[])}let G0=function q0(e,t,n,i){if(e[zt])return;let r;r=8&n.type?mt(i):function tT(e,t){const n=e[be],i=n.createComment(""),r=bn(t,e);return Os(n,xc(n,r),i,function DE(e,t){return e.nextSibling(t)}(n,r),!1),i}(t,n),e[zt]=r};const vp=new Me("Application Initializer");let yp=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=ce(vp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const s of this.appInits){const a=s();if(ah(a))i.push(a);else if(Jv(a)){const c=new Promise((f,g)=>{a.subscribe({complete:f,error:g})});i.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),0===i.length&&r(),this.initialized=!0}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),_w=(()=>{var e;class t{log(i){console.log(i)}warn(i){console.warn(i)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const po=new Me("LocaleId",{providedIn:"root",factory:()=>ce(po,Pe.Optional|Pe.SkipSelf)||function AT(){return typeof $localize<"u"&&$localize.locale||Ja}()});let vw=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lt(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class kT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let yw=(()=>{var e;class t{compileModuleSync(i){return new np(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const r=this.compileModuleSync(i),a=co(vn(i).declarations).reduce((c,f)=>{const g=Qe(f);return g&&c.push(new ou(g)),c},[]);return new kT(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Cw(...e){}class Nt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hn(!1),this.onMicrotaskEmpty=new Hn(!1),this.onStable=new Hn(!1),this.onError=new Hn(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function tL(){const e="function"==typeof tt.requestAnimationFrame;let t=tt[e?"requestAnimationFrame":"setTimeout"],n=tt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function rL(e){const t=()=>{!function iL(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Cp(e),e.isCheckStableRunning=!0,Dp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Cp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,a,c)=>{try{return Ew(e),n.invokeTask(r,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),bw(e)}},onInvoke:(n,i,r,s,a,c,f)=>{try{return Ew(e),n.invoke(r,s,a,c,f)}finally{e.shouldCoalesceRunChangeDetection&&t(),bw(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Cp(e),Dp(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nt.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Nt.isInAngularZone())throw new K(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,nL,Cw,Cw);try{return s.runTask(a,n,i)}finally{s.cancelTask(a)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const nL={};function Dp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ew(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function bw(e){e._nesting--,Dp(e)}class oL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hn,this.onMicrotaskEmpty=new Hn,this.onStable=new Hn,this.onError=new Hn}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const Iw=new Me("",{providedIn:"root",factory:Sw});function Sw(){const e=ce(Nt);let t=!0;return function oa(...e){const t=Br(e),n=function ia(e,t){return"number"==typeof cs(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?ai(i[0]):Ci(n)(dt(i,t)):Xt}(new qe(r=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(t),r.complete()})}),new qe(r=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const a=e.onUnstable.subscribe(()=>{Nt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(Ye()))}const xw=new Me(""),yh=new Me("");let Ip,Ep=(()=>{var e;class t{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ip||(function sL(e){Ip=e}(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(i)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:a,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Nt),ge(bp),ge(yh))},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})(),bp=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Ip?.findTestabilityInTree(this,i,r)??null}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),es=null;const Tw=new Me("AllowMultipleToken"),Sp=new Me("PlatformDestroyListeners"),xp=new Me("appBootstrapListener");class Pw{constructor(t,n){this.name=t,this.token=n}}function Nw(e,t,n=[]){const i=`Platform: ${t}`,r=new Me(i);return(s=[])=>{let a=Tp();if(!a||a.injector.get(Tw,!1)){const c=[...n,...s,{provide:r,useValue:!0}];e?e(c):function uL(e){if(es&&!es.get(Tw,!1))throw new K(400,!1);(function Lw(){!function Xu(e){Rl=e}(()=>{throw new K(600,!1)})})(),es=e;const t=e.get(kw);(function Aw(e){e.get(R_,null)?.forEach(n=>n())})(e)}(function Rw(e=[],t){return Ri.create({name:t,providers:[{provide:tf,useValue:"platform"},{provide:Sp,useValue:new Set([()=>es=null])},...e]})}(c,i))}return function hL(e){const t=Tp();if(!t)throw new K(401,!1);return t}()}}function Tp(){return es?.get(kw)??null}let kw=(()=>{var e;class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){const s=function dL(e="zone.js",t){return"noop"===e?new oL:"zone.js"===e?new Nt(t):e}(r?.ngZone,function Ow(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{const a=function px(e,t,n){return new tp(e,t,n)}(i.moduleType,this.injector,function zw(e){return[{provide:Nt,useFactory:e},{provide:Kl,multi:!0,useFactory:()=>{const t=ce(pL,{optional:!0});return()=>t.initialize()}},{provide:Uw,useFactory:fL},{provide:Iw,useFactory:Sw}]}(()=>s)),c=a.injector.get(Bs,null);return s.runOutsideAngular(()=>{const f=s.onError.subscribe({next:g=>{c.handleError(g)}});a.onDestroy(()=>{wh(this._modules,a),f.unsubscribe()})}),function Fw(e,t,n){try{const i=n();return ah(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(c,s,()=>{const f=a.injector.get(yp);return f.runInitializers(),f.donePromise.then(()=>(function Xy(e){Pt(e,"Expected localeId to be defined"),"string"==typeof e&&(Ky=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(po,Ja)||Ja),this._moduleDoBootstrap(a),a))})})}bootstrapModule(i,r=[]){const s=Bw({},r);return function aL(e,t,n){const i=new np(n);return Promise.resolve(i)}(0,0,i).then(a=>this.bootstrapModuleFactory(a,s))}_moduleDoBootstrap(i){const r=i.injector.get(nl);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!i.instance.ngDoBootstrap)throw new K(-403,!1);i.instance.ngDoBootstrap(r)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const i=this._injector.get(Sp,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Ri))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function Bw(e,t){return Array.isArray(t)?t.reduce(Bw,e):{...e,...t}}let nl=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(Uw),this.zoneIsStable=ce(Iw),this.componentTypes=[],this.components=[],this.isStable=ce(vw).hasPendingTasks.pipe(ln(i=>i?De(!1):this.zoneIsStable),function fr(e,t=Mn){return e=e??Gi,xe((n,i)=>{let r,s=!0;n.subscribe(new Ne(i,a=>{const c=t(a);(s||!e(r,c))&&(s=!1,r=c,i.next(a))}))})}(),Ye()),this._injector=ce(Ni)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){const s=i instanceof U_;if(!this._injector.get(yp).done)throw!s&&function tr(e){const t=Qe(e)||vt(e)||qt(e);return null!==t&&t.standalone}(i),new K(405,!1);let c;c=s?i:this._injector.get($c).resolveComponentFactory(i),this.componentTypes.push(c.componentType);const f=function lL(e){return e.isBoundToModule}(c)?void 0:this._injector.get(Hs),M=c.create(Ri.NULL,[],r||c.selector,f),b=M.location.nativeElement,P=M.injector.get(xw,null);return P?.registerApplication(b),M.onDestroy(()=>{this.detachView(M.hostView),wh(this.components,M),P?.unregisterApplication(b)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){const r=i;wh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const r=this._injector.get(xp,[]);r.push(...this._bootstrapListeners),r.forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>wh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new K(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function wh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Uw=new Me("",{providedIn:"root",factory:()=>ce(Bs).handleError.bind(void 0)});function fL(){const e=ce(Nt),t=ce(Bs);return n=>e.runOutsideAngular(()=>t.handleError(n))}let pL=(()=>{var e;class t{constructor(){this.zone=ce(Nt),this.applicationRef=ce(nl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();let Lp=(()=>{class t{}return t.__NG_ELEMENT_ID__=mL,t})();function mL(e){return function _L(e,t,n){if(ti(e)&&!n){const i=w(e.index,t);return new ru(i,i)}return 47&e.type?new ru(t[h],t):null}(yn(),Y(),16==(16&e))}const LL=Nw(null,"core",[]);let PL=(()=>{var e;class t{constructor(i){}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(nl))},e.\u0275mod=En({type:e}),e.\u0275inj=Kn({}),t})(),Fp=null;function il(){return Fp}class GL{}const Oi=new Me("DocumentToken");let Bp=(()=>{var e;class t{historyGo(i){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:function(){return ce(ZL)},providedIn:"platform"}),t})();const qL=new Me("Location Initialized");let ZL=(()=>{var e;class t extends Bp{constructor(){super(),this._doc=ce(Oi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return il().getBaseHref(this._doc)}onPopState(i){const r=il().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=il().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function jp(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function rM(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function go(e){return e&&"?"!==e[0]?"?"+e:e}let $s=(()=>{var e;class t{historyGo(i){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:function(){return ce(sM)},providedIn:"root"}),t})();const oM=new Me("appBaseHref");let sM=(()=>{var e;class t extends $s{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ce(Oi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return jp(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+go(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,a){const c=this.prepareExternalUrl(s+go(a));this._platformLocation.pushState(i,r,c)}replaceState(i,r,s,a){const c=this.prepareExternalUrl(s+go(a));this._platformLocation.replaceState(i,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Bp),ge(oM,8))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),WL=(()=>{var e;class t extends $s{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=jp(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,a){let c=this.prepareExternalUrl(s+go(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(i,r,c)}replaceState(i,r,s,a){let c=this.prepareExternalUrl(s+go(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Bp),ge(oM,8))},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})(),Up=(()=>{var e;class t{constructor(i){this._subject=new Hn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function KL(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(rM(aM(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+go(r))}normalize(i){return t.stripTrailingSlash(function QL(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,aM(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+go(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+go(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}}return(e=t).normalizeQueryParams=go,e.joinWithSlash=jp,e.stripTrailingSlash=rM,e.\u0275fac=function(i){return new(i||e)(ge($s))},e.\u0275prov=we({token:e,factory:function(){return function YL(){return new Up(ge($s))}()},providedIn:"root"}),t})();function aM(e){return e.replace(/\/index.html$/,"")}let dA=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=En({type:e}),e.\u0275inj=Kn({}),t})();function CM(e){return"server"===e}let mA=(()=>{var e;class t{}return(e=t).\u0275prov=we({token:e,providedIn:"root",factory:()=>new _A(ge(Oi),window)}),t})();class _A{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function vA(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class HA extends GL{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ig extends HA{static makeCurrent(){!function $L(e){Fp||(Fp=e)}(new ig)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function VA(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}();return null==n?null:function $A(e){Fh=Fh||document.createElement("a"),Fh.setAttribute("href",e);const t=Fh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function kP(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Fh,Eu=null,qA=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();const rg=new Me("EventManagerPlugins");let xM=(()=>{var e;class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(rg),ge(Nt))},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();class TM{constructor(t){this._doc=t}}const og="ng-app-id";let LM=(()=>{var e;class t{constructor(i,r,s,a={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=CM(a),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${og}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){const s=this.styleRef;if(s.has(i)){const a=s.get(i);return a.usage+=r,a.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const s=this.styleNodesInDOM,a=s?.get(r);if(a?.parentNode===i)return s.delete(r),a.removeAttribute(og),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(og,this.appId),c}}addStyleToHost(i,r){const s=this.getStyleElement(i,r);i.appendChild(s);const a=this.styleRef,c=a.get(r)?.elements;c?c.push(s):a.set(r,{elements:[s],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Oi),ge(Bc),ge(k_,8),ge(Oa))},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();const sg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ag=/%COMP%/g,QA=new Me("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function AM(e,t){return t.map(n=>n.replace(ag,e))}let NM=(()=>{var e;class t{constructor(i,r,s,a,c,f,g,M=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=f,this.ngZone=g,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=CM(f),this.defaultRenderer=new lg(i,c,g,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gt.ShadowDom&&(r={...r,encapsulation:Gt.Emulated});const s=this.getOrCreateRenderer(i,r);return s instanceof kM?s.applyToHost(i):s instanceof ug&&s.applyStyles(),s}getOrCreateRenderer(i,r){const s=this.rendererByCompId;let a=s.get(r.id);if(!a){const c=this.doc,f=this.ngZone,g=this.eventManager,M=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(r.encapsulation){case Gt.Emulated:a=new kM(g,M,r,this.appId,b,c,f,P);break;case Gt.ShadowDom:return new eN(g,M,i,r,c,f,this.nonce,P);default:a=new ug(g,M,r,b,c,f,P)}s.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(xM),ge(LM),ge(Bc),ge(QA),ge(Oi),ge(Oa),ge(Nt),ge(k_))},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();class lg{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(sg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(RM(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(RM(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new K(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=sg[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=sg[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Qo.DashCase|Qo.Important)?t.style.setProperty(n,i,r&Qo.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Qo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=il().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function RM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class eN extends lg{constructor(t,n,i,r,s,a,c,f){super(t,s,a,f),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=AM(r.id,r.styles);for(const M of g){const b=document.createElement("style");c&&b.setAttribute("nonce",c),b.textContent=M,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ug extends lg{constructor(t,n,i,r,s,a,c,f){super(t,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=f?AM(f,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class kM extends ug{constructor(t,n,i,r,s,a,c,f){const g=r+"-"+i.id;super(t,n,i,s,a,c,f,g),this.contentAttr=function KA(e){return"_ngcontent-%COMP%".replace(ag,e)}(g),this.hostAttr=function XA(e){return"_nghost-%COMP%".replace(ag,e)}(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let tN=(()=>{var e;class t extends TM{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Oi))},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();const OM=["alt","control","meta","shift"],nN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rN=(()=>{var e;class t extends TM{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,r,s){const a=t.parseEventName(r),c=t.eventCallback(a.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>il().onAndCancel(i,a.domEventName,c))}static parseEventName(i){const r=i.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const a=t._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),OM.forEach(M=>{const b=r.indexOf(M);b>-1&&(r.splice(b,1),c+=M+".")}),c+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=s,g.fullKey=c,g}static matchEventFullKeyCode(i,r){let s=nN[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(s=i.code,a="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),OM.forEach(c=>{c!==s&&(0,iN[c])(i)&&(a+=c+".")}),a+=s,a===r)}static eventCallback(i,r,s){return a=>{t.matchEventFullKeyCode(a,i)&&s.runGuarded(()=>r(a))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Oi))},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();const lN=Nw(LL,"browser",[{provide:Oa,useValue:"browser"},{provide:R_,useValue:function oN(){ig.makeCurrent()},multi:!0},{provide:Oi,useFactory:function aN(){return function LE(e){qd=e}(document),document},deps:[]}]),uN=new Me(""),jM=[{provide:yh,useClass:class GA{addToWindow(t){tt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new K(5103,!1);return s},tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),tt.getAllAngularRootElements=()=>t.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(i=>{const r=tt.getAllAngularTestabilities();let s=r.length,a=!1;const c=function(f){a=a||f,s--,0==s&&i(a)};r.forEach(f=>{f.whenStable(c)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?il().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:xw,useClass:Ep,deps:[Nt,bp,yh]},{provide:Ep,useClass:Ep,deps:[Nt,bp,yh]}],UM=[{provide:tf,useValue:"root"},{provide:Bs,useFactory:function sN(){return new Bs},deps:[]},{provide:rg,useClass:tN,multi:!0,deps:[Oi,Nt,Oa]},{provide:rg,useClass:rN,multi:!0,deps:[Oi]},NM,LM,xM,{provide:H_,useExisting:NM},{provide:class yA{},useClass:qA,deps:[]},[]];let cN=(()=>{var e;class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:Bc,useValue:i.appId}]}}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(uN,12))},e.\u0275mod=En({type:e}),e.\u0275inj=Kn({providers:[...UM,...jM],imports:[dA,PL]}),t})(),zM=(()=>{var e;class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(Oi))},e.\u0275prov=we({token:e,factory:function(i){let r=null;return r=i?new i:function dN(){return new zM(ge(Oi))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:vN}=Array,{getPrototypeOf:yN,prototype:wN,keys:MN}=Object;const{isArray:EN}=Array;function hg(...e){const t=Br(e),n=function hs(e){return ze(cs(e))?e.pop():void 0}(e),{args:i,keys:r}=function DN(e){if(1===e.length){const t=e[0];if(vN(t))return{args:t,keys:null};if(function CN(e){return e&&"object"==typeof e&&yN(e)===wN}(t)){const n=MN(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return dt([],t);const s=new qe(function xN(e,t,n=Mn){return i=>{GM(t,()=>{const{length:r}=e,s=new Array(r);let a=r,c=r;for(let f=0;f<r;f++)GM(t,()=>{const g=dt(e[f],t);let M=!1;g.subscribe(new Ne(i,b=>{s[f]=b,M||(M=!0,c--),c||i.next(n(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>function SN(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}(r,a):Mn));return n?s.pipe(function IN(e){return ke(t=>function bN(e,t){return EN(t)?e(...t):e(t)}(e,t))}(n)):s}function GM(e,t,n){e?Ln(n,e,t):t()}const Bh=_(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function dg(...e){return function TN(){return Ci(1)}()(dt(e,Br(e)))}function qM(e){return new qe(t=>{ai(e()).subscribe(t)})}function bu(e,t){const n=ze(e)?e:()=>e,i=r=>r.error(n());return new qe(t?r=>t.schedule(i,0,r):i)}function fg(){return xe((e,t)=>{let n=null;e._refCount++;const i=new Ne(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class ZM extends qe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ot(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new F;const n=this.getSubject();t.add(this.source.subscribe(new Ne(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=F.EMPTY)}return t}refCount(){return fg()(this)}}function ns(e,t){return xe((n,i)=>{let r=0;n.subscribe(new Ne(i,s=>e.call(t,s,r++)&&i.next(s)))})}function jh(e){return xe((t,n)=>{let i=!1;t.subscribe(new Ne(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function WM(e=PN){return xe((t,n)=>{let i=!1;t.subscribe(new Ne(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function PN(){return new Bh}function Gs(e,t){const n=arguments.length>=2;return i=>i.pipe(e?ns((r,s)=>e(r,s,i)):Mn,Pn(1),n?jh(t):WM(()=>new Bh))}function Iu(e,t){return ze(t)?It(e,t,1):It(e,1)}function Gn(e,t,n){const i=ze(e)||t||n?{next:e,error:t,complete:n}:e;return i?xe((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let c=!0;r.subscribe(new Ne(s,f=>{var g;null===(g=i.next)||void 0===g||g.call(i,f),s.next(f)},()=>{var f;c=!1,null===(f=i.complete)||void 0===f||f.call(i),s.complete()},f=>{var g;c=!1,null===(g=i.error)||void 0===g||g.call(i,f),s.error(f)},()=>{var f,g;c&&(null===(f=i.unsubscribe)||void 0===f||f.call(i)),null===(g=i.finalize)||void 0===g||g.call(i)}))}):Mn}function qs(e){return xe((t,n)=>{let s,i=null,r=!1;i=t.subscribe(new Ne(n,void 0,void 0,a=>{s=ai(e(a,qs(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function pg(e){return e<=0?()=>Xt:xe((t,n)=>{let i=[];t.subscribe(new Ne(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function gg(e){return xe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Be="primary",Su=Symbol("RouteTitle");class ON{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ol(e){return new ON(e)}function FN(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],c=e[s];if(a.startsWith(":"))r[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Ar(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!YM(e[r],t[r]))return!1;return!0}function YM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}return e===t}function QM(e){return e.length>0?e[e.length-1]:null}function is(e){return function _N(e){return!!e&&(e instanceof qe||ze(e.lift)&&ze(e.subscribe))}(e)?e:ah(e)?dt(Promise.resolve(e)):De(e)}const jN={exact:function JM(e,t,n){if(!Zs(e.segments,t.segments)||!Uh(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!JM(e.children[i],t.children[i],n))return!1;return!0},subset:eD},KM={exact:function UN(e,t){return Ar(e,t)},subset:function zN(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>YM(e[n],t[n]))},ignored:()=>!0};function XM(e,t,n){return jN[n.paths](e.root,t.root,n.matrixParams)&&KM[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function eD(e,t,n){return tD(e,t,t.segments,n)}function tD(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!Zs(r,n)||t.hasChildren()||!Uh(r,n,i))}if(e.segments.length===n.length){if(!Zs(e.segments,n)||!Uh(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!eD(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Zs(e.segments,r)&&Uh(e.segments,r,i)&&e.children[Be])&&tD(e.children[Be],t,s,i)}}function Uh(e,t,n){return t.every((i,r)=>KM[n](e[r].parameters,i.parameters))}class sl{constructor(t=new pt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ol(this.queryParams)),this._queryParamMap}toString(){return $N.serialize(this)}}class pt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zh(this)}}class xu{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ol(this.parameters)),this._parameterMap}toString(){return rD(this)}}function Zs(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let Tu=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:function(){return new mg},providedIn:"root"}),t})();class mg{parse(t){const n=new tR(t);return new sl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Lu(t.root,!0)}`,i=function ZN(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${Hh(n)}=${Hh(r)}`).join("&"):`${Hh(n)}=${Hh(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function GN(e){return encodeURI(e)}(t.fragment)}`:""}`}}const $N=new mg;function zh(e){return e.segments.map(t=>rD(t)).join("/")}function Lu(e,t){if(!e.hasChildren())return zh(e);if(t){const n=e.children[Be]?Lu(e.children[Be],!1):"",i=[];return Object.entries(e.children).forEach(([r,s])=>{r!==Be&&i.push(`${r}:${Lu(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function VN(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===Be&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Be&&(n=n.concat(t(r,i)))}),n}(e,(i,r)=>r===Be?[Lu(e.children[Be],!1)]:[`${r}:${Lu(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Be]?`${zh(e)}/${n[0]}`:`${zh(e)}/(${n.join("//")})`}}function nD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hh(e){return nD(e).replace(/%3B/gi,";")}function _g(e){return nD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vh(e){return decodeURIComponent(e)}function iD(e){return Vh(e.replace(/\+/g,"%20"))}function rD(e){return`${_g(e.path)}${function qN(e){return Object.keys(e).map(t=>`;${_g(t)}=${_g(e[t])}`).join("")}(e.parameters)}`}const WN=/^[^\/()?;#]+/;function vg(e){const t=e.match(WN);return t?t[0]:""}const YN=/^[^\/()?;=#]+/,KN=/^[^=?&#]+/,JN=/^[^&#]+/;class tR{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Be]=new pt(t,n)),i}parseSegment(){const t=vg(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(t),new xu(Vh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function QN(e){const t=e.match(YN);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=vg(this.remaining);r&&(i=r,this.capture(i))}t[Vh(n)]=Vh(i)}parseQueryParam(t){const n=function XN(e){const t=e.match(KN);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const a=function eR(e){const t=e.match(JN);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=iD(n),s=iD(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=vg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new K(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Be);const a=this.parseChildren();n[s]=1===Object.keys(a).length?a[Be]:new pt([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new K(4011,!1)}}function oD(e){return e.segments.length>0?new pt([],{[Be]:e}):e}function sD(e){const t={};for(const i of Object.keys(e.children)){const s=sD(e.children[i]);if(i===Be&&0===s.segments.length&&s.hasChildren())for(const[a,c]of Object.entries(s.children))t[a]=c;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function nR(e){if(1===e.numberOfChildren&&e.children[Be]){const t=e.children[Be];return new pt(e.segments.concat(t.segments),t.children)}return e}(new pt(e.segments,t))}function Ws(e){return e instanceof sl}function aD(e){let t;const r=oD(function n(s){const a={};for(const f of s.children){const g=n(f);a[f.outlet]=g}const c=new pt(s.url,a);return s===e&&(t=c),c}(e.root));return t??r}function lD(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(0===t.length)return yg(r,r,r,n,i);const s=function rR(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new cD(!0,0,e);let t=0,n=!1;const i=e.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([f,g])=>{c[f]="string"==typeof g?g.split("/"):g}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((c,f)=>{0==f&&"."===c||(0==f&&""===c?n=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,s]},[]);return new cD(n,t,i)}(t);if(s.toRoot())return yg(r,r,new pt([],{}),n,i);const a=function oR(e,t,n){if(e.isAbsolute)return new Gh(t,!0,0);if(!n)return new Gh(t,!1,NaN);if(null===n.parent)return new Gh(n,!0,0);const i=$h(e.commands[0])?0:1;return function sR(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new K(4005,!1);r=i.segments.length}return new Gh(i,!1,r-s)}(n,n.segments.length-1+i,e.numberOfDoubleDots)}(s,r,e),c=a.processChildren?Au(a.segmentGroup,a.index,s.commands):hD(a.segmentGroup,a.index,s.commands);return yg(r,a.segmentGroup,c,n,i)}function $h(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Pu(e){return"object"==typeof e&&null!=e&&e.outlets}function yg(e,t,n,i,r){let a,s={};i&&Object.entries(i).forEach(([f,g])=>{s[f]=Array.isArray(g)?g.map(M=>`${M}`):`${g}`}),a=e===t?n:uD(e,t,n);const c=oD(sD(a));return new sl(c,s,r)}function uD(e,t,n){const i={};return Object.entries(e.children).forEach(([r,s])=>{i[r]=s===t?n:uD(s,t,n)}),new pt(e.segments,i)}class cD{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&$h(i[0]))throw new K(4003,!1);const r=i.find(Pu);if(r&&r!==QM(i))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gh{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function hD(e,t,n){if(e||(e=new pt([],{})),0===e.segments.length&&e.hasChildren())return Au(e,t,n);const i=function lR(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const a=e.segments[r],c=n[i];if(Pu(c))break;const f=`${c}`,g=i<n.length-1?n[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!fD(f,g,a))return s;i+=2}else{if(!fD(f,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new pt(e.segments.slice(0,i.pathIndex),{});return s.children[Be]=new pt(e.segments.slice(i.pathIndex),e.children),Au(s,0,r)}return i.match&&0===r.length?new pt(e.segments,{}):i.match&&!e.hasChildren()?wg(e,t,n):i.match?Au(e,0,r):wg(e,t,n)}function Au(e,t,n){if(0===n.length)return new pt(e.segments,{});{const i=function aR(e){return Pu(e[0])?e[0].outlets:{[Be]:e}}(n),r={};if(!i[Be]&&e.children[Be]&&1===e.numberOfChildren&&0===e.children[Be].segments.length){const s=Au(e.children[Be],t,n);return new pt(e.segments,s.children)}return Object.entries(i).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(r[s]=hD(e.children[s],t,a))}),Object.entries(e.children).forEach(([s,a])=>{void 0===i[s]&&(r[s]=a)}),new pt(e.segments,r)}}function wg(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(Pu(s)){const f=uR(s.outlets);return new pt(i,f)}if(0===r&&$h(n[0])){i.push(new xu(e.segments[t].path,dD(n[0]))),r++;continue}const a=Pu(s)?s.outlets[Be]:`${s}`,c=r<n.length-1?n[r+1]:null;a&&c&&$h(c)?(i.push(new xu(a,dD(c))),r+=2):(i.push(new xu(a,{})),r++)}return new pt(i,{})}function uR(e){const t={};return Object.entries(e).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[n]=wg(new pt([],{}),0,i))}),t}function dD(e){const t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function fD(e,t,n){return e==n.path&&Ar(t,n.parameters)}const Nu="imperative";class Nr{constructor(t,n){this.id=t,this.url=n}}class Mg extends Nr{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ys extends Nr{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qh extends Nr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ru extends Nr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class Dg extends Nr{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cR extends Nr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hR extends Nr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dR extends Nr{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fR extends Nr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pR extends Nr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gR{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mR{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _R{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vR{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yR{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wR{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pD{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class MR{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ku,this.attachRef=null}}let ku=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new MR,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class gD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Cg(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Cg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Eg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Eg(t,this._root).map(n=>n.value)}}function Cg(e,t){if(e===t.value)return t;for(const n of t.children){const i=Cg(e,n);if(i)return i}return null}function Eg(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Eg(e,n);if(i.length)return i.unshift(t),i}return[]}class vo{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function al(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class mD extends gD{constructor(t,n){super(t),this.snapshot=n,bg(this,t)}toString(){return this.snapshot.toString()}}function _D(e,t){const n=function DR(e,t){const a=new Zh([],{},{},"",{},Be,t,null,{});return new yD("",new vo(a,[]))}(0,t),i=new lt([new xu("",{})]),r=new lt({}),s=new lt({}),a=new lt({}),c=new lt(""),f=new ll(i,r,a,c,s,Be,t,n.root);return f.snapshot=n.root,new mD(new vo(f,[]),n)}class ll{constructor(t,n,i,r,s,a,c,f){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=f,this.title=this.dataSubject?.pipe(ke(g=>g[Su]))??De(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ke(t=>ol(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ke(t=>ol(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vD(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function CR(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Zh{get title(){return this.data?.[Su]}constructor(t,n,i,r,s,a,c,f,g){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=c,this.routeConfig=f,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ol(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ol(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yD extends gD{constructor(t,n){super(n),this.url=t,bg(this,n)}toString(){return wD(this._root)}}function bg(e,t){t.value._routerState=e,t.children.forEach(n=>bg(e,n))}function wD(e){const t=e.children.length>0?` { ${e.children.map(wD).join(", ")} } `:"";return`${e.value}${t}`}function Ig(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ar(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ar(t.params,n.params)||e.paramsSubject.next(n.params),function BN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ar(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Ar(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Sg(e,t){const n=Ar(e.params,t.params)&&function HN(e,t){return Zs(e,t)&&e.every((n,i)=>Ar(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Sg(e.parent,t.parent))}let MD=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new Hn,this.deactivateEvents=new Hn,this.attachEvents=new Hn,this.detachEvents=new Hn,this.parentContexts=ce(ku),this.location=ce(sr),this.changeDetector=ce(Lp),this.environmentInjector=ce(Ni),this.inputBinder=ce(Wh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=i;const s=this.location,c=i.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new ER(i,f,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275dir=en({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oo]}),t})();class ER{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===ll?this.route:t===ku?this.childContexts:this.parent.get(t,n)}}const Wh=new Me("");let DD=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,s=hg([r.queryParams,r.params,r.data]).pipe(ln(([a,c,f],g)=>(f={...a,...c,...f},0===g?De(f):Promise.resolve(f)))).subscribe(a=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const c=function VL(e){const t=Qe(e);if(!t)return null;const n=new ou(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(c)for(const{templateName:f}of c.inputs)i.activatedComponentRef.setInput(f,a[f]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,s)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();function Ou(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function IR(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Ou(e,i,r);return Ou(e,i)})}(e,t,n);return new vo(i,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>Ou(e,c)),a}}const i=function SR(e){return new ll(new lt(e.url),new lt(e.params),new lt(e.queryParams),new lt(e.fragment),new lt(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>Ou(e,s));return new vo(i,r)}}const xg="ngNavigationCancelingError";function CD(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=Ws(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=ED(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function ED(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[xg]=!0,i.cancellationCode=t,n&&(i.url=n),i}function bD(e){return ID(e)&&Ws(e.url)}function ID(e){return e&&e[xg]}let SD=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xs({type:e,selectors:[["ng-component"]],standalone:!0,features:[I0],decls:1,vars:0,template:function(i,r){1&i&&Uf(0,"router-outlet")},dependencies:[MD],encapsulation:2}),t})();function Tg(e){const t=e.children&&e.children.map(Tg),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=SD),n}function ur(e){return e.outlet||Be}function Fu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class RR{constructor(t,n,i,r,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Ig(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=al(n);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=al(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=al(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){const r=al(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new wR(s.value.snapshot))}),t.children.length&&this.forwardEvent(new vR(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(Ig(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Ig(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=Fu(r.snapshot);a.attachRef=null,a.route=r,a.injector=c,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class xD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Yh{constructor(t,n){this.component=t,this.route=n}}function kR(e,t,n){const i=e._root;return Bu(i,t?t._root:null,n,[i.value])}function ul(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function vs(e){return null!==mr(e)}(e)?t.get(e):e:i}function Bu(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=al(t);return e.children.forEach(a=>{(function FR(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=t?t.value:null,c=n?n.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const f=function BR(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Zs(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zs(e.url,t.url)||!Ar(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sg(e,t)||!Ar(e.queryParams,t.queryParams);default:return!Sg(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new xD(i)):(s.data=a.data,s._resolvedData=a._resolvedData),Bu(e,t,s.component?c?c.children:null:n,i,r),f&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Yh(c.outlet.component,a))}else a&&ju(t,c,r),r.canActivateChecks.push(new xD(i)),Bu(e,null,s.component?c?c.children:null:n,i,r)})(a,s[a.value.outlet],n,i.concat([a.value]),r),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>ju(c,n.getContext(a),r)),r}function ju(e,t,n){const i=al(e),r=e.value;Object.entries(i).forEach(([s,a])=>{ju(a,r.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Yh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Uu(e){return"function"==typeof e}function TD(e){return e instanceof Bh||"EmptyError"===e?.name}const Qh=Symbol("INITIAL_VALUE");function cl(){return ln(e=>hg(e.map(t=>t.pipe(Pn(1),function LN(...e){const t=Br(e);return xe((n,i)=>{(t?dg(e,n,t):dg(e,n)).subscribe(i)})}(Qh)))).pipe(ke(t=>{for(const n of t)if(!0!==n){if(n===Qh)return Qh;if(!1===n||n instanceof sl)return n}return!0}),ns(t=>t!==Qh),Pn(1)))}function LD(e){return function qn(...e){return rs(e)}(Gn(t=>{if(Ws(t))throw CD(0,t)}),ke(t=>!0===t))}class Kh{constructor(t){this.segmentGroup=t||null}}class PD{constructor(t){this.urlTree=t}}function hl(e){return bu(new Kh(e))}function AD(e){return bu(new PD(e))}class rk{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new K(4002,!1)}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return De(i);if(r.numberOfChildren>1||!r.children[Be])return bu(new K(4e3,!1));r=r.children[Be]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const s=this.createSegmentGroup(t,n.root,i,r);return new sl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=n[c]}else i[r]=s}),i}createSegmentGroup(t,n,i,r){const s=this.createSegments(t,n.segments,i,r);let a={};return Object.entries(n.children).forEach(([c,f])=>{a[c]=this.createSegmentGroup(t,f,i,r)}),new pt(s,a)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new K(4001,!1);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}const Lg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ok(e,t,n,i,r){const s=Pg(e,t,n);return s.matched?(i=function xR(e,t){return e.providers&&!e._injector&&(e._injector=ip(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,i),function tk(e,t,n,i){const r=t.canMatch;return r&&0!==r.length?De(r.map(a=>{const c=ul(a,e);return is(function $R(e){return e&&Uu(e.canMatch)}(c)?c.canMatch(t,n):e.runInContext(()=>c(t,n)))})).pipe(cl(),LD()):De(!0)}(i,t,n).pipe(ke(a=>!0===a?s:{...Lg}))):De(s)}function Pg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Lg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||FN)(n,e,t);if(!r)return{...Lg};const s={};Object.entries(r.posParams??{}).forEach(([c,f])=>{s[c]=f.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function ND(e,t,n,i){return n.length>0&&function lk(e,t,n){return n.some(i=>Xh(e,t,i)&&ur(i)!==Be)}(e,n,i)?{segmentGroup:new pt(t,ak(i,new pt(n,e.children))),slicedSegments:[]}:0===n.length&&function uk(e,t,n){return n.some(i=>Xh(e,t,i))}(e,n,i)?{segmentGroup:new pt(e.segments,sk(e,0,n,i,e.children)),slicedSegments:n}:{segmentGroup:new pt(e.segments,e.children),slicedSegments:n}}function sk(e,t,n,i,r){const s={};for(const a of i)if(Xh(e,n,a)&&!r[ur(a)]){const c=new pt([],{});s[ur(a)]=c}return{...r,...s}}function ak(e,t){const n={};n[Be]=t;for(const i of e)if(""===i.path&&ur(i)!==Be){const r=new pt([],{});n[ur(i)]=r}return n}function Xh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class fk{constructor(t,n,i,r,s,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new rk(this.urlSerializer,this.urlTree)}noMatchError(t){return new K(4002,!1)}recognize(){const t=ND(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Be).pipe(qs(n=>{if(n instanceof PD)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Kh?this.noMatchError(n):n}),ke(n=>{const i=new Zh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Be,this.rootComponentType,null,{}),r=new vo(i,n),s=new yD("",r),a=function iR(e,t,n=null,i=null){return lD(aD(e),t,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Be).pipe(qs(i=>{throw i instanceof Kh?this.noMatchError(i):i}))}inheritParamsAndData(t){const n=t.value,i=vD(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0)}processChildren(t,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return dt(r).pipe(Iu(s=>{const a=i.children[s],c=function AR(e,t){const n=e.filter(i=>ur(i)===t);return n.push(...e.filter(i=>ur(i)!==t)),n}(n,s);return this.processSegmentGroup(t,c,a,s)}),function NN(e,t){return xe(function AN(e,t,n,i,r){return(s,a)=>{let c=n,f=t,g=0;s.subscribe(new Ne(a,M=>{const b=g++;f=c?e(f,M,b):(c=!0,M),i&&a.next(f)},r&&(()=>{c&&a.next(f),a.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),jh(null),function RN(e,t){const n=arguments.length>=2;return i=>i.pipe(e?ns((r,s)=>e(r,s,i)):Mn,pg(1),n?jh(t):WM(()=>new Bh))}(),It(s=>{if(null===s)return hl(i);const a=RD(s);return function pk(e){e.sort((t,n)=>t.value.outlet===Be?-1:n.value.outlet===Be?1:t.value.outlet.localeCompare(n.value.outlet))}(a),De(a)}))}processSegment(t,n,i,r,s,a){return dt(n).pipe(Iu(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,i,r,s,a).pipe(qs(f=>{if(f instanceof Kh)return De(null);throw f}))),Gs(c=>!!c),qs(c=>{if(TD(c))return function hk(e,t,n){return 0===t.length&&!e.children[n]}(i,r,s)?De([]):hl(i);throw c}))}processSegmentAgainstRoute(t,n,i,r,s,a,c){return function ck(e,t,n,i){return!!(ur(e)===i||i!==Be&&Xh(t,n,e))&&("**"===e.path||Pg(t,e,n).matched)}(i,r,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,a,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,s,a):hl(r):hl(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?AD(s):this.applyRedirects.lineralizeSegments(i,s).pipe(It(a=>{const c=new pt(a,{});return this.processSegment(t,n,c,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,a){const{matched:c,consumedSegments:f,remainingSegments:g,positionalParamSegments:M}=Pg(n,r,s);if(!c)return hl(n);const b=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,M);return r.redirectTo.startsWith("/")?AD(b):this.applyRedirects.lineralizeSegments(r,b).pipe(It(P=>this.processSegment(t,i,n,P.concat(g),a,!1)))}matchSegmentAgainstRoute(t,n,i,r,s,a){let c;if("**"===i.path){const f=r.length>0?QM(r).parameters:{};c=De({snapshot:new Zh(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kD(i),ur(i),i.component??i._loadedComponent??null,i,OD(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else c=ok(n,i,r,t).pipe(ke(({matched:f,consumedSegments:g,remainingSegments:M,parameters:b})=>f?{snapshot:new Zh(g,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kD(i),ur(i),i.component??i._loadedComponent??null,i,OD(i)),consumedSegments:g,remainingSegments:M}:null));return c.pipe(ln(f=>null===f?hl(n):this.getChildConfig(t=i._injector??t,i,r).pipe(ln(({routes:g})=>{const M=i._loadedInjector??t,{snapshot:b,consumedSegments:P,remainingSegments:A}=f,{segmentGroup:B,slicedSegments:V}=ND(n,P,A,g);if(0===V.length&&B.hasChildren())return this.processChildren(M,g,B).pipe(ke(ie=>null===ie?null:[new vo(b,ie)]));if(0===g.length&&0===V.length)return De([new vo(b,[])]);const ee=ur(i)===s;return this.processSegment(M,g,B,V,ee?Be:s,!0).pipe(ke(ie=>[new vo(b,ie)]))}))))}getChildConfig(t,n,i){return n.children?De({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?De({routes:n._loadedRoutes,injector:n._loadedInjector}):function ek(e,t,n,i){const r=t.canLoad;return void 0===r||0===r.length?De(!0):De(r.map(a=>{const c=ul(a,e);return is(function UR(e){return e&&Uu(e.canLoad)}(c)?c.canLoad(t,n):e.runInContext(()=>c(t,n)))})).pipe(cl(),LD())}(t,n,i).pipe(It(r=>r?this.configLoader.loadChildren(t,n).pipe(Gn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function ik(e){return bu(ED(!1,3))}())):De({routes:[],injector:t})}}function gk(e){const t=e.value.routeConfig;return t&&""===t.path}function RD(e){const t=[],n=new Set;for(const i of e){if(!gk(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=RD(i.children);t.push(new vo(i.value,r))}return t.filter(i=>!n.has(i))}function kD(e){return e.data||{}}function OD(e){return e.resolve||{}}function FD(e){return"string"==typeof e.title||null===e.title}function Ag(e){return ln(t=>{const n=e(t);return n?dt(n).pipe(ke(()=>t)):De(t)})}const dl=new Me("ROUTES");let Ng=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(yw)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return De(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=is(i.loadComponent()).pipe(ke(BD),Gn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),gg(()=>{this.componentLoaders.delete(i)})),s=new ZM(r,()=>new Je).pipe(fg());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return De({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ke(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,M;return Array.isArray(f)?M=f:(g=f.create(i).injector,M=g.get(dl,[],Pe.Self|Pe.Optional).flat()),{routes:M.map(Tg),injector:g}}),gg(()=>{this.childrenLoaders.delete(r)})),c=new ZM(a,()=>new Je).pipe(fg());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(i){return is(i()).pipe(ke(BD),It(r=>r instanceof E0||Array.isArray(r)?De(r):dt(this.compiler.compileModuleAsync(r))))}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function BD(e){return function Dk(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Jh=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.configLoader=ce(Ng),this.environmentInjector=ce(Ni),this.urlSerializer=ce(Tu),this.rootContexts=ce(ku),this.inputBindingEnabled=null!==ce(Wh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>De(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new mR(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new gR(s))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i){return this.transitions=new lt({id:0,currentUrlTree:i.currentUrlTree,currentRawUrl:i.currentUrlTree,extractedUrl:i.urlHandlingStrategy.extract(i.currentUrlTree),urlAfterRedirects:i.urlHandlingStrategy.extract(i.currentUrlTree),rawUrl:i.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nu,restoredState:null,currentSnapshot:i.routerState.snapshot,targetSnapshot:null,currentRouterState:i.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ns(r=>0!==r.id),ke(r=>({...r,extractedUrl:i.urlHandlingStrategy.extract(r.rawUrl)})),ln(r=>{let s=!1,a=!1;return De(r).pipe(Gn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ln(c=>{const f=i.browserUrlTree.toString(),g=!i.navigated||c.extractedUrl.toString()!==f||f!==i.currentUrlTree.toString();if(!g&&"reload"!==(c.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const b="";return this.events.next(new Ru(c.id,i.serializeUrl(r.rawUrl),b,0)),i.rawUrlTree=c.rawUrl,c.resolve(null),Xt}if(i.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return jD(c.source)&&(i.browserUrlTree=c.extractedUrl),De(c).pipe(ln(b=>{const P=this.transitions?.getValue();return this.events.next(new Mg(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),P!==this.transitions?.getValue()?Xt:Promise.resolve(b)}),function mk(e,t,n,i,r,s){return It(a=>function dk(e,t,n,i,r,s,a="emptyOnly"){return new fk(e,t,n,i,r,a,s).recognize()}(e,t,n,i,a.extractedUrl,r,s).pipe(ke(({state:c,tree:f})=>({...a,targetSnapshot:c,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),Gn(b=>{if(r.targetSnapshot=b.targetSnapshot,r.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},"eager"===i.urlUpdateStrategy){if(!b.extras.skipLocationChange){const A=i.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);i.setBrowserUrl(A,b)}i.browserUrlTree=b.urlAfterRedirects}const P=new cR(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(P)}));if(g&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){const{id:b,extractedUrl:P,source:A,restoredState:B,extras:V}=c,ee=new Mg(b,this.urlSerializer.serialize(P),A,B);this.events.next(ee);const ie=_D(0,this.rootComponentType).snapshot;return De(r={...c,targetSnapshot:ie,urlAfterRedirects:P,extras:{...V,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new Ru(c.id,i.serializeUrl(r.extractedUrl),b,1)),i.rawUrlTree=c.rawUrl,c.resolve(null),Xt}}),Gn(c=>{const f=new hR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),ke(c=>r={...c,guards:kR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function qR(e,t){return It(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=n;return 0===a.length&&0===s.length?De({...n,guardsResult:!0}):function ZR(e,t,n,i){return dt(e).pipe(It(r=>function JR(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?De(s.map(c=>{const f=Fu(t)??r,g=ul(c,f);return is(function VR(e){return e&&Uu(e.canDeactivate)}(g)?g.canDeactivate(e,t,n,i):f.runInContext(()=>g(e,t,n,i))).pipe(Gs())})).pipe(cl()):De(!0)}(r.component,r.route,n,t,i)),Gs(r=>!0!==r,!0))}(a,i,r,e).pipe(It(c=>c&&function jR(e){return"boolean"==typeof e}(c)?function WR(e,t,n,i){return dt(t).pipe(Iu(r=>dg(function QR(e,t){return null!==e&&t&&t(new _R(e)),De(!0)}(r.route.parent,i),function YR(e,t){return null!==e&&t&&t(new yR(e)),De(!0)}(r.route,i),function XR(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function OR(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>qM(()=>De(a.guards.map(f=>{const g=Fu(a.node)??n,M=ul(f,g);return is(function HR(e){return e&&Uu(e.canActivateChild)}(M)?M.canActivateChild(i,e):g.runInContext(()=>M(i,e))).pipe(Gs())})).pipe(cl())));return De(s).pipe(cl())}(e,r.path,n),function KR(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return De(!0);const r=i.map(s=>qM(()=>{const a=Fu(t)??n,c=ul(s,a);return is(function zR(e){return e&&Uu(e.canActivate)}(c)?c.canActivate(t,e):a.runInContext(()=>c(t,e))).pipe(Gs())}));return De(r).pipe(cl())}(e,r.route,n))),Gs(r=>!0!==r,!0))}(i,s,e,t):De(c)),ke(c=>({...n,guardsResult:c})))})}(this.environmentInjector,c=>this.events.next(c)),Gn(c=>{if(r.guardsResult=c.guardsResult,Ws(c.guardsResult))throw CD(0,c.guardsResult);const f=new dR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),ns(c=>!!c.guardsResult||(i.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Ag(c=>{if(c.guards.canActivateChecks.length)return De(c).pipe(Gn(f=>{const g=new fR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),ln(f=>{let g=!1;return De(f).pipe(function _k(e,t){return It(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return De(n);let s=0;return dt(r).pipe(Iu(a=>function vk(e,t,n,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!FD(r)&&(s[Su]=r.title),function yk(e,t,n,i){const r=function wk(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return De({});const s={};return dt(r).pipe(It(a=>function Mk(e,t,n,i){const r=Fu(t)??i,s=ul(e,r);return is(s.resolve?s.resolve(t,n):r.runInContext(()=>s(t,n)))}(e[a],t,n,i).pipe(Gs(),Gn(c=>{s[a]=c}))),pg(1),function kN(e){return ke(()=>e)}(s),qs(a=>TD(a)?Xt:bu(a)))}(s,e,t,i).pipe(ke(a=>(e._resolvedData=a,e.data=vD(e,n).resolve,r&&FD(r)&&(e.data[Su]=r.title),null)))}(a.route,i,e,t)),Gn(()=>s++),pg(1),It(a=>s===r.length?De(n):Xt))})}(i.paramsInheritanceStrategy,this.environmentInjector),Gn({next:()=>g=!0,complete:()=>{g||(i.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),Gn(f=>{const g=new pR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Ag(c=>{const f=g=>{const M=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(g.routeConfig).pipe(Gn(b=>{g.component=b}),ke(()=>{})));for(const b of g.children)M.push(...f(b));return M};return hg(f(c.targetSnapshot.root)).pipe(jh(),Pn(1))}),Ag(()=>this.afterPreactivation()),ke(c=>{const f=function bR(e,t,n){const i=Ou(e,t._root,n?n._root:void 0);return new mD(i,t)}(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),Gn(c=>{i.currentUrlTree=c.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),i.routerState=c.targetRouterState,"deferred"===i.urlUpdateStrategy&&(c.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,c),i.browserUrlTree=c.urlAfterRedirects)}),((e,t,n,i)=>ke(r=>(new RR(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)))(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Pn(1),Gn({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,i.navigated=!0,this.events.next(new Ys(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(i.currentUrlTree))),i.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),gg(()=>{s||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),qs(c=>{if(a=!0,ID(c)){bD(c)||(i.navigated=!0,i.restoreHistory(r,!0));const f=new qh(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),bD(c)){const g=i.urlHandlingStrategy.merge(c.url,i.rawUrlTree),M={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||jD(r.source)};i.scheduleNavigation(g,Nu,null,M,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{i.restoreHistory(r,!0);const f=new Dg(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(i.errorHandler(c))}catch(g){r.reject(g)}}return Xt}))}))}cancelNavigationTransition(i,r,s){const a=new qh(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(a),i.resolve(!1)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jD(e){return e!==Nu}let UD=(()=>{var e;class t{buildTitle(i){let r,s=i.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(a=>a.outlet===Be);return r}getResolvedTitleForRoute(i){return i.data[Su]}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:function(){return ce(Ck)},providedIn:"root"}),t})(),Ck=(()=>{var e;class t extends UD{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(zM))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Ek=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:function(){return ce(Ik)},providedIn:"root"}),t})();class bk{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Ik=(()=>{var e;class t extends bk{}return(e=t).\u0275fac=function(){let n;return function(r){return(n||(n=function Im(e){return dn(()=>{const t=e.prototype.constructor,n=t[Cn]||Id(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Cn]||Id(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}(e)))(r||e)}}(),e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const ed=new Me("",{providedIn:"root",factory:()=>({})});let Sk=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:function(){return ce(xk)},providedIn:"root"}),t})(),xk=(()=>{var e;class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var zu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(zu||{});function zD(e,t){e.events.pipe(ns(n=>n instanceof Ys||n instanceof qh||n instanceof Dg||n instanceof Ru),ke(n=>n instanceof Ys||n instanceof Ru?zu.COMPLETE:n instanceof qh&&(0===n.code||1===n.code)?zu.REDIRECTING:zu.FAILED),ns(n=>n!==zu.REDIRECTING),Pn(1)).subscribe(()=>{t()})}function Tk(e){throw e}function Lk(e,t,n){return t.parse("/")}const Pk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ak={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ce(_w),this.isNgZoneEnabled=!1,this.options=ce(ed,{optional:!0})||{},this.pendingTasks=ce(vw),this.errorHandler=this.options.errorHandler||Tk,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Lk,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ce(Sk),this.routeReuseStrategy=ce(Ek),this.titleStrategy=ce(UD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ce(dl,{optional:!0})?.flat()??[],this.navigationTransitions=ce(Jh),this.urlSerializer=ce(Tu),this.location=ce(Up),this.componentInputBindingEnabled=!!ce(Wh,{optional:!0}),this.isNgZoneEnabled=ce(Nt)instanceof Nt&&Nt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new sl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_D(0,null),this.navigationTransitions.setupNavigations(this).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId??0},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Nu,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,s){const a={replaceUrl:!0},c=s?.navigationId?s:null;if(s){const g={...s};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const f=this.parseUrl(i);this.scheduleNavigation(f,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Tg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,r={}){const{relativeTo:s,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:g}=r,M=g?this.currentUrlTree.fragment:c;let P,b=null;switch(f){case"merge":b={...this.currentUrlTree.queryParams,...a};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}null!==b&&(b=this.removeEmptyProps(b));try{P=aD(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),P=this.currentUrlTree.root}return lD(P,i,b,M??null)}navigateByUrl(i,r={skipLocationChange:!1}){const s=Ws(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(a,Nu,null,r)}navigate(i,r={skipLocationChange:!1}){return function Nk(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new K(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,i)}return r}isActive(i,r){let s;if(s=!0===r?{...Pk}:!1===r?{...Ak}:r,Ws(i))return XM(this.currentUrlTree,i,s);const a=this.parseUrl(i);return XM(this.currentUrlTree,a,s)}removeEmptyProps(i){return Object.keys(i).reduce((r,s)=>{const a=i[s];return null!=a&&(r[s]=a),r},{})}scheduleNavigation(i,r,s,a,c){if(this.disposed)return Promise.resolve(!1);let f,g,M;c?(f=c.resolve,g=c.reject,M=c.promise):M=new Promise((P,A)=>{f=P,g=A});const b=this.pendingTasks.add();return zD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:f,reject:g,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(P=>Promise.reject(P))}setBrowserUrl(i,r){const s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",c)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(s,"",a)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class HD{}let Ok=(()=>{var e;class t{constructor(i,r,s,a,c){this.router=i,this.injector=s,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ns(i=>i instanceof Ys),Iu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const s=[];for(const a of r){a.providers&&!a._injector&&(a._injector=ip(a.providers,i,`Route: ${a.path}`));const c=a._injector??i,f=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&s.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&s.push(this.processRoutes(f,a.children??a._loadedRoutes))}return dt(s).pipe(Ci())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):De(null);const a=s.pipe(It(c=>null===c?De(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));return r.loadComponent&&!r._loadedComponent?dt([a,this.loader.loadComponent(r)]).pipe(Ci()):a})}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(ji),ge(yw),ge(Ni),ge(HD),ge(Ng))},e.\u0275prov=we({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const kg=new Me("");let VD=(()=>{var e;class t{constructor(i,r,s,a,c={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Mg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ys?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Ru&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof pD&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pD(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(i){!function av(){throw new Error("invalid")}()},e.\u0275prov=we({token:e,factory:e.\u0275fac}),t})();function yo(e,t){return{\u0275kind:e,\u0275providers:t}}function GD(){const e=ce(Ri);return t=>{const n=e.get(nl);if(t!==n.components[0])return;const i=e.get(ji),r=e.get(qD);1===e.get(Og)&&i.initialNavigation(),e.get(ZD,null,Pe.Optional)?.setUpPreloading(),e.get(kg,null,Pe.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const qD=new Me("",{factory:()=>new Je}),Og=new Me("",{providedIn:"root",factory:()=>1}),ZD=new Me("");function Uk(e){return yo(0,[{provide:ZD,useExisting:Ok},{provide:HD,useExisting:e}])}const WD=new Me("ROUTER_FORROOT_GUARD"),Hk=[Up,{provide:Tu,useClass:mg},ji,ku,{provide:ll,useFactory:function $D(e){return e.routerState.root},deps:[ji]},Ng,[]];function Vk(){return new Pw("Router",ji)}let YD=(()=>{var e;class t{constructor(i){}static forRoot(i,r){return{ngModule:t,providers:[Hk,[],{provide:dl,multi:!0,useValue:i},{provide:WD,useFactory:Zk,deps:[[ji,new _c,new vc]]},{provide:ed,useValue:r||{}},r?.useHash?{provide:$s,useClass:WL}:{provide:$s,useClass:sM},{provide:kg,useFactory:()=>{const e=ce(mA),t=ce(Nt),n=ce(ed),i=ce(Jh),r=ce(Tu);return n.scrollOffset&&e.setOffset(n.scrollOffset),new VD(r,i,e,t,n)}},r?.preloadingStrategy?Uk(r.preloadingStrategy).\u0275providers:[],{provide:Pw,multi:!0,useFactory:Vk},r?.initialNavigation?Wk(r):[],r?.bindToComponentInputs?yo(8,[DD,{provide:Wh,useExisting:DD}]).\u0275providers:[],[{provide:QD,useFactory:GD},{provide:xp,multi:!0,useExisting:QD}]]}}static forChild(i){return{ngModule:t,providers:[{provide:dl,multi:!0,useValue:i}]}}}return(e=t).\u0275fac=function(i){return new(i||e)(ge(WD,8))},e.\u0275mod=En({type:e}),e.\u0275inj=Kn({}),t})();function Zk(e){return"guarded"}function Wk(e){return["disabled"===e.initialNavigation?yo(3,[{provide:vp,multi:!0,useFactory:()=>{const t=ce(ji);return()=>{t.setUpLocationChangeListener()}}},{provide:Og,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?yo(2,[{provide:Og,useValue:0},{provide:vp,multi:!0,deps:[Ri],useFactory:t=>{const n=t.get(qL,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=t.get(ji),s=t.get(qD);zD(r,()=>{i(!0)}),t.get(Jh).afterPreactivation=()=>(i(!0),s.closed?De(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const QD=new Me(""),Qk=[];let Kk=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=En({type:e}),e.\u0275inj=Kn({imports:[YD.forRoot(Qk),YD]}),t})();function KD(e,t,n,i,r,s,a){try{var c=e[s](a),f=c.value}catch(g){return void n(g)}c.done?t(f):Promise.resolve(f).then(i,r)}var Ae=te(433),Jk=te(991);te(946),te(115);class eO extends Ae.Control{onAdd(t){let n=Ae.DomUtil.create("img");return n.src="assets/images/logo.jfif",n.style.width="80px",n}onRemove(t){}constructor(t){super(t)}}const Fg=Jk.default;let tO=(()=>{var e;class t{constructor(){this.title="upes",this.once=!0,this.trans={inverse:i=>i,forward:i=>i},this.options={layers:[Ae.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:7,center:Ae.latLng(47.482019,-1)},this.apiUrl="http://old.ngsolution.eu/track/",this.drawOptions={position:"topright",draw:{marker:{icon:Ae.icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png"})},polygon:!1,circlemarker:!1}},this.limit=[],console.log(this.limit),Fg.defs("EPSG:27700","+proj=tmerc +lat_0=0 +lon_0=24 +k=0.9998 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"),this.trans=Fg("EPSG:27700","EPSG:4326"),this.apiUrl="http://old.ngsolution.eu/track/",Ae.Icon.Default.imagePath="assets/images/"}onMapReady(i){console.log("onMapReady",i)}addGeoJson(i){fetch(`http://old.ngsolution.eu/track/geojson.php/geojson.php${location.search}`).then(function(){var c=function Xk(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var s=e.apply(t,n);function a(f){KD(s,i,r,a,c,"next",f)}function c(f){KD(s,i,r,a,c,"throw",f)}a(void 0)})}}(function*(f){const g=yield f.json();if(200===f.status)return g;throw g});return function(f){return c.apply(this,arguments)}}()).then(c=>{let g=0,M=["purple","black","magenta","green","red","yellow"];Ae.Proj.geoJson(c,{pointToLayer:function(P,A){return Ae.marker(A).bindPopup(P.properties.name||"nerasta")},onEachFeature:function(P,A){A.bindPopup("<b>Magnitude:</b> "+P.geometry.properties.prt+"<br><b>Location:</b> "+P.geometry.properties.name+"<br><a href='"+P.geometry.properties.id+"'>More info</a>",{closeButton:!0,offset:Ae.point(0,-20)}),A.on("click",function(){A.openPopup()})},style:function(P){return{color:M[g++%M.length]}}}).addTo(i)}).catch(c=>console.log(c))}ngAfterViewInit(){this.loadMap()}getCurrentPosition(){return new qe(i=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(r=>{i.next({latitude:r.coords.latitude,longitude:r.coords.longitude}),i.complete()},r=>{i.next({latitude:55.686416,longitude:21.181716}),i.complete(),console.log(r)}):i.error()})}loadMap(){this.map=Ae.map("map",{center:[0,0],zoom:1}).on("load",this.onMapLoad).setView([0,0],1),Ae.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:"OSM"}).addTo(this.map),this.addLeafletExtras(),this.getCurrentPosition().subscribe(i=>{this.map.flyTo([i.latitude,i.longitude],13),Ae.icon({iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png",popupAnchor:[13,0]}),Ae.circleMarker([i.latitude,i.longitude]).bindPopup("Angular Leaflet").addTo(this.map)})}orPointLine(i){console.log(this.limit),(0==this.limit.length||1==this.limit.length)&&this.limit.push(i.latlng),2==this.limit.length&&(0==this.limit[0].distanceTo(this.limit[1])?Ae.marker(i,{draggable:!0}).addTo(this.drawnItems):Ae.polyline(this.limit).on("click",()=>{}).addTo(this.drawnItems),this.limit=[])}addMarker(i){let r=Ae.marker(i.latlng,{draggable:!0}).addTo(this.drawnItems);return r.on("drag",s=>{}),r.on("dragstart",s=>{console.log("marker dragstart event",s)}),r.on("dragend",s=>{console.log("marker dragend event",this.getLayerTypeName(s.target),this.getLayerTypeName(s.sourceTarget)),2==this.limit.length&&this.getLength2(s.target)}),r}getLayerTypeName(i){return i instanceof Ae.Marker?"Marker":i instanceof Ae.circleMarker?"circleMarker":i instanceof Ae.Polyline?"Polyline":i instanceof Ae.Circle?"Circle":i instanceof Ae.Rectangle?"Rectangle":i instanceof Ae.Polygon?"Polygon":i instanceof Ae.Layer?"Layer":i instanceof Ae.LatLng?"LatLng":"Unknown"}addLeafletExtras(){new eO({position:"bottomleft"}).addTo(this.map),this.map.on("contextmenu",r=>{console.log(this.limit),(0==this.limit.length||1==this.limit.length)&&this.limit.push(this.addMarker(r)),2==this.limit.length&&this.getLength2(this.limit[1])}),this.map.on("zoomend",()=>{console.log("callback zoomend"),this.once&&(this.once=!1,setTimeout(this.addGeoJson,1,this.map))}),this.map.on(Ae.Draw.Event.CREATED,r=>{let s=r.layer;this.drawnItems.addLayer(s),s instanceof Ae.Polyline&&this.getLength2(s),s instanceof Ae.Polygon&&console.log(this.toWKT(s)),s instanceof Ae.Marker&&this.map.locate({setView:!0,watch:!0}).on("locationfound",a=>{console.log(a);var c=Ae.marker([a.latitude,a.longitude]).bindPopup("Your are here :)"),f=Ae.circle([a.latitude,a.longitude],a.accuracy/2,{weight:1,color:"blue",fillColor:"#cacaca",fillOpacity:.2});this.map.addLayer(c),this.map.addLayer(f)}).on("locationerror",a=>{console.log(a),alert("Location access denied.")})}),this.map.on(Ae.Draw.Event.DELETED,r=>{this.drawnItems.removeLayer(r.layer),this.limit.length=0}),this.map.on(Ae.Draw.Event.EDITED,r=>{let s=r.layer;s instanceof Ae.Polyline&&this.getLength2(s),console.log(this.toWKT(s))}),this.drawnItems=new Ae.FeatureGroup,this.minija=new Ae.FeatureGroup,this.map.addLayer(this.drawnItems);let i=new Ae.Control.Draw({position:"topright",edit:{featureGroup:this.drawnItems,remove:!0},draw:{polygon:!1,circlemarker:!1,rectangle:!1,marker:!1,circle:!1}});this.map.addControl(i)}onMapLoad(){console.log("map loaded"),this.once&&(this.once=!1,setTimeout(this.addGeoJson,1,this.map))}onDrawReady(i){console.log("onDrawReady",i),this.once&&(this.once=!1,setTimeout(this.addGeoJson,1,this.map))}toWKT(i){let r=Fg("EPSG:27700","EPSG:4326"),s=a=>r.inverse(a).join(" ");if(i instanceof Ae.Polygon||i instanceof Ae.Polyline){let a=i.toGeoJSON().geometry.coordinates.map(s);if(i instanceof Ae.Polygon)return"POLYGON(("+a.join(",")+"))";if(i instanceof Ae.Polyline)return"LINESTRING("+a.join(",")+")"}else if(i instanceof Ae.Marker){console.log("marker",i);let a=i.getLatLng();return"POINT("+s([a.lng,a.lat])+")"}}calcMiddleLatLng(i,r,s){const a=i.project(r),c=i.project(s);return i.unproject(a._add(c)._divideBy(2))}getLength2(i){let r;r=i instanceof Ae.Polyline?new URLSearchParams({line:this.toWKT(i)}):new URLSearchParams({start:this.toWKT(this.limit[0]),end:this.toWKT(this.limit[1])}),fetch("http://old.ngsolution.eu/track/geojson.php",{method:"POST",body:r,headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(s=>s.json()).then(s=>{console.log("data",s),this.popupLength2(s,i)}).catch(s=>console.log("error",s))}popupLength2(i,r){var s="<b>Atstumas:</b> "+i.Distance+"<br><b>Minija:</b> "+i.Segment+"<br><b>Skirtumas:</b> "+(i.Segment-i.Distance)+"<br><a href='#"+i.labas+"'>Daugiau</a>";r?r.bindPopup(s,{closeButton:!0}).openPopup():2==this.limit.length&&Ae.popup().setLatLng(this.calcMiddleLatLng(this.map,this.limit[0].getLatLng(),this.limit[1].getLatLng())).setContent(s).openOn(this.map)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xs({type:e,selectors:[["app-root"]],decls:1,vars:0,consts:[["leaflet","","id","map",3,"leafletMapReady"]],template:function(i,r){1&i&&(oh(0,"div",0),lh("leafletMapReady",function(a){return r.onMapReady(a)}),sh())},styles:["#map[_ngcontent-%COMP%]{height:100%;width:100%}"]}),t})(),nO=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=En({type:e,bootstrap:[tO]}),e.\u0275inj=Kn({imports:[cN,Kk]}),t})();lN().bootstrapModule(nO).catch(e=>console.error(e))},115:()=>{var yi,wn,_;yi=window,wn=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(_,D){this._map=_,this._container=_._container,this._overlayPane=_._panes.overlayPane,this._popupPane=_._panes.popupPane,D&&D.shapeOptions&&(D.shapeOptions=L.Util.extend({},this.options.shapeOptions,D.shapeOptions)),L.setOptions(this,D);var x=L.version.split(".");1===parseInt(x[0],10)&&parseInt(x[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var _=this._map;_&&(L.DomUtil.disableTextSelection(),_.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(_){L.setOptions(this,_)},_fireCreatedEvent:function(_){this._map.fire(L.Draw.Event.CREATED,{layer:_,layerType:this.type})},_cancelDrawing:function(_){27===_.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(_,D){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,D&&D.drawError&&(D.drawError=L.Util.extend({},this.options.drawError,D.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,_,D)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var _=this._markers.pop(),D=this._poly,x=D.getLatLngs(),F=x.splice(-1,1)[0];this._poly.setLatLngs(x),this._markerGroup.removeLayer(_),D.getLatLngs().length<2&&this._map.removeLayer(D),this._vertexChanged(F,!1)}},addVertex:function(_){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(_)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(_)),this._poly.addLatLng(_),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(_,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var _=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),D=this._poly.newLatLngIntersects(_[_.length-1]);!this.options.allowIntersection&&D||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(_){var D=this._map.mouseEventToLayerPoint(_.originalEvent),x=this._map.layerPointToLatLng(D);this._currentLatLng=x,this._updateTooltip(x),this._updateGuide(D),this._mouseMarker.setLatLng(x),L.DomEvent.preventDefault(_.originalEvent)},_vertexChanged:function(_,D){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(_,D),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(_){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(_),this._clickHandled=!0,this._disableNewMarkers();var D=_.originalEvent;this._startPoint.call(this,D.clientX,D.clientY)}},_startPoint:function(_,D){this._mouseDownOrigin=L.point(_,D)},_onMouseUp:function(_){var D=_.originalEvent;this._endPoint.call(this,D.clientX,D.clientY,_),this._clickHandled=null},_endPoint:function(_,D,x){if(this._mouseDownOrigin){var F=L.point(_,D).distanceTo(this._mouseDownOrigin),O=this._calculateFinishDistance(x.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(x.latlng),this._finishShape()):O<10&&L.Browser.touch?this._finishShape():Math.abs(F)<9*(yi.devicePixelRatio||1)&&this.addVertex(x.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(_){var D,x,F=_.originalEvent;!F.touches||!F.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(D=F.touches[0].clientX,x=F.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,D,x),this._endPoint.call(this,D,x,_),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(_){var D;if(this._markers.length>0){var x;if(this.type===L.Draw.Polyline.TYPE)x=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;x=this._markers[0]}var F=this._map.latLngToContainerPoint(x.getLatLng()),O=new L.Marker(_,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),G=this._map.latLngToContainerPoint(O.getLatLng());D=F.distanceTo(G)}else D=1/0;return D},_updateFinishHandler:function(){var _=this._markers.length;_>1&&this._markers[_-1].on("click",this._finishShape,this),_>2&&this._markers[_-2].off("click",this._finishShape,this)},_createMarker:function(_){var D=new L.Marker(_,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(D),D},_updateGuide:function(_){var D=this._markers?this._markers.length:0;D>0&&(_=_||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[D-1].getLatLng()),_))},_updateTooltip:function(_){var D=this._getTooltipText();_&&this._tooltip.updatePosition(_),this._errorShown||this._tooltip.updateContent(D)},_drawGuide:function(_,D){var x,F,O,G=Math.floor(Math.sqrt(Math.pow(D.x-_.x,2)+Math.pow(D.y-_.y,2))),J=this.options.maxGuideLineLength,ye=G>J?G-J:this.options.guidelineDistance;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));ye<G;ye+=this.options.guidelineDistance)x=ye/G,F={x:Math.floor(_.x*(1-x)+x*D.x),y:Math.floor(_.y*(1-x)+x*D.y)},(O=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(O,F)},_updateGuideColor:function(_){if(this._guidesContainer)for(var D=0,x=this._guidesContainer.childNodes.length;D<x;D++)this._guidesContainer.childNodes[D].style.backgroundColor=_},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var _,D;return 0===this._markers.length?_={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(D=this.options.showLength?this._getMeasurementString():"",_=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:D}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:D}),_},_updateRunningMeasure:function(_,D){var x,F,O=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(x=O-(D?2:1),F=L.GeometryUtil.isVersion07x()?_.distanceTo(this._markers[x].getLatLng())*(this.options.factor||1):this._map.distance(_,this._markers[x].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=F*(D?1:-1))},_getMeasurementString:function(){var _,D=this._currentLatLng,x=this._markers[this._markers.length-1].getLatLng();return _=L.GeometryUtil.isVersion07x()?x&&D&&D.distanceTo?this._measurementRunningTotal+D.distanceTo(x)*(this.options.factor||1):this._measurementRunningTotal||0:x&&D?this._measurementRunningTotal+this._map.distance(D,x)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(_,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var _=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,_)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(_,D){L.Draw.Polyline.prototype.initialize.call(this,_,D),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var _=this._markers.length;1===_&&this._markers[0].on("click",this._finishShape,this),_>2&&(this._markers[_-1].on("dblclick",this._finishShape,this),_>3&&this._markers[_-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var _,D;return 0===this._markers.length?_=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(_=L.drawLocal.draw.handlers.polygon.tooltip.cont,D=this._getMeasurementString()):(_=L.drawLocal.draw.handlers.polygon.tooltip.end,D=this._getMeasurementString()),{text:_,subtext:D}},_getMeasurementString:function(){var _=this._area,D="";return _||this.options.showLength?(this.options.showLength&&(D=L.Draw.Polyline.prototype._getMeasurementString.call(this)),_&&(D+="<br>"+L.GeometryUtil.readableArea(_,this.options.metric,this.options.precision)),D):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(_,D){var x;!this.options.allowIntersection&&this.options.showArea&&(x=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(x)),L.Draw.Polyline.prototype._vertexChanged.call(this,_,D)},_cleanUpShape:function(){var _=this._markers.length;_>0&&(this._markers[0].off("click",this._finishShape,this),_>2&&this._markers[_-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(_,D){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,_,D)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),wn.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(wn,"mouseup",this._onMouseUp,this),L.DomEvent.off(wn,"touchend",this._onMouseUp,this),wn.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(_){this._isDrawing=!0,this._startLatLng=_.latlng,L.DomEvent.on(wn,"mouseup",this._onMouseUp,this).on(wn,"touchend",this._onMouseUp,this).preventDefault(_.originalEvent)},_onMouseMove:function(_){var D=_.latlng;this._tooltip.updatePosition(D),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(D))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(_,D){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,_,D)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(_){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function ze(_,D){for(;(_=_.parentElement)&&!_.classList.contains(D););return _}(_.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(_){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,_)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,_),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var _=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,_)},_getTooltipText:function(){var _,D,x,F=L.Draw.SimpleShape.prototype._getTooltipText.call(this),G=this.options.showArea;return this._shape&&(_=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),D=L.GeometryUtil.geodesicArea(_),x=G?L.GeometryUtil.readableArea(D,this.options.metric):""),{text:F.text,subtext:x}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(_,D){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,_,D)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(_){var D=_.latlng;this._tooltip.updatePosition(D),this._mouseMarker.setLatLng(D),this._marker?(D=this._mouseMarker.getLatLng(),this._marker.setLatLng(D)):(this._marker=this._createMarker(D),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(_){return new L.Marker(_,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(_){this._onMouseMove(_),this._onClick()},_fireCreatedEvent:function(){var _=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,_)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(_,D){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,_,D)},_fireCreatedEvent:function(){var _=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,_)},_createMarker:function(_){return new L.CircleMarker(_,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(_,D){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,_,D)},_drawShape:function(_){if(L.GeometryUtil.isVersion07x())var D=this._startLatLng.distanceTo(_);else D=this._map.distance(this._startLatLng,_);this._shape?this._shape.setRadius(D):(this._shape=new L.Circle(this._startLatLng,D,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var _=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,_)},_onMouseMove:function(_){var D,x=_.latlng,F=this.options.showRadius,O=this.options.metric;if(this._tooltip.updatePosition(x),this._isDrawing){this._drawShape(x),D=this._shape.getRadius().toFixed(1);var G="";F&&(G=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(D,O,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:G})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(_,D){this._marker=_,L.setOptions(this,D)},addHooks:function(){var _=this._marker;_.dragging.enable(),_.on("dragend",this._onDragEnd,_),this._toggleMarkerHighlight()},removeHooks:function(){var _=this._marker;_.dragging.disable(),_.off("dragend",this._onDragEnd,_),this._toggleMarkerHighlight()},_onDragEnd:function(_){var D=_.target;D.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:D})},_toggleMarkerHighlight:function(){var _=this._marker._icon;_&&(_.style.display="none",L.DomUtil.hasClass(_,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(_,"leaflet-edit-marker-selected"),this._offsetMarker(_,-4)):(L.DomUtil.addClass(_,"leaflet-edit-marker-selected"),this._offsetMarker(_,4)),_.style.display="")},_offsetMarker:function(_,D){var x=parseInt(_.style.marginTop,10)-D,F=parseInt(_.style.marginLeft,10)-D;_.style.marginTop=x+"px",_.style.marginLeft=F+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(_){this.latlngs=[_._latlngs],_._holes&&(this.latlngs=this.latlngs.concat(_._holes)),this._poly=_,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(_){for(var D=0;D<this._verticesHandlers.length;D++)_(this._verticesHandlers[D])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(_){_.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(_){_.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(_){_.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var _=0;_<this.latlngs.length;_++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[_],this._poly.options.poly))},_updateLatLngs:function(_){this.latlngs=[_.layer._latlngs],_.layer._holes&&(this.latlngs=this.latlngs.concat(_.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(_,D,x){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=_,x&&x.drawError&&(x.drawError=L.Util.extend({},this.options.drawError,x.drawError)),this._latlngs=D,L.setOptions(this,x)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var _=this._poly,D=_._path;_ instanceof L.Polygon||(_.options.fill=!1,_.options.editing&&(_.options.editing.fill=!1)),D&&_.options.editing&&_.options.editing.className&&(_.options.original.className&&_.options.original.className.split(" ").forEach(function(x){L.DomUtil.removeClass(D,x)}),_.options.editing.className.split(" ").forEach(function(x){L.DomUtil.addClass(D,x)})),_.setStyle(_.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var _=this._poly,D=_._path;D&&_.options.editing&&_.options.editing.className&&(_.options.editing.className.split(" ").forEach(function(x){L.DomUtil.removeClass(D,x)}),_.options.original.className&&_.options.original.className.split(" ").forEach(function(x){L.DomUtil.addClass(D,x)})),_.setStyle(_.options.original),_._map&&(_._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var _,D,x,F,G,Z,O=this._defaultShape();for(_=0,x=O.length;_<x;_++)(F=this._createMarker(O[_],_)).on("click",this._onMarkerClick,this),F.on("contextmenu",this._onContextMenu,this),this._markers.push(F);for(_=0,D=x-1;_<x;D=_++)(0!==_||L.Polygon&&this._poly instanceof L.Polygon)&&(this._createMiddleMarker(G=this._markers[D],Z=this._markers[_]),this._updatePrevNext(G,Z))},_createMarker:function(_,D){var x=new L.Marker.Touch(_,{draggable:!0,icon:this.options.icon});return x._origLatLng=_,x._index=D,x.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(x),x},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var _=this._defaultShape(),D=[].splice.apply(_,arguments);return this._poly._convertLatLngs(_,!0),this._poly.redraw(),D},_removeMarker:function(_){var D=_._index;this._markerGroup.removeLayer(_),this._markers.splice(D,1),this._spliceLatLngs(D,1),this._updateIndexes(D,-1),_.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(_){var D=_.target,x=this._poly,F=L.LatLngUtil.cloneLatLng(D._origLatLng);if(L.extend(D._origLatLng,D._latlng),x.options.poly){var O=x._map._editTooltip;if(!x.options.poly.allowIntersection&&x.intersects()){L.extend(D._origLatLng,F),D.setLatLng(F);var G=x.options.color;x.setStyle({color:this.options.drawError.color}),O&&O.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){x.setStyle({color:G}),O&&O.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}D._middleLeft&&D._middleLeft.setLatLng(this._getMiddleLatLng(D._prev,D)),D._middleRight&&D._middleRight.setLatLng(this._getMiddleLatLng(D,D._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var Z=this._poly.getLatLngs();this._poly._convertLatLngs(Z,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(_){var D=L.Polygon&&this._poly instanceof L.Polygon?4:3,x=_.target;this._defaultShape().length<D||(this._removeMarker(x),this._updatePrevNext(x._prev,x._next),x._middleLeft&&this._markerGroup.removeLayer(x._middleLeft),x._middleRight&&this._markerGroup.removeLayer(x._middleRight),x._prev&&x._next?this._createMiddleMarker(x._prev,x._next):x._prev?x._next||(x._prev._middleRight=null):x._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(_){this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:_.target,layers:this._markerGroup,poly:this._poly}),L},_onTouchMove:function(_){var D=this._map.mouseEventToLayerPoint(_.originalEvent.touches[0]),x=this._map.layerPointToLatLng(D),F=_.target;L.extend(F._origLatLng,x),F._middleLeft&&F._middleLeft.setLatLng(this._getMiddleLatLng(F._prev,F)),F._middleRight&&F._middleRight.setLatLng(this._getMiddleLatLng(F,F._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(_,D){this._markerGroup.eachLayer(function(x){x._index>_&&(x._index+=D)})},_createMiddleMarker:function(_,D){var x,F,O,G=this._getMiddleLatLng(_,D),Z=this._createMarker(G);Z.setOpacity(.6),_._middleRight=D._middleLeft=Z,F=function(){Z.off("touchmove",F,this);var J=D._index;Z._index=J,Z.off("click",x,this).on("click",this._onMarkerClick,this),G.lat=Z.getLatLng().lat,G.lng=Z.getLatLng().lng,this._spliceLatLngs(J,0,G),this._markers.splice(J,0,Z),Z.setOpacity(1),this._updateIndexes(J,1),D._index++,this._updatePrevNext(_,Z),this._updatePrevNext(Z,D),this._poly.fire("editstart")},O=function(){Z.off("dragstart",F,this),Z.off("dragend",O,this),Z.off("touchmove",F,this),this._createMiddleMarker(_,Z),this._createMiddleMarker(Z,D)},Z.on("click",x=function(){F.call(this),O.call(this),this._fireEdit()},this).on("dragstart",F,this).on("dragend",O,this).on("touchmove",F,this),this._markerGroup.addLayer(Z)},_updatePrevNext:function(_,D){_&&(_._next=D),D&&(D._prev=_)},_getMiddleLatLng:function(_,D){var x=this._poly._map,F=x.project(_.getLatLng()),O=x.project(D.getLatLng());return x.unproject(F._add(O)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(_,D){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=_,L.Util.setOptions(this,D)},addHooks:function(){var _=this._shape;this._shape._map&&(this._map=this._shape._map,_.setStyle(_.options.editing),_._map&&(this._map=_._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var _=this._shape;if(_.setStyle(_.options.original),_._map){this._unbindMarker(this._moveMarker);for(var D=0,x=this._resizeMarkers.length;D<x;D++)this._unbindMarker(this._resizeMarkers[D]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(_,D){var x=new L.Marker.Touch(_,{draggable:!0,icon:D,zIndexOffset:10});return this._bindMarker(x),this._markerGroup.addLayer(x),x},_bindMarker:function(_){_.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(_){_.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(_){_.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(_){var D=_.target,x=D.getLatLng();D===this._moveMarker?this._move(x):this._resize(x),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(_){_.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(_){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,_),"function"==typeof this._getCorners){var D=this._getCorners(),x=_.target,F=x._cornerIndex;x.setOpacity(0),this._oppositeCorner=D[(F+2)%4],this._toggleCornerMarkers(0,F)}this._shape.fire("editstart")},_onTouchMove:function(_){var D=this._map.mouseEventToLayerPoint(_.originalEvent.touches[0]),x=this._map.layerPointToLatLng(D);return _.target===this._moveMarker?this._move(x):this._resize(x),this._shape.redraw(),!1},_onTouchEnd:function(_){_.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var D=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(D,this.options.moveIcon)},_createResizeMarker:function(){var _=this._getCorners();this._resizeMarkers=[];for(var D=0,x=_.length;D<x;D++)this._resizeMarkers.push(this._createMarker(_[D],this.options.resizeIcon)),this._resizeMarkers[D]._cornerIndex=D},_onMarkerDragStart:function(_){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,_);var D=this._getCorners(),F=_.target._cornerIndex;this._oppositeCorner=D[(F+2)%4],this._toggleCornerMarkers(0,F)},_onMarkerDragEnd:function(_){var x,F=_.target;F===this._moveMarker&&(x=this._shape.getBounds().getCenter(),F.setLatLng(x)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,_)},_move:function(_){for(var D,x=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),O=this._shape.getBounds().getCenter(),G=[],Z=0,J=x.length;Z<J;Z++)G.push([_.lat+(D=[x[Z].lat-O.lat,x[Z].lng-O.lng])[0],_.lng+D[1]]);this._shape.setLatLngs(G),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(_){var D;this._shape.setBounds(L.latLngBounds(_,this._oppositeCorner)),D=this._shape.getBounds(),this._moveMarker.setLatLng(D.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var _=this._shape.getBounds();return[_.getNorthWest(),_.getNorthEast(),_.getSouthEast(),_.getSouthWest()]},_toggleCornerMarkers:function(_){for(var D=0,x=this._resizeMarkers.length;D<x;D++)this._resizeMarkers[D].setOpacity(_)},_repositionCornerMarkers:function(){for(var _=this._getCorners(),D=0,x=this._resizeMarkers.length;D<x;D++)this._resizeMarkers[D].setLatLng(_[D])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var _=this._shape.getLatLng();this._moveMarker=this._createMarker(_,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(_){if(this._resizeMarkers.length){var D=this._getResizeMarkerPoint(_);this._resizeMarkers[0].setLatLng(D)}this._shape.setLatLng(_),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var _=this._shape.getLatLng(),D=this._getResizeMarkerPoint(_);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(D,this.options.resizeIcon))},_getResizeMarkerPoint:function(_){var D=this._shape._radius*Math.cos(Math.PI/4),x=this._map.project(_);return this._map.unproject([x.x+D,x.y-D])},_resize:function(_){var D=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=D.distanceTo(_):radius=this._map.distance(D,_),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(_){this._map=_,this._container=_._container,this._pane=_._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(_,D){var x={};if(void 0!==_.touches){if(!_.touches.length)return;x=_.touches[0]}else if("touch"!==_.pointerType||(x=_,!this._filterClick(_)))return;var F=this._map.mouseEventToContainerPoint(x),O=this._map.mouseEventToLayerPoint(x),G=this._map.layerPointToLatLng(O);this._map.fire(D,{latlng:G,layerPoint:O,containerPoint:F,pageX:x.pageX,pageY:x.pageY,originalEvent:_})},_filterClick:function(_){var D=_.timeStamp||_.originalEvent.timeStamp,x=L.DomEvent._lastClick&&D-L.DomEvent._lastClick;return x&&x>100&&x<500||_.target._simulatedClick&&!_._simulated?(L.DomEvent.stop(_),!1):(L.DomEvent._lastClick=D,!0)},_onTouchStart:function(_){this._map._loaded&&this._touchEvent(_,"touchstart")},_onTouchEnd:function(_){this._map._loaded&&this._touchEvent(_,"touchend")},_onTouchCancel:function(_){if(this._map._loaded){var D="touchcancel";this._detectIE()&&(D="pointercancel"),this._touchEvent(_,D)}},_onTouchLeave:function(_){this._map._loaded&&this._touchEvent(_,"touchleave")},_onTouchMove:function(_){this._map._loaded&&this._touchEvent(_,"touchmove")},_detectIE:function(){var _=yi.navigator.userAgent,D=_.indexOf("MSIE ");if(D>0)return parseInt(_.substring(D+5,_.indexOf(".",D)),10);if(_.indexOf("Trident/")>0){var x=_.indexOf("rv:");return parseInt(_.substring(x+3,_.indexOf(".",x)),10)}var F=_.indexOf("Edge/");return F>0&&parseInt(_.substring(F+5,_.indexOf(".",F)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var _=this._icon,D=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];D.concat(this._detectIE?["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]:["touchcancel"]),L.DomUtil.addClass(_,"leaflet-clickable"),L.DomEvent.on(_,"click",this._onMouseClick,this),L.DomEvent.on(_,"keypress",this._onKeyPress,this);for(var x=0;x<D.length;x++)L.DomEvent.on(_,D[x],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var _=yi.navigator.userAgent,D=_.indexOf("MSIE ");if(D>0)return parseInt(_.substring(D+5,_.indexOf(".",D)),10);if(_.indexOf("Trident/")>0){var x=_.indexOf("rv:");return parseInt(_.substring(x+3,_.indexOf(".",x)),10)}var F=_.indexOf("Edge/");return F>0&&parseInt(_.substring(F+5,_.indexOf(".",F)),10)}}),L.LatLngUtil={cloneLatLngs:function(_){for(var D=[],x=0,F=_.length;x<F;x++)Array.isArray(_[x])?D.push(L.LatLngUtil.cloneLatLngs(_[x])):D.push(this.cloneLatLng(_[x]));return D},cloneLatLng:function(_){return L.latLng(_.lat,_.lng)}},_={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(D){var x,F,O=D.length,G=0,Z=Math.PI/180;if(O>2){for(var J=0;J<O;J++)G+=((F=D[(J+1)%O]).lng-(x=D[J]).lng)*Z*(2+Math.sin(x.lat*Z)+Math.sin(F.lat*Z));G=6378137*G*6378137/2}return Math.abs(G)},formattedNumber:function(D,x){var F=parseFloat(D).toFixed(x),O=L.drawLocal.format&&L.drawLocal.format.numeric,G=O&&O.delimiters,Z=G&&G.thousands,J=G&&G.decimal;if(Z||J){var ye=F.split(".");F=Z?ye[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+Z):ye[0],J=J||".",ye.length>1&&(F=F+J+ye[1])}return F},readableArea:function(D,x,Z){var O,G;return Z=L.Util.extend({},_,Z),x?(G=["ha","m"],type=typeof x,"string"===type?G=[x]:"boolean"!==type&&(G=x),O=D>=1e6&&-1!==G.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*D,Z.km)+" km\xb2":D>=1e4&&-1!==G.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*D,Z.ha)+" ha":L.GeometryUtil.formattedNumber(D,Z.m)+" m\xb2"):O=(D/=.836127)>=3097600?L.GeometryUtil.formattedNumber(D/3097600,Z.mi)+" mi\xb2":D>=4840?L.GeometryUtil.formattedNumber(D/4840,Z.ac)+" acres":L.GeometryUtil.formattedNumber(D,Z.yd)+" yd\xb2",O},readableDistance:function(D,x,F,O,J){var Z;switch(J=L.Util.extend({},_,J),x?"string"==typeof x?x:"metric":F?"feet":O?"nauticalMile":"yards"){case"metric":Z=D>1e3?L.GeometryUtil.formattedNumber(D/1e3,J.km)+" km":L.GeometryUtil.formattedNumber(D,J.m)+" m";break;case"feet":D*=3.28083,Z=L.GeometryUtil.formattedNumber(D,J.ft)+" ft";break;case"nauticalMile":D*=.53996,Z=L.GeometryUtil.formattedNumber(D/1e3,J.nm)+" nm";break;default:Z=(D*=1.09361)>1760?L.GeometryUtil.formattedNumber(D/1760,J.mi)+" miles":L.GeometryUtil.formattedNumber(D,J.yd)+" yd"}return Z},isVersion07x:function(){var D=L.version.split(".");return 0===parseInt(D[0],10)&&7===parseInt(D[1],10)}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(_,D,x,F){return this._checkCounterclockwise(_,x,F)!==this._checkCounterclockwise(D,x,F)&&this._checkCounterclockwise(_,D,x)!==this._checkCounterclockwise(_,D,F)},_checkCounterclockwise:function(_,D,x){return(x.y-_.y)*(D.x-_.x)>(D.y-_.y)*(x.x-_.x)}}),L.Polyline.include({intersects:function(){var _,F=this._getProjectedPoints(),O=F?F.length:0;if(this._tooFewPointsForIntersection())return!1;for(_=O-1;_>=3;_--)if(this._lineSegmentsIntersectsRange(F[_-1],F[_],_-2))return!0;return!1},newLatLngIntersects:function(_,D){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(_),D)},newPointIntersects:function(_,D){var x=this._getProjectedPoints(),F=x?x.length:0,O=x?x[F-1]:null,G=F-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(O,_,G,D?1:0)},_tooFewPointsForIntersection:function(_){var D=this._getProjectedPoints(),x=D?D.length:0;return!D||(x+=_||0)<=3},_lineSegmentsIntersectsRange:function(_,D,x,F){var Z=this._getProjectedPoints();F=F||0;for(var J=x;J>F;J--)if(L.LineUtil.segmentsIntersect(_,D,Z[J-1],Z[J]))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var _=[],D=this._defaultShape(),x=0;x<D.length;x++)_.push(this._map.latLngToLayerPoint(D[x]));return _}}),L.Polygon.include({intersects:function(){var _,O=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||this._lineSegmentsIntersectsRange(O[(_=O.length)-1],O[0],_-2,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(_){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var D;L.Control.prototype.initialize.call(this,_),this._toolbars={},L.DrawToolbar&&this.options.draw&&(D=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=D,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(D=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=D,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(_){var D,x=L.DomUtil.create("div","leaflet-draw"),F=!1;for(var O in this._toolbars)this._toolbars.hasOwnProperty(O)&&(D=this._toolbars[O].addToolbar(_))&&(F||(L.DomUtil.hasClass(D,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(D.childNodes[0],"leaflet-draw-toolbar-top"),F=!0),x.appendChild(D));return x},onRemove:function(){for(var _ in this._toolbars)this._toolbars.hasOwnProperty(_)&&this._toolbars[_].removeToolbar()},setDrawingOptions:function(_){for(var D in this._toolbars)this._toolbars[D]instanceof L.DrawToolbar&&this._toolbars[D].setOptions(_)},_toolbarEnabled:function(_){var D=_.target;for(var x in this._toolbars)this._toolbars[x]!==D&&this._toolbars[x].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(_){L.setOptions(this,_),this._modes={},this._actionButtons=[],this._activeMode=null;var D=L.version.split(".");1===parseInt(D[0],10)&&parseInt(D[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(_){var D,x=L.DomUtil.create("div","leaflet-draw-section"),F=0,O=this._toolbarClass||"",G=this.getModeHandlers(_);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=_,D=0;D<G.length;D++)G[D].enabled&&this._initModeHandler(G[D].handler,this._toolbarContainer,F++,O,G[D].title);if(F)return this._lastButtonIndex=--F,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),x.appendChild(this._toolbarContainer),x.appendChild(this._actionsContainer),x},removeToolbar:function(){for(var _ in this._modes)this._modes.hasOwnProperty(_)&&(this._disposeButton(this._modes[_].button,this._modes[_].handler.enable,this._modes[_].handler),this._modes[_].handler.disable(),this._modes[_].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var D=0,x=this._actionButtons.length;D<x;D++)this._disposeButton(this._actionButtons[D].button,this._actionButtons[D].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(_,D,x,F,O){var G=_.type;this._modes[G]={},this._modes[G].handler=_,this._modes[G].button=this._createButton({type:G,title:O,className:F+"-"+G,container:D,callback:this._modes[G].handler.enable,context:this._modes[G].handler}),this._modes[G].buttonIndex=x,this._modes[G].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!yi.MSStream},_createButton:function(_){var D=L.DomUtil.create("a",_.className||"",_.container),x=L.DomUtil.create("span","sr-only",_.container);D.href="#",D.appendChild(x),_.title&&(D.title=_.title,x.innerHTML=_.title),_.text&&(D.innerHTML=_.text,x.innerHTML=_.text);var F=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(D,"click",L.DomEvent.stopPropagation).on(D,"mousedown",L.DomEvent.stopPropagation).on(D,"dblclick",L.DomEvent.stopPropagation).on(D,"touchstart",L.DomEvent.stopPropagation).on(D,"click",L.DomEvent.preventDefault).on(D,F,_.callback,_.context),D},_disposeButton:function(_,D){var x=this._detectIOS()?"touchstart":"click";L.DomEvent.off(_,"click",L.DomEvent.stopPropagation).off(_,"mousedown",L.DomEvent.stopPropagation).off(_,"dblclick",L.DomEvent.stopPropagation).off(_,"touchstart",L.DomEvent.stopPropagation).off(_,"click",L.DomEvent.preventDefault).off(_,x,D)},_handlerActivated:function(_){this.disable(),this._activeMode=this._modes[_.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(_){var D,x,F,O,G=this._actionsContainer,Z=this.getActions(_),J=Z.length;for(x=0,F=this._actionButtons.length;x<F;x++)this._disposeButton(this._actionButtons[x].button,this._actionButtons[x].callback);for(this._actionButtons=[];G.firstChild;)G.removeChild(G.firstChild);for(var ye=0;ye<J;ye++)"enabled"in Z[ye]&&!Z[ye].enabled||(D=L.DomUtil.create("li","",G),O=this._createButton({title:Z[ye].title,text:Z[ye].text,container:D,callback:Z[ye].callback,context:Z[ye].context}),this._actionButtons.push({button:O,callback:Z[ye].callback}))},_showActionsToolbar:function(){var _=this._activeMode.buttonIndex,D=this._lastButtonIndex,x=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=x+"px",0===_&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),_===D&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(_){this._map=_,this._popupPane=_._panes.popupPane,this._visible=!1,this._container=_.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(_){return this._container?(_.subtext=_.subtext||"",0!==_.subtext.length||this._singleLineLabel?_.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(_.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+_.subtext+"</span><br />":"")+"<span>"+_.text+"</span>",_.text||_.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(_){var D=this._map.latLngToLayerPoint(_),x=this._container;return this._container&&(this._visible&&(x.style.visibility="inherit"),L.DomUtil.setPosition(x,D)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(_){for(var D in this.options)this.options.hasOwnProperty(D)&&_[D]&&(_[D]=L.extend({},this.options[D],_[D]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,_)},getModeHandlers:function(_){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(_,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(_,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(_,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(_,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(_,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(_,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(_){return[{enabled:_.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:_.completeShape,context:_},{enabled:_.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:_.deleteLastVertex,context:_},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(_){for(var D in L.setOptions(this,_),this._modes)this._modes.hasOwnProperty(D)&&_.hasOwnProperty(D)&&this._modes[D].handler.setOptions(_[D])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(_){_.edit&&(void 0===_.edit.selectedPathOptions&&(_.edit.selectedPathOptions=this.options.edit.selectedPathOptions),_.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,_.edit.selectedPathOptions)),_.remove&&(_.remove=L.extend({},this.options.remove,_.remove)),_.poly&&(_.poly=L.extend({},this.options.poly,_.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,_),this._selectedFeatureCount=0},getModeHandlers:function(_){var D=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(_,{featureGroup:D,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(_,{featureGroup:D}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(_){var D=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return _.removeAllLayers&&D.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),D},addToolbar:function(_){var D=L.Toolbar.prototype.addToolbar.call(this,_);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),D},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var _,x=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(_=this._modes[L.EditToolbar.Edit.TYPE].button,x?L.DomUtil.removeClass(_,"leaflet-disabled"):L.DomUtil.addClass(_,"leaflet-disabled"),_.setAttribute("title",x?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(_=this._modes[L.EditToolbar.Delete.TYPE].button,x?L.DomUtil.removeClass(_,"leaflet-disabled"):L.DomUtil.addClass(_,"leaflet-disabled"),_.setAttribute("title",x?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(_,D){if(L.Handler.prototype.initialize.call(this,_),L.setOptions(this,D),this._featureGroup=D.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var x=L.version.split(".");1===parseInt(x[0],10)&&parseInt(x[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var _=this._map;_&&(_.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),_._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(_){this._revertLayer(_)},this)},save:function(){var _=new L.LayerGroup;this._featureGroup.eachLayer(function(D){D.edited&&(_.addLayer(D),D.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:_})},_backupLayer:function(_){var D=L.Util.stamp(_);this._uneditedLayerProps[D]||(_ instanceof L.Polyline||_ instanceof L.Polygon||_ instanceof L.Rectangle?this._uneditedLayerProps[D]={latlngs:L.LatLngUtil.cloneLatLngs(_.getLatLngs())}:_ instanceof L.Circle?this._uneditedLayerProps[D]={latlng:L.LatLngUtil.cloneLatLng(_.getLatLng()),radius:_.getRadius()}:(_ instanceof L.Marker||_ instanceof L.CircleMarker)&&(this._uneditedLayerProps[D]={latlng:L.LatLngUtil.cloneLatLng(_.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(_){var D=L.Util.stamp(_);_.edited=!1,this._uneditedLayerProps.hasOwnProperty(D)&&(_ instanceof L.Polyline||_ instanceof L.Polygon||_ instanceof L.Rectangle?_.setLatLngs(this._uneditedLayerProps[D].latlngs):_ instanceof L.Circle?(_.setLatLng(this._uneditedLayerProps[D].latlng),_.setRadius(this._uneditedLayerProps[D].radius)):(_ instanceof L.Marker||_ instanceof L.CircleMarker)&&_.setLatLng(this._uneditedLayerProps[D].latlng),_.fire("revert-edited",{layer:_}))},_enableLayerEdit:function(_){var D,x,F=_.layer||_.target||_;this._backupLayer(F),this.options.poly&&(x=L.Util.extend({},this.options.poly),F.options.poly=x),this.options.selectedPathOptions&&((D=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(D.color=F.options.color,D.fillColor=F.options.fillColor),F.options.original=L.extend({},F.options),F.options.editing=D),F instanceof L.Marker?(F.editing&&F.editing.enable(),F.dragging.enable(),F.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):F.editing.enable()},_disableLayerEdit:function(_){var D=_.layer||_.target||_;D.edited=!1,D.editing&&D.editing.disable(),delete D.options.editing,delete D.options.original,this._selectedPathOptions&&(D instanceof L.Marker?this._toggleMarkerHighlight(D):(D.setStyle(D.options.previousOptions),delete D.options.previousOptions)),D instanceof L.Marker?(D.dragging.disable(),D.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):D.editing.disable()},_onMouseMove:function(_){this._tooltip.updatePosition(_.latlng)},_onMarkerDragEnd:function(_){var D=_.target;D.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:D})},_onTouchMove:function(_){var x=this._map.mouseEventToLayerPoint(_.originalEvent.changedTouches[0]),F=this._map.layerPointToLatLng(x);_.target.setLatLng(F)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(_,D){if(L.Handler.prototype.initialize.call(this,_),L.Util.setOptions(this,D),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var x=L.version.split(".");1===parseInt(x[0],10)&&parseInt(x[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var _=this._map;_&&(_.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(_){this._deletableLayers.addLayer(_),_.fire("revert-deleted",{layer:_})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(_){this._removeLayer({layer:_})},this),this.save()},_enableLayerDelete:function(_){(_.layer||_.target||_).on("click",this._removeLayer,this)},_disableLayerDelete:function(_){var D=_.layer||_.target||_;D.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(D)},_removeLayer:function(_){var D=_.layer||_.target||_;this._deletableLayers.removeLayer(D),this._deletedLayers.addLayer(D),D.fire("deleted")},_onMouseMove:function(_){this._tooltip.updatePosition(_.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},433:function(yi,wn){!function(te){"use strict";function _(o){var l,h,m,y;for(h=1,m=arguments.length;h<m;h++)for(l in y=arguments[h])o[l]=y[l];return o}var D=Object.create||function(){function o(){}return function(l){return o.prototype=l,new o}}();function x(o,l){var h=Array.prototype.slice;if(o.bind)return o.bind.apply(o,h.call(arguments,1));var m=h.call(arguments,2);return function(){return o.apply(l,m.length?m.concat(h.call(arguments)):arguments)}}var F=0;function O(o){return o._leaflet_id=o._leaflet_id||++F,o._leaflet_id}function G(o,l,h){var m,y,S,N;return N=function(){m=!1,y&&(S.apply(h,y),y=!1)},S=function(){m?y=arguments:(o.apply(h,arguments),setTimeout(N,l),m=!0)},S}function Z(o,l,h){var m=l[1],y=l[0],S=m-y;return o===m&&h?o:((o-y)%S+S)%S+y}function J(){return!1}function ye(o,l){var h=Math.pow(10,void 0===l?6:l);return Math.round(o*h)/h}function Q(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function Qt(o){return Q(o).split(/\s+/)}function nt(o,l){for(var h in Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?D(o.options):{}),l)o.options[h]=l[h];return o.options}function Qs(o,l,h){var m=[];for(var y in o)m.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(o[y]));return(l&&-1!==l.indexOf("?")?"&":"?")+m.join("&")}var se=/\{ *([\w_-]+) *\}/g;function bt(o,l){return o.replace(se,function(h,m){var y=l[m];if(void 0===y)throw new Error("No value provided for variable "+h);return"function"==typeof y&&(y=y(l)),y})}var ct=Array.isArray||function(o){return"[object Array]"===Object.prototype.toString.call(o)};function We(o,l){for(var h=0;h<o.length;h++)if(o[h]===l)return h;return-1}var wi="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ht(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var Bt=0;function Mo(o){var l=+new Date,h=Math.max(0,16-(l-Bt));return Bt=l+h,window.setTimeout(o,h)}var Rr=window.requestAnimationFrame||ht("RequestAnimationFrame")||Mo,xn=window.cancelAnimationFrame||ht("CancelAnimationFrame")||ht("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function Rt(o,l,h){if(!h||Rr!==Mo)return Rr.call(window,x(o,l));o.call(l)}function $t(o){o&&xn.call(window,o)}var Mn={extend:_,create:D,bind:x,lastId:F,stamp:O,throttle:G,wrapNum:Z,falseFn:J,formatNum:ye,trim:Q,splitWords:Qt,setOptions:nt,getParamString:Qs,template:bt,isArray:ct,indexOf:We,emptyImageUrl:wi,requestFn:Rr,cancelFn:xn,requestAnimFrame:Rt,cancelAnimFrame:$t};function qn(){}qn.extend=function(o){var l=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,m=D(h);for(var y in m.constructor=l,l.prototype=m,this)Object.prototype.hasOwnProperty.call(this,y)&&"prototype"!==y&&"__super__"!==y&&(l[y]=this[y]);return o.statics&&(_(l,o.statics),delete o.statics),o.includes&&(function rs(o){if(!(typeof L>"u")&&L&&L.Mixin){o=ct(o)?o:[o];for(var l=0;l<o.length;l++)o[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(o.includes),_.apply(null,[m].concat(o.includes)),delete o.includes),m.options&&(o.options=_(D(m.options),o.options)),_(m,o),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,N=m._initHooks.length;S<N;S++)m._initHooks[S].call(this)}},l},qn.include=function(o){return _(this.prototype,o),this},qn.mergeOptions=function(o){return _(this.prototype.options,o),this},qn.addInitHook=function(o){var l=Array.prototype.slice.call(arguments,1),h="function"==typeof o?o:function(){this[o].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};var qe={on:function(o,l,h){if("object"==typeof o)for(var m in o)this._on(m,o[m],l);else for(var y=0,S=(o=Qt(o)).length;y<S;y++)this._on(o[y],l,h);return this},off:function(o,l,h){if(o)if("object"==typeof o)for(var m in o)this._off(m,o[m],l);else for(var y=0,S=(o=Qt(o)).length;y<S;y++)this._off(o[y],l,h);else delete this._events;return this},_on:function(o,l,h){this._events=this._events||{};var m=this._events[o];m||(this._events[o]=m=[]),h===this&&(h=void 0);for(var y={fn:l,ctx:h},S=m,N=0,j=S.length;N<j;N++)if(S[N].fn===l&&S[N].ctx===h)return;S.push(y)},_off:function(o,l,h){var m,y,S;if(this._events&&(m=this._events[o])){if(!l){for(y=0,S=m.length;y<S;y++)m[y].fn=J;return void delete this._events[o]}if(h===this&&(h=void 0),m)for(y=0,S=m.length;y<S;y++){var N=m[y];if(N.ctx===h&&N.fn===l)return N.fn=J,this._firingCount&&(this._events[o]=m=m.slice()),void m.splice(y,1)}}},fire:function(o,l,h){if(!this.listens(o,h))return this;var m=_({},l,{type:o,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[o];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,N=y.length;S<N;S++){var j=y[S];j.fn.call(j.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(o,l){var h=this._events&&this._events[o];if(h&&h.length)return!0;if(l)for(var m in this._eventParents)if(this._eventParents[m].listens(o,l))return!0;return!1},once:function(o,l,h){if("object"==typeof o){for(var m in o)this.once(m,o[m],l);return this}var y=x(function(){this.off(o,l,h).off(o,y,h)},this);return this.on(o,l,h).on(o,y,h)},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[O(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[O(o)],this},_propagateEvent:function(o){for(var l in this._eventParents)this._eventParents[l].fire(o.type,_({layer:o.target,propagatedFrom:o.target},o),!0)}};qe.addEventListener=qe.on,qe.removeEventListener=qe.clearAllEventListeners=qe.off,qe.addOneTimeEventListener=qe.once,qe.fireEvent=qe.fire,qe.hasEventListeners=qe.listens;var Ui=qn.extend(qe);function Ee(o,l,h){this.x=h?Math.round(o):o,this.y=h?Math.round(l):l}var Ks=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};function Ke(o,l,h){return o instanceof Ee?o:ct(o)?new Ee(o[0],o[1]):null==o?o:"object"==typeof o&&"x"in o&&"y"in o?new Ee(o.x,o.y):new Ee(o,l,h)}function Je(o,l){if(o)for(var h=l?[o,l]:o,m=0,y=h.length;m<y;m++)this.extend(h[m])}function Kt(o,l){return!o||o instanceof Je?o:new Je(o,l)}function lt(o,l){if(o)for(var h=l?[o,l]:o,m=0,y=h.length;m<y;m++)this.extend(h[m])}function ot(o,l){return o instanceof lt?o:new lt(o,l)}function xe(o,l,h){if(isNaN(o)||isNaN(l))throw new Error("Invalid LatLng object: ("+o+", "+l+")");this.lat=+o,this.lng=+l,void 0!==h&&(this.alt=+h)}function Ne(o,l,h){return o instanceof xe?o:ct(o)&&"object"!=typeof o[0]?3===o.length?new xe(o[0],o[1],o[2]):2===o.length?new xe(o[0],o[1]):null:null==o?o:"object"==typeof o&&"lat"in o?new xe(o.lat,"lng"in o?o.lng:o.lon,o.alt):void 0===l?null:new xe(o,l,h)}Ee.prototype={clone:function(){return new Ee(this.x,this.y)},add:function(o){return this.clone()._add(Ke(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(Ke(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Ee(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Ee(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ks(this.x),this.y=Ks(this.y),this},distanceTo:function(o){var l=(o=Ke(o)).x-this.x,h=o.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(o){return(o=Ke(o)).x===this.x&&o.y===this.y},contains:function(o){return o=Ke(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+ye(this.x)+", "+ye(this.y)+")"}},Je.prototype={extend:function(o){return o=Ke(o),this.min||this.max?(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)):(this.min=o.clone(),this.max=o.clone()),this},getCenter:function(o){return new Ee((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return new Ee(this.min.x,this.max.y)},getTopRight:function(){return new Ee(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var l,h;return(o="number"==typeof o[0]||o instanceof Ee?Ke(o):Kt(o))instanceof Je?(l=o.min,h=o.max):l=h=o,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(o){o=Kt(o);var l=this.min,h=this.max,m=o.min,y=o.max;return y.x>=l.x&&m.x<=h.x&&y.y>=l.y&&m.y<=h.y},overlaps:function(o){o=Kt(o);var l=this.min,h=this.max,m=o.min,y=o.max;return y.x>l.x&&m.x<h.x&&y.y>l.y&&m.y<h.y},isValid:function(){return!(!this.min||!this.max)}},lt.prototype={extend:function(o){var m,y,l=this._southWest,h=this._northEast;if(o instanceof xe)m=o,y=o;else{if(!(o instanceof lt))return o?this.extend(Ne(o)||ot(o)):this;if(y=o._northEast,!(m=o._southWest)||!y)return this}return l||h?(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)):(this._southWest=new xe(m.lat,m.lng),this._northEast=new xe(y.lat,y.lng)),this},pad:function(o){var l=this._southWest,h=this._northEast,m=Math.abs(l.lat-h.lat)*o,y=Math.abs(l.lng-h.lng)*o;return new lt(new xe(l.lat-m,l.lng-y),new xe(h.lat+m,h.lng+y))},getCenter:function(){return new xe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new xe(this.getNorth(),this.getWest())},getSouthEast:function(){return new xe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){o="number"==typeof o[0]||o instanceof xe||"lat"in o?Ne(o):ot(o);var m,y,l=this._southWest,h=this._northEast;return o instanceof lt?(m=o.getSouthWest(),y=o.getNorthEast()):m=y=o,m.lat>=l.lat&&y.lat<=h.lat&&m.lng>=l.lng&&y.lng<=h.lng},intersects:function(o){o=ot(o);var l=this._southWest,h=this._northEast,m=o.getSouthWest(),y=o.getNorthEast();return y.lat>=l.lat&&m.lat<=h.lat&&y.lng>=l.lng&&m.lng<=h.lng},overlaps:function(o){o=ot(o);var l=this._southWest,h=this._northEast,m=o.getSouthWest(),y=o.getNorthEast();return y.lat>l.lat&&m.lat<h.lat&&y.lng>l.lng&&m.lng<h.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,l){return!!o&&(o=ot(o),this._southWest.equals(o.getSouthWest(),l)&&this._northEast.equals(o.getNorthEast(),l))},isValid:function(){return!(!this._southWest||!this._northEast)}},xe.prototype={equals:function(o,l){return!!o&&(o=Ne(o),Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng))<=(void 0===l?1e-9:l))},toString:function(o){return"LatLng("+ye(this.lat,o)+", "+ye(this.lng,o)+")"},distanceTo:function(o){return Zn.distance(this,Ne(o))},wrap:function(){return Zn.wrapLatLng(this)},toBounds:function(o){var l=180*o/40075017,h=l/Math.cos(Math.PI/180*this.lat);return ot([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new xe(this.lat,this.lng,this.alt)}};var o,ke={latLngToPoint:function(o,l){var h=this.projection.project(o),m=this.scale(l);return this.transformation._transform(h,m)},pointToLatLng:function(o,l){var h=this.scale(l),m=this.transformation.untransform(o,h);return this.projection.unproject(m)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(o);return new Je(this.transformation.transform(l.min,h),this.transformation.transform(l.max,h))},infinite:!1,wrapLatLng:function(o){var l=this.wrapLng?Z(o.lng,this.wrapLng,!0):o.lng;return new xe(this.wrapLat?Z(o.lat,this.wrapLat,!0):o.lat,l,o.alt)},wrapLatLngBounds:function(o){var l=o.getCenter(),h=this.wrapLatLng(l),m=l.lat-h.lat,y=l.lng-h.lng;if(0===m&&0===y)return o;var S=o.getSouthWest(),N=o.getNorthEast();return new lt(new xe(S.lat-m,S.lng-y),new xe(N.lat-m,N.lng-y))}},Zn=_({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(o,l){var h=Math.PI/180,m=o.lat*h,y=l.lat*h,S=Math.sin((l.lat-o.lat)*h/2),N=Math.sin((l.lng-o.lng)*h/2),j=S*S+Math.cos(m)*Math.cos(y)*N*N,H=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*H}}),Dn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(o){var l=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,o.lat),-h),y=Math.sin(m*l);return new Ee(this.R*o.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(o){var l=180/Math.PI;return new xe((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*l,o.x*l/this.R)},bounds:(o=6378137*Math.PI,new Je([-o,-o],[o,o]))};function Xs(o,l,h,m){if(ct(o))return this._a=o[0],this._b=o[1],this._c=o[2],void(this._d=o[3]);this._a=o,this._b=l,this._c=h,this._d=m}function kr(o,l,h,m){return new Xs(o,l,h,m)}Xs.prototype={transform:function(o,l){return this._transform(o.clone(),l)},_transform:function(o,l){return o.x=(l=l||1)*(this._a*o.x+this._b),o.y=l*(this._c*o.y+this._d),o},untransform:function(o,l){return new Ee((o.x/(l=l||1)-this._b)/this._a,(o.y/l-this._d)/this._c)}};var mn=_({},Zn,{code:"EPSG:3857",projection:Dn,transformation:function(){var o=.5/(Math.PI*Dn.R);return kr(o,.5,-o,.5)}()}),os=_({},mn,{code:"EPSG:900913"});function Js(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function gl(o,l){var m,y,S,N,j,H,h="";for(m=0,S=o.length;m<S;m++){for(y=0,N=(j=o[m]).length;y<N;y++)h+=(y?"L":"M")+(H=j[y]).x+" "+H.y;h+=l?xo?"z":"x":""}return h||"M0 0"}var Do=document.documentElement.style,ss="ActiveXObject"in window,zi=ss&&!document.addEventListener,Co="msLaunchUri"in navigator&&!("documentMode"in document),ea=Wn("webkit"),Eo=Wn("android"),bo=Wn("android 2")||Wn("android 3"),Hi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),as=Eo&&Wn("Google")&&Hi<537&&!("AudioNode"in window),Tn=!!window.opera,Vi=!Co&&Wn("chrome"),ue=Wn("gecko")&&!ea&&!Tn&&!ss,on=!Vi&&Wn("safari"),Or=Wn("phantom"),ml="OTransition"in Do,_l=0===navigator.platform.indexOf("Win"),ta=ss&&"transition"in Do,Io="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!bo,ls="MozPerspective"in Do,_n=!window.L_DISABLE_3D&&(ta||Io||ls)&&!ml&&!Or,Mi=typeof orientation<"u"||Wn("mobile"),na=Mi&&ea,Hu=Mi&&Io,si=!window.PointerEvent&&window.MSPointerEvent,sn=!(!window.PointerEvent&&!si),an=!window.L_NO_TOUCH&&(sn||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),So=Mi&&Tn,ai=Mi&&ue,Di=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cr=function(){var o=!1;try{var l=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",J,l),window.removeEventListener("testPassiveEventSupport",J,l)}catch{}return o}(),Ie=!!document.createElement("canvas").getContext,xo=!(!document.createElementNS||!Js("svg").createSVGRect),Fr=!xo&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var l=o.firstChild;return l.style.behavior="url(#default#VML)",l&&"object"==typeof l.adj}catch{return!1}}();function Wn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var kt={ie:ss,ielt9:zi,edge:Co,webkit:ea,android:Eo,android23:bo,androidStock:as,opera:Tn,chrome:Vi,gecko:ue,safari:on,phantom:Or,opera12:ml,win:_l,ie3d:ta,webkit3d:Io,gecko3d:ls,any3d:_n,mobile:Mi,mobileWebkit:na,mobileWebkit3d:Hu,msPointer:si,pointer:sn,touch:an,mobileOpera:So,mobileGecko:ai,retina:Di,passiveEvents:cr,canvas:Ie,svg:xo,vml:Fr},Ln=si?"MSPointerDown":"pointerdown",us=si?"MSPointerMove":"pointermove",It=si?"MSPointerUp":"pointerup",Ci=si?"MSPointerCancel":"pointercancel",Xt={},vl=!1;function hr(o,l,h,m){return"touchstart"===l?function cs(o,l,h){var m=x(function(y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&An(y),To(y,l)});o["_leaflet_touchstart"+h]=m,o.addEventListener(Ln,m,!1),vl||(document.addEventListener(Ln,hs,!0),document.addEventListener(us,Br,!0),document.addEventListener(It,ia,!0),document.addEventListener(Ci,ia,!0),vl=!0)}(o,h,m):"touchmove"===l?function ra(o,l,h){var m=function(y){y.pointerType===(y.MSPOINTER_TYPE_MOUSE||"mouse")&&0===y.buttons||To(y,l)};o["_leaflet_touchmove"+h]=m,o.addEventListener(us,m,!1)}(o,h,m):"touchend"===l&&function dr(o,l,h){var m=function(y){To(y,l)};o["_leaflet_touchend"+h]=m,o.addEventListener(It,m,!1),o.addEventListener(Ci,m,!1)}(o,h,m),this}function hs(o){Xt[o.pointerId]=o}function Br(o){Xt[o.pointerId]&&(Xt[o.pointerId]=o)}function ia(o){delete Xt[o.pointerId]}function To(o,l){for(var h in o.touches=[],Xt)o.touches.push(Xt[h]);o.changedTouches=[o],l(o)}var Ei=si?"MSPointerDown":sn?"pointerdown":"touchstart",Lo=si?"MSPointerUp":sn?"pointerup":"touchend",$i="_leaflet_";var K,Lt,_e,Po,pr,fs=Zi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),dt=Zi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),oa="webkitTransition"===dt||"OTransition"===dt?dt+"End":"transitionend";function De(o){return"string"==typeof o?document.getElementById(o):o}function Pn(o,l){var h=o.style[l]||o.currentStyle&&o.currentStyle[l];if((!h||"auto"===h)&&document.defaultView){var m=document.defaultView.getComputedStyle(o,null);h=m?m[l]:null}return"auto"===h?null:h}function Ye(o,l,h){var m=document.createElement(o);return m.className=l||"",h&&h.appendChild(m),m}function ut(o){var l=o.parentNode;l&&l.removeChild(o)}function ln(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function fr(o){var l=o.parentNode;l&&l.lastChild!==o&&l.appendChild(o)}function Gi(o){var l=o.parentNode;l&&l.firstChild!==o&&l.insertBefore(o,l.firstChild)}function et(o,l){if(void 0!==o.classList)return o.classList.contains(l);var h=jr(o);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Ce(o,l){if(void 0!==o.classList)for(var h=Qt(l),m=0,y=h.length;m<y;m++)o.classList.add(h[m]);else if(!et(o,l)){var S=jr(o);qi(o,(S?S+" ":"")+l)}}function Le(o,l){void 0!==o.classList?o.classList.remove(l):qi(o,Q((" "+jr(o)+" ").replace(" "+l+" "," ")))}function qi(o,l){void 0===o.className.baseVal?o.className=l:o.className.baseVal=l}function jr(o){return o.correspondingElement&&(o=o.correspondingElement),void 0===o.className.baseVal?o.className:o.className.baseVal}function un(o,l){"opacity"in o.style?o.style.opacity=l:"filter"in o.style&&function he(o,l){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=o.filters.item(m)}catch{if(1===l)return}l=Math.round(100*l),h?(h.Enabled=100!==l,h.Opacity=l):o.style.filter+=" progid:"+m+"(opacity="+l+")"}(o,l)}function Zi(o){for(var l=document.documentElement.style,h=0;h<o.length;h++)if(o[h]in l)return o[h];return!1}function Yn(o,l,h){var m=l||new Ee(0,0);o.style[fs]=(ta?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function St(o,l){o._leaflet_pos=l,_n?Yn(o,l):(o.style.left=l.x+"px",o.style.top=l.y+"px")}function cn(o){return o._leaflet_pos||new Ee(0,0)}if("onselectstart"in document)K=function(){He(window,"selectstart",An)},Lt=function(){Ct(window,"selectstart",An)};else{var Fe=Zi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);K=function(){if(Fe){var o=document.documentElement.style;_e=o[Fe],o[Fe]="none"}},Lt=function(){Fe&&(document.documentElement.style[Fe]=_e,_e=void 0)}}function ps(){He(window,"dragstart",An)}function gs(){Ct(window,"dragstart",An)}function jt(o){for(;-1===o.tabIndex;)o=o.parentNode;o.style&&(Ao(),Po=o,pr=o.style.outline,o.style.outline="none",He(window,"keydown",Ao))}function Ao(){Po&&(Po.style.outline=pr,Po=void 0,pr=void 0,Ct(window,"keydown",Ao))}function sa(o){do{o=o.parentNode}while(!(o.offsetWidth&&o.offsetHeight||o===document.body));return o}function No(o){var l=o.getBoundingClientRect();return{x:l.width/o.offsetWidth||1,y:l.height/o.offsetHeight||1,boundingClientRect:l}}var Wi={TRANSFORM:fs,TRANSITION:dt,TRANSITION_END:oa,get:De,getStyle:Pn,create:Ye,remove:ut,empty:ln,toFront:fr,toBack:Gi,hasClass:et,addClass:Ce,removeClass:Le,setClass:qi,getClass:jr,setOpacity:un,testProp:Zi,setTransform:Yn,setPosition:St,getPosition:cn,disableTextSelection:K,enableTextSelection:Lt,disableImageDrag:ps,enableImageDrag:gs,preventOutline:jt,restoreOutline:Ao,getSizedParentNode:sa,getScale:No};function He(o,l,h,m){if("object"==typeof l)for(var y in l)ms(o,y,l[y],h);else for(var S=0,N=(l=Qt(l)).length;S<N;S++)ms(o,l[S],h,m);return this}var Qn="_leaflet_events";function Ct(o,l,h,m){if("object"==typeof l)for(var y in l)_s(o,y,l[y],h);else if(l)for(var S=0,N=(l=Qt(l)).length;S<N;S++)_s(o,l[S],h,m);else{for(var j in o[Qn])_s(o,j,o[Qn][j]);delete o[Qn]}return this}function Ml(){if(sn)return!(Co||on)}var Ro={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ms(o,l,h,m){var y=l+O(h)+(m?"_"+O(m):"");if(o[Qn]&&o[Qn][y])return this;var S=function(j){return h.call(m||o,j||window.event)},N=S;sn&&0===l.indexOf("touch")?hr(o,l,S,y):an&&"dblclick"===l&&!Ml()?function ds(o,l,h){var m,y,S=!1;function j(W){if(sn){if(!W.isPrimary||"mouse"===W.pointerType)return}else if(W.touches.length>1)return;var ae=Date.now(),de=ae-(m||ae);y=W.touches?W.touches[0]:W,S=de>0&&de<=250,m=ae}function H(W){if(S&&!y.cancelBubble){if(sn){if("mouse"===W.pointerType)return;var de,le,ae={};for(le in y)ae[le]=(de=y[le])&&de.bind?de.bind(y):de;y=ae}y.type="dblclick",y.button=0,l(y),m=null}}return o[$i+Ei+h]=j,o[$i+Lo+h]=H,o[$i+"dblclick"+h]=l,o.addEventListener(Ei,j,!!cr&&{passive:!1}),o.addEventListener(Lo,H,!!cr&&{passive:!1}),o.addEventListener("dblclick",l,!1),this}(o,S,y):"addEventListener"in o?"touchstart"===l||"touchmove"===l||"wheel"===l||"mousewheel"===l?o.addEventListener(Ro[l]||l,S,!!cr&&{passive:!1}):"mouseenter"===l||"mouseleave"===l?o.addEventListener(Ro[l],S=function(j){j=j||window.event,Ur(o,j)&&N(j)},!1):o.addEventListener(l,N,!1):"attachEvent"in o&&o.attachEvent("on"+l,S),o[Qn]=o[Qn]||{},o[Qn][y]=S}function _s(o,l,h,m){var y=l+O(h)+(m?"_"+O(m):""),S=o[Qn]&&o[Qn][y];if(!S)return this;sn&&0===l.indexOf("touch")?function yl(o,l,h){var m=o["_leaflet_"+l+h];return"touchstart"===l?o.removeEventListener(Ln,m,!1):"touchmove"===l?o.removeEventListener(us,m,!1):"touchend"===l&&(o.removeEventListener(It,m,!1),o.removeEventListener(Ci,m,!1)),this}(o,l,y):an&&"dblclick"===l&&!Ml()?function wl(o,l){var m=o[$i+Lo+l],y=o[$i+"dblclick"+l];return o.removeEventListener(Ei,o[$i+Ei+l],!!cr&&{passive:!1}),o.removeEventListener(Lo,m,!!cr&&{passive:!1}),o.removeEventListener("dblclick",y,!1),this}(o,y):"removeEventListener"in o?o.removeEventListener(Ro[l]||l,S,!1):"detachEvent"in o&&o.detachEvent("on"+l,S),o[Qn][y]=null}function gr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,vs(o),this}function Pt(o){return ms(o,"wheel",gr),this}function pe(o){return He(o,"mousedown touchstart dblclick",gr),ms(o,"click",mr),this}function An(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function bi(o){return An(o),gr(o),this}function aa(o,l){if(!l)return new Ee(o.clientX,o.clientY);var h=No(l),m=h.boundingClientRect;return new Ee((o.clientX-m.left)/h.x-l.clientLeft,(o.clientY-m.top)/h.y-l.clientTop)}var we=_l&&Vi?2*window.devicePixelRatio:ue?window.devicePixelRatio:1;function la(o){return Co?o.wheelDeltaY/2:o.deltaY&&0===o.deltaMode?-o.deltaY/we:o.deltaY&&1===o.deltaMode?20*-o.deltaY:o.deltaY&&2===o.deltaMode?60*-o.deltaY:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?20*-o.detail:o.detail?o.detail/-32765*60:0}var Kn={};function mr(o){Kn[o.type]=!0}function vs(o){var l=Kn[o.type];return Kn[o.type]=!1,l}function Ur(o,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==o;)h=h.parentNode}catch{return!1}return h!==o}var Dl={on:He,off:Ct,stopPropagation:gr,disableScrollPropagation:Pt,disableClickPropagation:pe,preventDefault:An,stop:bi,getMousePosition:aa,getWheelDelta:la,fakeStop:mr,skipped:vs,isExternalTarget:Ur,addListener:He,removeListener:Ct},zr=Ui.extend({run:function(o,l,h,m){this.stop(),this._el=o,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=cn(o),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Rt(this._animate,this),this._step()},_step:function(o){var l=+new Date-this._startTime,h=1e3*this._duration;l<h?this._runFrame(this._easeOut(l/h),o):(this._runFrame(1),this._complete())},_runFrame:function(o,l){var h=this._startPos.add(this._offset.multiplyBy(o));l&&h._round(),St(this._el,h),this.fire("step")},_complete:function(){$t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ve=Ui.extend({options:{crs:mn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,l){l=nt(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=x(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),void 0!==l.zoom&&(this._zoom=this._limitZoom(l.zoom)),l.center&&void 0!==l.zoom&&this.setView(Ne(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=dt&&_n&&!So&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),He(this._proxy,oa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,l,h){return l=void 0===l?this._zoom:this._limitZoom(l),o=this._limitCenter(Ne(o),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&!0!==h&&(void 0!==h.animate&&(h.zoom=_({animate:h.animate},h.zoom),h.pan=_({animate:h.animate,duration:h.duration},h.pan)),this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,l,h.zoom):this._tryAnimatedPan(o,h.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(o,l),this)},setZoom:function(o,l){return this._loaded?this.setView(this.getCenter(),o,{zoom:l}):(this._zoom=o,this)},zoomIn:function(o,l){return this.setZoom(this._zoom+(o=o||(_n?this.options.zoomDelta:1)),l)},zoomOut:function(o,l){return this.setZoom(this._zoom-(o=o||(_n?this.options.zoomDelta:1)),l)},setZoomAround:function(o,l,h){var m=this.getZoomScale(l),y=this.getSize().divideBy(2),N=(o instanceof Ee?o:this.latLngToContainerPoint(o)).subtract(y).multiplyBy(1-1/m),j=this.containerPointToLatLng(y.add(N));return this.setView(j,l,{zoom:h})},_getBoundsCenterZoom:function(o,l){l=l||{},o=o.getBounds?o.getBounds():ot(o);var h=Ke(l.paddingTopLeft||l.padding||[0,0]),m=Ke(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(o,!1,h.add(m));if((y="number"==typeof l.maxZoom?Math.min(l.maxZoom,y):y)===1/0)return{center:o.getCenter(),zoom:y};var S=m.subtract(h).divideBy(2),N=this.project(o.getSouthWest(),y),j=this.project(o.getNorthEast(),y);return{center:this.unproject(N.add(j).divideBy(2).add(S),y),zoom:y}},fitBounds:function(o,l){if(!(o=ot(o)).isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(o,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,l){return this.setView(o,this._zoom,{pan:l})},panBy:function(o,l){if(l=l||{},!(o=Ke(o).round()).x&&!o.y)return this.fire("moveend");if(!0!==l.animate&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new zr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),!1!==l.animate){Ce(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,l,h){if(!1===(h=h||{}).animate||!_n)return this.setView(o,l,h);this._stop();var m=this.project(this.getCenter()),y=this.project(o),S=this.getSize(),N=this._zoom;o=Ne(o),l=void 0===l?N:l;var j=Math.max(S.x,S.y),H=j*this.getZoomScale(N,l),W=y.distanceTo(m)||1,ae=1.42,de=ae*ae;function le(wt){var As=(H*H-j*j+(wt?-1:1)*de*de*W*W)/(2*(wt?H:j)*de*W),fa=Math.sqrt(As*As+1)-As;return fa<1e-9?-18:Math.log(fa)}function Ti(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function gi(wt){return(Math.exp(wt)+Math.exp(-wt))/2}var zt=le(0);function no(wt){return j*(gi(zt)*function to(wt){return Ti(wt)/gi(wt)}(zt+ae*wt)-Ti(zt))/de}var Ht=Date.now(),Tl=(le(1)-zt)/ae,pn=h.duration?1e3*h.duration:1e3*Tl*.8;return this._moveStart(!0,h.noMoveStart),function tn(){var wt=(Date.now()-Ht)/pn,ti=function io(wt){return 1-Math.pow(1-wt,1.5)}(wt)*Tl;wt<=1?(this._flyToFrame=Rt(tn,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(no(ti)/W)),N),this.getScaleZoom(j/function Er(wt){return j*(gi(zt)/gi(zt+ae*wt))}(ti),N),{flyTo:!0})):this._move(o,l)._moveEnd(!0)}.call(this),this},flyToBounds:function(o,l){var h=this._getBoundsCenterZoom(o,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(o){return(o=ot(o)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(o){var l=this.options.minZoom;return this.options.minZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var l=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&l!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,l){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,ot(o));return h.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(o,l){var h=Ke((l=l||{}).paddingTopLeft||l.padding||[0,0]),m=Ke(l.paddingBottomRight||l.padding||[0,0]),y=this.getCenter(),S=this.project(y),N=this.project(o),j=this.getPixelBounds(),H=j.getSize().divideBy(2),W=Kt([j.min.add(h),j.max.subtract(m)]);if(!W.contains(N)){this._enforcingBounds=!0;var ae=S.subtract(N),de=Ke(N.x+ae.x,N.y+ae.y);(N.x<W.min.x||N.x>W.max.x)&&(de.x=S.x-ae.x,ae.x>0?de.x+=H.x-h.x:de.x-=H.x-m.x),(N.y<W.min.y||N.y>W.max.y)&&(de.y=S.y-ae.y,ae.y>0?de.y+=H.y-h.y:de.y-=H.y-m.y),this.panTo(this.unproject(de),l),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=_({animate:!1,pan:!0},!0===o?{animate:!0}:o);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=l.divideBy(2).round(),y=h.divideBy(2).round(),S=m.subtract(y);return S.x||S.y?(o.animate&&o.pan?this.panBy(S):(o.pan&&this._rawPanBy(S),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(x(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=_({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=x(this._handleGeolocationResponse,this),h=x(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,o):navigator.geolocation.getCurrentPosition(l,h,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){var l=o.code,h=o.message||(1===l?"permission denied":2===l?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})},_handleGeolocationResponse:function(o){var m=new xe(o.coords.latitude,o.coords.longitude),y=m.toBounds(2*o.coords.accuracy),S=this._locateOptions;if(S.setView){var N=this.getBoundsZoom(y);this.setView(m,S.maxZoom?Math.min(N,S.maxZoom):N)}var j={latlng:m,bounds:y,timestamp:o.timestamp};for(var H in o.coords)"number"==typeof o.coords[H]&&(j[H]=o.coords[H]);this.fire("locationfound",j)},addHandler:function(o,l){if(!l)return this;var h=this[o]=new l(this);return this._handlers.push(h),this.options[o]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var o;for(o in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[o].remove();for(o in this._panes)ut(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,l){var m=Ye("div","leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),l||this._mapPane);return o&&(this._panes[o]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds();return new lt(this.unproject(o.getBottomLeft()),this.unproject(o.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,l,h){o=ot(o),h=Ke(h||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),N=o.getNorthWest(),j=o.getSouthEast(),H=this.getSize().subtract(h),W=Kt(this.project(j,m),this.project(N,m)).getSize(),ae=_n?this.options.zoomSnap:1,de=H.x/W.x,le=H.y/W.y,Ti=l?Math.max(de,le):Math.min(de,le);return m=this.getScaleZoom(Ti,m),ae&&(m=Math.round(m/(ae/100))*(ae/100),m=l?Math.ceil(m/ae)*ae:Math.floor(m/ae)*ae),Math.max(y,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,l){var h=this._getTopLeftPoint(o,l);return new Je(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(void 0===o?this.getZoom():o)},getPane:function(o){return"string"==typeof o?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,l){var h=this.options.crs;return l=void 0===l?this._zoom:l,h.scale(o)/h.scale(l)},getScaleZoom:function(o,l){var h=this.options.crs,m=h.zoom(o*h.scale(l=void 0===l?this._zoom:l));return isNaN(m)?1/0:m},project:function(o,l){return l=void 0===l?this._zoom:l,this.options.crs.latLngToPoint(Ne(o),l)},unproject:function(o,l){return l=void 0===l?this._zoom:l,this.options.crs.pointToLatLng(Ke(o),l)},layerPointToLatLng:function(o){var l=Ke(o).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(o){return this.project(Ne(o))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ne(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(ot(o))},distance:function(o,l){return this.options.crs.distance(Ne(o),Ne(l))},containerPointToLayerPoint:function(o){return Ke(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return Ke(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var l=this.containerPointToLayerPoint(Ke(o));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ne(o)))},mouseEventToContainerPoint:function(o){return aa(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var l=this._container=De(o);if(!l)throw new Error("Map container not found.");if(l._leaflet_id)throw new Error("Map container is already initialized.");He(l,"scroll",this._onScroll,this),this._containerId=O(l)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&_n,Ce(o,"leaflet-container"+(an?" leaflet-touch":"")+(Di?" leaflet-retina":"")+(zi?" leaflet-oldie":"")+(on?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Pn(o,"position");"absolute"!==l&&"relative"!==l&&"fixed"!==l&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),St(this._mapPane,new Ee(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(o.markerPane,"leaflet-zoom-hide"),Ce(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,l){St(this._mapPane,new Ee(0,0));var h=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var m=this._zoom!==l;this._moveStart(m,!1)._move(o,l)._moveEnd(m),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(o,l){return o&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(o,l,h){void 0===l&&(l=this._zoom);var m=this._zoom!==l;return this._zoom=l,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),(m||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){St(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[O(this._container)]=this;var l=o?Ct:He;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),_n&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$t(this._resizeRequest),this._resizeRequest=Rt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,l){for(var m,h=[],y="mouseout"===l||"mouseover"===l,S=o.target||o.srcElement,N=!1;S;){if((m=this._targets[O(S)])&&("click"===l||"preclick"===l)&&!o._simulated&&this._draggableMoved(m)){N=!0;break}if(m&&m.listens(l,!0)&&(y&&!Ur(S,o)||(h.push(m),y))||S===this._container)break;S=S.parentNode}return!h.length&&!N&&!y&&Ur(S,o)&&(h=[this]),h},_handleDOMEvent:function(o){if(this._loaded&&!vs(o)){var l=o.type;("mousedown"===l||"keypress"===l||"keyup"===l||"keydown"===l)&&jt(o.target||o.srcElement),this._fireDOMEvent(o,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,l,h){if("click"===o.type){var m=_({},o);m.type="preclick",this._fireDOMEvent(m,m.type,h)}if(!o._stopped&&(h=(h||[]).concat(this._findEventTargets(o,l))).length){var y=h[0];"contextmenu"===l&&y.listens(l,!0)&&An(o);var S={originalEvent:o};if("keypress"!==o.type&&"keydown"!==o.type&&"keyup"!==o.type){var N=y.getLatLng&&(!y._radius||y._radius<=10);S.containerPoint=N?this.latLngToContainerPoint(y.getLatLng()):this.mouseEventToContainerPoint(o),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=N?y.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(var j=0;j<h.length;j++)if(h[j].fire(l,S,!0),S.originalEvent._stopped||!1===h[j].options.bubblingMouseEvents&&-1!==We(this._mouseEvents,l))return}},_draggableMoved:function(o){return(o=o.dragging&&o.dragging.enabled()?o:this).dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,l=this._handlers.length;o<l;o++)this._handlers[o].disable()},whenReady:function(o,l){return this._loaded?o.call(l||this,{target:this}):this.on("load",o,l),this},_getMapPanePos:function(){return cn(this._mapPane)||new Ee(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,l){return(o&&void 0!==l?this._getNewPixelOrigin(o,l):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,l){var h=this.getSize()._divideBy(2);return this.project(o,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,l,h){var m=this._getNewPixelOrigin(h,l);return this.project(o,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(o,l,h){var m=this._getNewPixelOrigin(h,l);return Kt([this.project(o.getSouthWest(),l)._subtract(m),this.project(o.getNorthWest(),l)._subtract(m),this.project(o.getSouthEast(),l)._subtract(m),this.project(o.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,l,h){if(!h)return o;var m=this.project(o,l),y=this.getSize().divideBy(2),S=new Je(m.subtract(y),m.add(y)),N=this._getBoundsOffset(S,h,l);return N.round().equals([0,0])?o:this.unproject(m.add(N),l)},_limitOffset:function(o,l){if(!l)return o;var h=this.getPixelBounds(),m=new Je(h.min.add(o),h.max.add(o));return o.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(o,l,h){var m=Kt(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=m.min.subtract(o.min),S=m.max.subtract(o.max);return new Ee(this._rebound(y.x,-S.x),this._rebound(y.y,-S.y))},_rebound:function(o,l){return o+l>0?Math.round(o-l)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(l))},_limitZoom:function(o){var l=this.getMinZoom(),h=this.getMaxZoom(),m=_n?this.options.zoomSnap:1;return m&&(o=Math.round(o/m)*m),Math.max(l,Math.min(h,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,l){var h=this._getCenterOffset(o)._trunc();return!(!0!==(l&&l.animate)&&!this.getSize().contains(h)||(this.panBy(h,l),0))},_createAnimProxy:function(){var o=this._proxy=Ye("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(l){var h=fs,m=this._proxy.style[h];Yn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),l=this.getZoom();Yn(this._proxy,this.project(o,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||!1===h.animate||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),y=this._getCenterOffset(o)._divideBy(1-1/m);return!(!0!==h.animate&&!this.getSize().contains(y)||(Rt(function(){this._moveStart(!0,!1)._animateZoom(o,l,!0)},this),0))},_animateZoom:function(o,l,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=l,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:l,noUpdate:m}),setTimeout(x(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),Rt(function(){this._moveEnd(!0)},this))}});var Jt=qn.extend({options:{position:"topright"},initialize:function(o){nt(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var l=this._map;return l&&l.removeControl(this),this.options.position=o,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var l=this._container=this.onAdd(o),h=this.getPosition(),m=o._controlCorners[h];return Ce(l,"leaflet-control"),-1!==h.indexOf("bottom")?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),Hr=function(o){return new Jt(o)};Ve.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},l="leaflet-",h=this._controlContainer=Ye("div",l+"control-container",this._container);function m(y,S){o[y+S]=Ye("div",l+y+" "+l+S,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ut(this._controlCorners[o]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pe=Jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,l,h,m){return h<m?-1:m<h?1:0}},initialize:function(o,l,h){for(var m in nt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,o)this._addLayer(o[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Jt.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,l){return this._addLayer(o,l),this._map?this._update():this},addOverlay:function(o,l){return this._addLayer(o,l,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var l=this._getLayer(O(o));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",l=this._container=Ye("div",o),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),pe(l),Pt(l);var m=this._section=Ye("section",o+"-list");h&&(this._map.on("click",this.collapse,this),Eo||He(l,{mouseenter:this.expand,mouseleave:this.collapse},this));var y=this._layersLink=Ye("a",o+"-toggle",l);y.href="#",y.title="Layers",an?(He(y,"click",bi),He(y,"click",this.expand,this)):He(y,"focus",this.expand,this),h||this.expand(),this._baseLayersList=Ye("div",o+"-base",m),this._separator=Ye("div",o+"-separator",m),this._overlaysList=Ye("div",o+"-overlays",m),l.appendChild(m)},_getLayer:function(o){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&O(this._layers[l].layer)===o)return this._layers[l]},_addLayer:function(o,l,h){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(x(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ln(this._baseLayersList),ln(this._overlaysList),this._layerControlInputs=[];var o,l,h,m,y=0;for(h=0;h<this._layers.length;h++)this._addItem(m=this._layers[h]),l=l||m.overlay,o=o||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(o=o&&y>1)?"":"none"),this._separator.style.display=l&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var l=this._getLayer(O(o.target)),h=l.overlay?"add"===o.type?"overlayadd":"overlayremove":"add"===o.type?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(o,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(o){var m,l=document.createElement("label"),h=this._map.hasLayer(o.layer);o.overlay?((m=document.createElement("input")).type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+O(this),h),this._layerControlInputs.push(m),m.layerId=O(o.layer),He(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+o.name;var S=document.createElement("div");return l.appendChild(S),S.appendChild(m),S.appendChild(y),(o.overlay?this._overlaysList:this._baseLayersList).appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){var l,h,o=this._layerControlInputs,m=[],y=[];this._handlingClick=!0;for(var S=o.length-1;S>=0;S--)h=this._getLayer((l=o[S]).layerId).layer,l.checked?m.push(h):l.checked||y.push(h);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var l,h,o=this._layerControlInputs,m=this._map.getZoom(),y=o.length-1;y>=0;y--)h=this._getLayer((l=o[y]).layerId).layer,l.disabled=void 0!==h.options.minZoom&&m<h.options.minZoom||void 0!==h.options.maxZoom&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Oo=Jt.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(o){var l="leaflet-control-zoom",h=Ye("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,l,h,m,y){var S=Ye("a",h,m);return S.innerHTML=o,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),pe(S),He(S,"click",bi),He(S,"click",y,this),He(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var o=this._map,l="leaflet-disabled";Le(this._zoomInButton,l),Le(this._zoomOutButton,l),(this._disabled||o._zoom===o.getMinZoom())&&Ce(this._zoomOutButton,l),(this._disabled||o._zoom===o.getMaxZoom())&&Ce(this._zoomInButton,l)}});Ve.mergeOptions({zoomControl:!0}),Ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Oo,this.addControl(this.zoomControl))});var ws=Jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var l="leaflet-control-scale",h=Ye("div",l),m=this.options;return this._addScales(m,l+"-line",h),o.on(m.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),h},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,l,h){o.metric&&(this._mScale=Ye("div",l,h)),o.imperial&&(this._iScale=Ye("div",l,h))},_update:function(){var o=this._map,l=o.getSize().y/2,h=o.distance(o.containerPointToLatLng([0,l]),o.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var l=this._getRoundNum(o);this._updateScale(this._mScale,l<1e3?l+" m":l/1e3+" km",l/o)},_updateImperial:function(o){var h,m,y,l=3.2808399*o;l>5280?(m=this._getRoundNum(h=l/5280),this._updateScale(this._iScale,m+" mi",m/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(o,l,h){o.style.width=Math.round(this.options.maxWidth*h)+"px",o.innerHTML=l},_getRoundNum:function(o){var l=Math.pow(10,(Math.floor(o)+"").length-1),h=o/l;return l*(h>=10?10:h>=5?5:h>=3?3:h>=2?2:1)}}),tt=Jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(o){nt(this,o),this._attributions={}},onAdd:function(o){for(var l in o.attributionControl=this,this._container=Ye("div","leaflet-control-attribution"),pe(this._container),o._layers)o._layers[l].getAttribution&&this.addAttribution(o._layers[l].getAttribution());return this._update(),this._container},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var l in this._attributions)this._attributions[l]&&o.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),o.length&&h.push(o.join(", ")),this._container.innerHTML=h.join(" | ")}}});Ve.mergeOptions({attributionControl:!0}),Ve.addInitHook(function(){this.options.attributionControl&&(new tt).addTo(this)});Jt.Layers=Pe,Jt.Zoom=Oo,Jt.Scale=ws,Jt.Attribution=tt,Hr.layers=function(o,l,h){return new Pe(o,l,h)},Hr.zoom=function(o){return new Oo(o)},Hr.scale=function(o){return new ws(o)},Hr.attribution=function(o){return new tt(o)};var li=qn.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});li.addTo=function(o,l){return o.addHandler(l,this),this};var vr,Cs={Events:qe},_r=an?"touchstart mousedown":"mousedown",Es={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Vr={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ii=Ui.extend({options:{clickTolerance:3},initialize:function(o,l,h,m){nt(this,m),this._element=o,this._dragStartTarget=l||o,this._preventOutline=h},enable:function(){this._enabled||(He(this._dragStartTarget,_r,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ii._dragging===this&&this.finishDrag(),Ct(this._dragStartTarget,_r,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(!o._simulated&&this._enabled&&(this._moved=!1,!et(this._element,"leaflet-zoom-anim")&&!(Ii._dragging||o.shiftKey||1!==o.which&&1!==o.button&&!o.touches)&&(Ii._dragging=this,this._preventOutline&&jt(this._element),ps(),K(),!this._moving))){this.fire("down");var l=o.touches?o.touches[0]:o,h=sa(this._element);this._startPoint=new Ee(l.clientX,l.clientY),this._parentScale=No(h),He(document,Vr[o.type],this._onMove,this),He(document,Es[o.type],this._onUp,this)}},_onMove:function(o){if(!o._simulated&&this._enabled){if(o.touches&&o.touches.length>1)return void(this._moved=!0);var l=o.touches&&1===o.touches.length?o.touches[0]:o,h=new Ee(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,An(o),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=cn(this._element).subtract(h),Ce(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,$t(this._animRequest),this._lastEvent=o,this._animRequest=Rt(this._updatePosition,this,!0))}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),St(this._element,this._newPos),this.fire("drag",o)},_onUp:function(o){o._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var o in Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Vr)Ct(document,Vr[o],this._onMove,this),Ct(document,Es[o],this._onUp,this);gs(),Lt(),this._moved&&this._moving&&($t(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Ii._dragging=!1}});function Fo(o,l){if(!l||!o.length)return o.slice();var h=l*l;return function $u(o,l){var h=o.length,y=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(h);y[0]=y[h-1]=1,$r(o,y,l,0,h-1);var S,N=[];for(S=0;S<h;S++)y[S]&&N.push(o[S]);return N}(o=function Gu(o,l){for(var h=[o[0]],m=1,y=0,S=o.length;m<S;m++)bs(o[m],o[y])>l&&(h.push(o[m]),y=m);return y<S-1&&h.push(o[S-1]),h}(o,h),h)}function Cl(o,l,h){return Math.sqrt(Gr(o,l,h,!0))}function $r(o,l,h,m,y){var N,j,H,S=0;for(j=m+1;j<=y-1;j++)(H=Gr(o[j],o[m],o[y],!0))>S&&(N=j,S=H);S>h&&(l[N]=1,$r(o,l,h,m,N),$r(o,l,h,N,y))}function Bo(o,l,h,m,y){var j,H,W,S=m?vr:Qi(o,h),N=Qi(l,h);for(vr=N;;){if(!(S|N))return[o,l];if(S&N)return!1;W=Qi(H=Yi(o,l,j=S||N,h,y),h),j===S?(o=H,S=W):(l=H,N=W)}}function Yi(o,l,h,m,y){var W,ae,S=l.x-o.x,N=l.y-o.y,j=m.min,H=m.max;return 8&h?(W=o.x+S*(H.y-o.y)/N,ae=H.y):4&h?(W=o.x+S*(j.y-o.y)/N,ae=j.y):2&h?(W=H.x,ae=o.y+N*(H.x-o.x)/S):1&h&&(W=j.x,ae=o.y+N*(j.x-o.x)/S),new Ee(W,ae,y)}function Qi(o,l){var h=0;return o.x<l.min.x?h|=1:o.x>l.max.x&&(h|=2),o.y<l.min.y?h|=4:o.y>l.max.y&&(h|=8),h}function bs(o,l){var h=l.x-o.x,m=l.y-o.y;return h*h+m*m}function Gr(o,l,h,m){var W,y=l.x,S=l.y,N=h.x-y,j=h.y-S,H=N*N+j*j;return H>0&&((W=((o.x-y)*N+(o.y-S)*j)/H)>1?(y=h.x,S=h.y):W>0&&(y+=N*W,S+=j*W)),N=o.x-y,j=o.y-S,m?N*N+j*j:new Ee(y,S)}function Xn(o){return!ct(o[0])||"object"!=typeof o[0][0]&&typeof o[0][0]<"u"}function Ki(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xn(o)}var El={simplify:Fo,pointToSegmentDistance:Cl,closestPointOnSegment:function Vu(o,l,h){return Gr(o,l,h)},clipSegment:Bo,_getEdgeIntersection:Yi,_getBitCode:Qi,_sqClosestPointOnSegment:Gr,isFlat:Xn,_flat:Ki};function ui(o,l,h){var m,S,N,j,H,W,ae,de,le,y=[1,4,2,8];for(S=0,ae=o.length;S<ae;S++)o[S]._code=Qi(o[S],l);for(j=0;j<4;j++){for(de=y[j],m=[],S=0,N=(ae=o.length)-1;S<ae;N=S++)W=o[N],(H=o[S])._code&de?W._code&de||((le=Yi(W,H,de,l,h))._code=Qi(le,l),m.push(le)):(W._code&de&&((le=Yi(W,H,de,l,h))._code=Qi(le,l),m.push(le)),m.push(H));o=m}return o}var Is={clipPolygon:ui},ge={project:function(o){return new Ee(o.lng,o.lat)},unproject:function(o){return new xe(o.y,o.x)},bounds:new Je([-180,-90],[180,90])},jo={R:6378137,R_MINOR:6356752.314245179,bounds:new Je([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(o){var l=Math.PI/180,h=this.R,m=o.lat*l,y=this.R_MINOR/h,S=Math.sqrt(1-y*y),N=S*Math.sin(m),j=Math.tan(Math.PI/4-m/2)/Math.pow((1-N)/(1+N),S/2);return m=-h*Math.log(Math.max(j,1e-10)),new Ee(o.lng*l*h,m)},unproject:function(o){for(var W,l=180/Math.PI,h=this.R,m=this.R_MINOR/h,y=Math.sqrt(1-m*m),S=Math.exp(-o.y/h),N=Math.PI/2-2*Math.atan(S),j=0,H=.1;j<15&&Math.abs(H)>1e-7;j++)W=y*Math.sin(N),W=Math.pow((1-W)/(1+W),y/2),N+=H=Math.PI/2-2*Math.atan(S*W)-N;return new xe(N*l,o.x*l/h)}},ce={LonLat:ge,Mercator:jo,SphericalMercator:Dn},Uo=_({},Zn,{code:"EPSG:3395",projection:jo,transformation:function(){var o=.5/(Math.PI*jo.R);return kr(o,.5,-o,.5)}()}),zo=_({},Zn,{code:"EPSG:4326",projection:ge,transformation:kr(1/180,1,-1/180,.5)}),qr=_({},ke,{projection:ge,transformation:kr(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,l){var h=l.lng-o.lng,m=l.lat-o.lat;return Math.sqrt(h*h+m*m)},infinite:!0});ke.Earth=Zn,ke.EPSG3395=Uo,ke.EPSG3857=mn,ke.EPSG900913=os,ke.EPSG4326=zo,ke.Simple=qr;var Nn=Ui.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[O(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[O(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var l=o.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.getAttribution&&l.attributionControl&&l.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ve.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var l=O(o);return this._layers[l]||(this._layers[l]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o)),this},removeLayer:function(o){var l=O(o);return this._layers[l]?(this._loaded&&o.onRemove(this),o.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(o.getAttribution()),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return!!o&&O(o)in this._layers},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},_addLayers:function(o){for(var l=0,h=(o=o?ct(o)?o:[o]:[]).length;l<h;l++)this.addLayer(o[l])},_addZoomLimit:function(o){(isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[O(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var l=O(o);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,l=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;o=void 0===y.minZoom?o:Math.min(o,y.minZoom),l=void 0===y.maxZoom?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=o===1/0?void 0:o,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var yr=Nn.extend({initialize:function(o,l){var h,m;if(nt(this,l),this._layers={},o)for(h=0,m=o.length;h<m;h++)this.addLayer(o[h])},addLayer:function(o){var l=this.getLayerId(o);return this._layers[l]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var l=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(o){return!!o&&("number"==typeof o?o:this.getLayerId(o))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var h,m,l=Array.prototype.slice.call(arguments,1);for(h in this._layers)(m=this._layers[h])[o]&&m[o].apply(m,l);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,l){for(var h in this._layers)o.call(l,this._layers[h]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return O(o)}}),dn=yr.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),yr.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),yr.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new lt;for(var l in this._layers){var h=this._layers[l];o.extend(h.getBounds?h.getBounds():h.getLatLng())}return o}}),Gt=qn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(o){nt(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,l){var h=this._getIconUrl(o);if(!h){if("icon"===o)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,l&&"IMG"===l.tagName?l:null);return this._setIconStyles(m,o),m},_setIconStyles:function(o,l){var h=this.options,m=h[l+"Size"];"number"==typeof m&&(m=[m,m]);var y=Ke(m),S=Ke("shadow"===l&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));o.className="leaflet-marker-"+l+" "+(h.className||""),S&&(o.style.marginLeft=-S.x+"px",o.style.marginTop=-S.y+"px"),y&&(o.style.width=y.x+"px",o.style.height=y.y+"px")},_createImg:function(o,l){return(l=l||document.createElement("img")).src=o,l},_getIconUrl:function(o){return Di&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});var $e=Gt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return $e.imagePath||($e.imagePath=this._detectIconPath()),(this.options.imagePath||$e.imagePath)+Gt.prototype._getIconUrl.call(this,o)},_detectIconPath:function(){var o=Ye("div","leaflet-default-icon-path",document.body),l=Pn(o,"background-image")||Pn(o,"backgroundImage");return document.body.removeChild(o),null===l||0!==l.indexOf("url")?"":l.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Zr=li.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Ii(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var l=this._marker,h=l._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=cn(l._icon),N=h.getPixelBounds(),j=h.getPixelOrigin(),H=Kt(N.min._subtract(j).add(y),N.max._subtract(j).subtract(y));if(!H.contains(S)){var W=Ke((Math.max(H.max.x,S.x)-H.max.x)/(N.max.x-H.max.x)-(Math.min(H.min.x,S.x)-H.min.x)/(N.min.x-H.min.x),(Math.max(H.max.y,S.y)-H.max.y)/(N.max.y-H.max.y)-(Math.min(H.min.y,S.y)-H.min.y)/(N.min.y-H.min.y)).multiplyBy(m);h.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),St(l._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=Rt(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&($t(this._panRequest),this._panRequest=Rt(this._adjustPan.bind(this,o)))},_onDrag:function(o){var l=this._marker,h=l._shadow,m=cn(l._icon),y=l._map.layerPointToLatLng(m);h&&St(h,m),l._latlng=y,o.latlng=y,o.oldLatLng=this._oldLatLng,l.fire("move",o).fire("drag",o)},_onDragEnd:function(o){$t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),wr=Nn.extend({options:{icon:new $e,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,l){nt(this,l),this._latlng=Ne(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var l=this._latlng;return this._latlng=Ne(o),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=o.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,o.title&&(h.title=o.title),"IMG"===h.tagName&&(h.alt=o.alt||"")),Ce(h,l),o.keyboard&&(h.tabIndex="0"),this._icon=h,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var y=o.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(Ce(y,l),y.alt=""),this._shadow=y,o.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&St(this._icon,o),this._shadow&&St(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Zr)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Zr(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&un(this._icon,o),this._shadow&&un(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ci=Nn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return nt(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Cn=ci.extend({options:{fill:!0,radius:10},initialize:function(o,l){nt(this,l),this._latlng=Ne(o),this._radius=this.options.radius},setLatLng:function(o){var l=this._latlng;return this._latlng=Ne(o),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var l=o&&o.radius||this._radius;return ci.prototype.setStyle.call(this,o),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,l=this._radiusY||o,h=this._clickTolerance(),m=[o+h,l+h];this._pxBounds=new Je(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Vo=Cn.extend({initialize:function(o,l,h){if("number"==typeof l&&(l=_({},h,{radius:l})),nt(this,l),this._latlng=Ne(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:ci.prototype.setStyle,_project:function(){var o=this._latlng.lng,l=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===Zn.distance){var y=Math.PI/180,S=this._mRadius/Zn.R/y,N=h.project([l+S,o]),j=h.project([l-S,o]),H=N.add(j).divideBy(2),W=h.unproject(H).lat,ae=Math.acos((Math.cos(S*y)-Math.sin(l*y)*Math.sin(W*y))/(Math.cos(l*y)*Math.cos(W*y)))/y;(isNaN(ae)||0===ae)&&(ae=S/Math.cos(Math.PI/180*l)),this._point=H.subtract(h.getPixelOrigin()),this._radius=isNaN(ae)?0:H.x-h.project([W,o-ae]).x,this._radiusY=H.y-N.y}else{var de=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(de).x}this._updateBounds()}});var Rn=ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,l){nt(this,l),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var y,S,l=1/0,h=null,m=Gr,N=0,j=this._parts.length;N<j;N++)for(var H=this._parts[N],W=1,ae=H.length;W<ae;W++){var de=m(o,y=H[W-1],S=H[W],!0);de<l&&(l=de,h=m(o,y,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,l,h,m,y,S,N,j=this._rings[0],H=j.length;if(!H)return null;for(o=0,l=0;o<H-1;o++)l+=j[o].distanceTo(j[o+1])/2;if(0===l)return this._map.layerPointToLatLng(j[0]);for(o=0,m=0;o<H-1;o++)if((m+=h=(y=j[o]).distanceTo(S=j[o+1]))>l)return this._map.layerPointToLatLng([S.x-(N=(m-l)/h)*(S.x-y.x),S.y-N*(S.y-y.y)])},getBounds:function(){return this._bounds},addLatLng:function(o,l){return l=l||this._defaultShape(),o=Ne(o),l.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new lt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Xn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var l=[],h=Xn(o),m=0,y=o.length;m<y;m++)h?(l[m]=Ne(o[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(o[m]);return l},_project:function(){var o=new Je;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),l=new Ee(o,o);this._pxBounds=new Je([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)])},_projectLatlngs:function(o,l,h){var S,N,y=o.length;if(o[0]instanceof xe){for(N=[],S=0;S<y;S++)N[S]=this._map.latLngToLayerPoint(o[S]),h.extend(N[S]);l.push(N)}else for(S=0;S<y;S++)this._projectLatlngs(o[S],l,h)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);var h,m,y,S,N,j,H,l=this._parts;for(h=0,y=0,S=this._rings.length;h<S;h++)for(m=0,N=(H=this._rings[h]).length;m<N-1;m++)(j=Bo(H[m],H[m+1],o,m,!0))&&(l[y]=l[y]||[],l[y].push(j[0]),(j[1]!==H[m+1]||m===N-2)&&(l[y].push(j[1]),y++))}},_simplifyPoints:function(){for(var o=this._parts,l=this.options.smoothFactor,h=0,m=o.length;h<m;h++)o[h]=Fo(o[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,l){var h,m,y,S,N,j,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(h=0,S=this._parts.length;h<S;h++)for(m=0,y=(N=(j=this._parts[h]).length)-1;m<N;y=m++)if((l||0!==m)&&Cl(o,j[y],j[m])<=H)return!0;return!1}});Rn._flat=Ki;var Xi=Rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var o,l,h,m,y,S,N,j,W=this._rings[0],ae=W.length;if(!ae)return null;for(S=N=j=0,o=0,l=ae-1;o<ae;l=o++)N+=((h=W[o]).x+(m=W[l]).x)*(y=h.y*m.x-m.y*h.x),j+=(h.y+m.y)*y,S+=3*y;return this._map.layerPointToLatLng(0===S?W[0]:[N/S,j/S])},_convertLatLngs:function(o){var l=Rn.prototype._convertLatLngs.call(this,o),h=l.length;return h>=2&&l[0]instanceof xe&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(o){Rn.prototype._setLatLngs.call(this,o),Xn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,l=this.options.weight,h=new Ee(l,l);if(o=new Je(o.min.subtract(h),o.max.add(h)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(o)){if(this.options.noClip)return void(this._parts=this._rings);for(var S,m=0,y=this._rings.length;m<y;m++)(S=ui(this._rings[m],o,!0)).length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var h,m,y,S,N,j,H,W,l=!1;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(S=0,H=this._parts.length;S<H;S++)for(N=0,j=(W=(h=this._parts[S]).length)-1;N<W;j=N++)(m=h[N]).y>o.y!=(y=h[j]).y>o.y&&o.x<(y.x-m.x)*(o.y-m.y)/(y.y-m.y)+m.x&&(l=!l);return l||Rn.prototype._containsPoint.call(this,o,!0)}});var ei=dn.extend({initialize:function(o,l){nt(this,l),this._layers={},o&&this.addData(o)},addData:function(o){var h,m,y,l=ct(o)?o:o.features;if(l){for(h=0,m=l.length;h<m;h++)((y=l[h]).geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(o))return this;var N=$o(o,S);return N?(N.feature=hi(o),N.defaultOptions=N.options,this.resetStyle(N),S.onEachFeature&&S.onEachFeature(o,N),this.addLayer(N)):this},resetStyle:function(o){return void 0===o?this.eachLayer(this.resetStyle,this):(o.options=_({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(l){this._setLayerStyle(l,o)},this)},_setLayerStyle:function(o,l){o.setStyle&&("function"==typeof l&&(l=l(o.feature)),o.setStyle(l))}});function $o(o,l){var j,H,W,ae,h="Feature"===o.type?o.geometry:o,m=h?h.coordinates:null,y=[],S=l&&l.pointToLayer,N=l&&l.coordsToLatLng||Go;if(!m&&!h)return null;switch(h.type){case"Point":return ha(S,o,j=N(m),l);case"MultiPoint":for(W=0,ae=m.length;W<ae;W++)j=N(m[W]),y.push(ha(S,o,j,l));return new dn(y);case"LineString":case"MultiLineString":return H=qo(m,"LineString"===h.type?0:1,N),new Rn(H,l);case"Polygon":case"MultiPolygon":return H=qo(m,"Polygon"===h.type?1:2,N),new Xi(H,l);case"GeometryCollection":for(W=0,ae=h.geometries.length;W<ae;W++){var de=$o({geometry:h.geometries[W],type:"Feature",properties:o.properties},l);de&&y.push(de)}return new dn(y);default:throw new Error("Invalid GeoJSON object.")}}function ha(o,l,h,m){return o?o(l,h):new wr(h,m&&m.markersInheritOptions&&m)}function Go(o){return new xe(o[1],o[0],o[2])}function qo(o,l,h){for(var N,m=[],y=0,S=o.length;y<S;y++)N=l?qo(o[y],l-1,h):(h||Go)(o[y]),m.push(N);return m}function Ss(o,l){return l="number"==typeof l?l:6,void 0!==o.alt?[ye(o.lng,l),ye(o.lat,l),ye(o.alt,l)]:[ye(o.lng,l),ye(o.lat,l)]}function fn(o,l,h,m){for(var y=[],S=0,N=o.length;S<N;S++)y.push(l?fn(o[S],l-1,h,m):Ss(o[S],m));return!l&&h&&y.push(y[0]),y}function xt(o,l){return o.feature?_({},o.feature,{geometry:l}):hi(l)}function hi(o){return"Feature"===o.type||"FeatureCollection"===o.type?o:{type:"Feature",properties:{},geometry:o}}var Ji={toGeoJSON:function(o){return xt(this,{type:"Point",coordinates:Ss(this.getLatLng(),o)})}};function Mr(o,l){return new ei(o,l)}wr.include(Ji),Vo.include(Ji),Cn.include(Ji),Rn.include({toGeoJSON:function(o){var l=!Xn(this._latlngs);return xt(this,{type:(l?"Multi":"")+"LineString",coordinates:fn(this._latlngs,l?1:0,!1,o)})}}),Xi.include({toGeoJSON:function(o){var l=!Xn(this._latlngs),h=l&&!Xn(this._latlngs[0]),m=fn(this._latlngs,h?2:l?1:0,!0,o);return l||(m=[m]),xt(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),yr.include({toMultiPoint:function(o){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(o).geometry.coordinates)}),xt(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(o){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===l)return this.toMultiPoint(o);var h="GeometryCollection"===l,m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(o);if(h)m.push(S.geometry);else{var N=hi(S);"FeatureCollection"===N.type?m.push.apply(m,N.features):m.push(N)}}}),h?xt(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});var Qr=Mr,di=Nn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,l,h){this._url=o,this._bounds=ot(l),nt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&fr(this._image),this},bringToBack:function(){return this._map&&Gi(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=ot(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o="IMG"===this._url.tagName,l=this._image=o?this._url:Ye("img");Ce(l,"leaflet-image-layer"),this._zoomAnimated&&Ce(l,"leaflet-zoom-animated"),this.options.className&&Ce(l,this.options.className),l.onselectstart=J,l.onmousemove=J,l.onload=x(this.fire,this,"load"),l.onerror=x(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o?this._url=l.src:(l.src=this._url,l.alt=this.options.alt)},_animateZoom:function(o){var l=this._map.getZoomScale(o.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Yn(this._image,h,l)},_reset:function(){var o=this._image,l=new Je(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();St(o,l.min),o.style.width=h.x+"px",o.style.height=h.y+"px"},_updateOpacity:function(){un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)}}),Kr=di.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var o="VIDEO"===this._url.tagName,l=this._image=o?this._url:Ye("video");if(Ce(l,"leaflet-image-layer"),this._zoomAnimated&&Ce(l,"leaflet-zoom-animated"),this.options.className&&Ce(l,this.options.className),l.onselectstart=J,l.onmousemove=J,l.onloadeddata=x(this.fire,this,"load"),o){for(var h=l.getElementsByTagName("source"),m=[],y=0;y<h.length;y++)m.push(h[y].src);this._url=h.length>0?m:[l.src]}else{ct(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted;for(var S=0;S<this._url.length;S++){var N=Ye("source");N.src=this._url[S],l.appendChild(N)}}}});var da=di.extend({_initImage:function(){var o=this._image=this._url;Ce(o,"leaflet-image-layer"),this._zoomAnimated&&Ce(o,"leaflet-zoom-animated"),this.options.className&&Ce(o,this.options.className),o.onselectstart=J,o.onmousemove=J}});var fi=Nn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(o,l){nt(this,o),this._source=l},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&un(this._container,1),this.bringToFront()},onRemove:function(o){o._fadeAnimated?(un(this._container,0),this._removeTimeout=setTimeout(x(ut,void 0,this._container),200)):ut(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ne(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fr(this._container),this},bringToBack:function(){return this._map&&Gi(this._container),this},_prepareOpen:function(o,l,h){if(l instanceof Nn||(h=l,l=o),l instanceof dn)for(var m in o._layers){l=o._layers[m];break}if(!h)if(l.getCenter)h=l.getCenter();else{if(!l.getLatLng)throw new Error("Unable to get source layer LatLng.");h=l.getLatLng()}return this._source=l,this.update(),h},_updateContent:function(){if(this._content){var o=this._contentNode,l="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof l)o.innerHTML=l;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),l=Ke(this.options.offset),h=this._getAnchor();this._zoomAnimated?St(this._container,o.add(h)):l=l.add(o).add(h);var m=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}}),Dr=fi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o.openPopup(this),this},onAdd:function(o){fi.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ci||this._source.on("preclick",gr))},onRemove:function(o){fi.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ci||this._source.off("preclick",gr))},getEvents:function(){var o=fi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this._close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var o="leaflet-popup",l=this._container=Ye("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Ye("div",o+"-content-wrapper",l);if(this._contentNode=Ye("div",o+"-content",h),pe(l),Pt(this._contentNode),He(l,"contextmenu",gr),this._tipContainer=Ye("div",o+"-tip-container",l),this._tip=Ye("div",o+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Ye("a",o+"-close-button",l);m.href="#close",m.innerHTML="&#215;",He(m,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var o=this._contentNode,l=o.style;l.width="",l.whiteSpace="nowrap";var h=o.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&o.offsetHeight>y?(l.height=y+"px",Ce(o,S)):Le(o,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),h=this._getAnchor();St(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var o=this._map,l=parseInt(Pn(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,m=this._containerWidth,y=new Ee(this._containerLeft,-h-this._containerBottom);y._add(cn(this._container));var S=o.layerPointToContainerPoint(y),N=Ke(this.options.autoPanPadding),j=Ke(this.options.autoPanPaddingTopLeft||N),H=Ke(this.options.autoPanPaddingBottomRight||N),W=o.getSize(),ae=0,de=0;S.x+m+H.x>W.x&&(ae=S.x+m-W.x+H.x),S.x-ae-j.x<0&&(ae=S.x-j.x),S.y+h+H.y>W.y&&(de=S.y+h-W.y+H.y),S.y-de-j.y<0&&(de=S.y-j.y),(ae||de)&&o.fire("autopanstart").panBy([ae,de])}},_onCloseButtonClick:function(o){this._close(),bi(o)},_getAnchor:function(){return Ke(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ve.mergeOptions({closePopupOnClick:!0}),Ve.include({openPopup:function(o,l,h){return o instanceof Dr||(o=new Dr(h).setContent(o)),l&&o.setLatLng(l),this.hasLayer(o)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=o,this.addLayer(o))},closePopup:function(o){return(!o||o===this._popup)&&(o=this._popup,this._popup=null),o&&this.removeLayer(o),this}}),Nn.include({bindPopup:function(o,l){return o instanceof Dr?(nt(o,l),this._popup=o,o._source=this):((!this._popup||l)&&(this._popup=new Dr(l,this)),this._popup.setContent(o)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o,l){return this._popup&&this._map&&(l=this._popup._prepareOpen(this,o,l),this._map.openPopup(this._popup,l)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(o){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(o)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){var l=o.layer||o.target;if(this._popup&&this._map){if(bi(o),l instanceof ci)return void this.openPopup(o.layer||o.target,o.latlng);this._map.hasLayer(this._popup)&&this._popup._source===l?this.closePopup():this.openPopup(l,o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){13===o.originalEvent.keyCode&&this._openPopup(o)}});var En=fi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(o){fi.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(o){fi.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var o=fi.prototype.getEvents.call(this);return an&&!this.options.permanent&&(o.preclick=this._close),o},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Ye("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var l,h,m=this._map,y=this._container,S=m.latLngToContainerPoint(m.getCenter()),N=m.layerPointToContainerPoint(o),j=this.options.direction,H=y.offsetWidth,W=y.offsetHeight,ae=Ke(this.options.offset),de=this._getAnchor();"top"===j?(l=H/2,h=W):"bottom"===j?(l=H/2,h=0):"center"===j?(l=H/2,h=W/2):"right"===j?(l=0,h=W/2):"left"===j?(l=H,h=W/2):N.x<S.x?(j="right",l=0,h=W/2):(j="left",l=H+2*(ae.x+de.x),h=W/2),o=o.subtract(Ke(l,h,!0)).add(ae).add(de),Le(y,"leaflet-tooltip-right"),Le(y,"leaflet-tooltip-left"),Le(y,"leaflet-tooltip-top"),Le(y,"leaflet-tooltip-bottom"),Ce(y,"leaflet-tooltip-"+j),St(y,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&un(this._container,o)},_animateZoom:function(o){var l=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(l)},_getAnchor:function(){return Ke(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ve.include({openTooltip:function(o,l,h){return o instanceof En||(o=new En(h).setContent(o)),l&&o.setLatLng(l),this.hasLayer(o)?this:this.addLayer(o)},closeTooltip:function(o){return o&&this.removeLayer(o),this}}),Nn.include({bindTooltip:function(o,l){return o instanceof En?(nt(o,l),this._tooltip=o,o._source=this):((!this._tooltip||l)&&(this._tooltip=new En(l,this)),this._tooltip.setContent(o)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(o||!this._tooltipHandlersAdded){var l=o?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),an&&(h.click=this._openTooltip)),this[l](h),this._tooltipHandlersAdded=!o}},openTooltip:function(o,l){return this._tooltip&&this._map&&(l=this._tooltip._prepareOpen(this,o,l),this._map.openTooltip(this._tooltip,l),this._tooltip.options.interactive&&this._tooltip._container&&(Ce(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Le(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(o){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(o)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_openTooltip:function(o){!this._tooltip||!this._map||this.openTooltip(o.layer||o.target,this._tooltip.options.sticky?o.latlng:void 0)},_moveTooltip:function(o){var h,m,l=o.latlng;this._tooltip.options.sticky&&o.originalEvent&&(h=this._map.mouseEventToContainerPoint(o.originalEvent),m=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var Ts=Gt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var l=o&&"DIV"===o.tagName?o:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ln(l),l.appendChild(h.html)):l.innerHTML=!1!==h.html?h.html:"",h.bgPos){var m=Ke(h.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});Gt.Default=$e;var Ot=Nn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Mi,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){nt(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ut(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=G(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Ee?o:new Ee(o,o)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var S,l=this.getPane().children,h=-o(-1/0,1/0),m=0,y=l.length;m<y;m++)S=l[m].style.zIndex,l[m]!==this._container&&S&&(h=o(h,+S));isFinite(h)&&(this.options.zIndex=h+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!zi){un(this._container,this.options.opacity);var o=+new Date,l=!1,h=!1;for(var m in this._tiles){var y=this._tiles[m];if(y.current&&y.loaded){var S=Math.min(1,(o-y.loaded)/200);un(y.el,S),S<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&($t(this._fadeFrame),this._fadeFrame=Rt(this._updateOpacity,this))}},_onOpaqueTile:J,_initContainer:function(){this._container||(this._container=Ye("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,l=this.options.maxZoom;if(void 0!==o){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===o?(this._levels[h].el.style.zIndex=l-Math.abs(o-h),this._onUpdateLevel(h)):(ut(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[o],y=this._map;return m||((m=this._levels[o]={}).el=Ye("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=y.project(y.unproject(y.getPixelOrigin()),o).round(),m.zoom=o,this._setZoomTransform(m,y.getCenter(),y.getZoom()),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:J,_onRemoveLevel:J,_onCreateLevel:J,_pruneTiles:function(){if(this._map){var o,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom)return void this._removeAllTiles();for(o in this._tiles)(l=this._tiles[o]).retain=l.current;for(o in this._tiles)if((l=this._tiles[o]).current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var l in this._tiles)this._tiles[l].coords.z===o&&this._removeTile(l)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ut(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,l,h,m){var y=Math.floor(o/2),S=Math.floor(l/2),N=h-1,j=new Ee(+y,+S);j.z=+N;var H=this._tileCoordsToKey(j),W=this._tiles[H];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),N>m&&this._retainParent(y,S,N,m))},_retainChildren:function(o,l,h,m){for(var y=2*o;y<2*o+2;y++)for(var S=2*l;S<2*l+2;S++){var N=new Ee(y,S);N.z=h+1;var j=this._tileCoordsToKey(N),H=this._tiles[j];H&&H.active?H.retain=!0:(H&&H.loaded&&(H.retain=!0),h+1<m&&this._retainChildren(y,S,h+1,m))}},_resetView:function(o){var l=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var l=this.options;return void 0!==l.minNativeZoom&&o<l.minNativeZoom?l.minNativeZoom:void 0!==l.maxNativeZoom&&l.maxNativeZoom<o?l.maxNativeZoom:o},_setView:function(o,l,h,m){var y=Math.round(l);y=void 0!==this.options.maxZoom&&y>this.options.maxZoom||void 0!==this.options.minZoom&&y<this.options.minZoom?void 0:this._clampZoom(y),(!m||this.options.updateWhenZooming&&y!==this._tileZoom)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==y&&this._update(o),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(o,l)},_setZoomTransforms:function(o,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],o,l)},_setZoomTransform:function(o,l,h){var m=this._map.getZoomScale(h,o.zoom),y=o.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,h)).round();_n?Yn(o.el,y,m):St(o.el,y)},_resetGrid:function(){var o=this._map,l=o.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,l.wrapLng[0]],m).x/h.x),Math.ceil(o.project([0,l.wrapLng[1]],m).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([l.wrapLat[0],0],m).y/h.x),Math.ceil(o.project([l.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(h,this._tileZoom),y=l.project(o,this._tileZoom).floor(),S=l.getSize().divideBy(2*m);return new Je(y.subtract(S),y.add(S))},_update:function(o){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(void 0===o&&(o=l.getCenter()),void 0!==this._tileZoom){var m=this._getTiledPixelBounds(o),y=this._pxBoundsToTileRange(m),S=y.getCenter(),N=[],j=this.options.keepBuffer,H=new Je(y.getBottomLeft().subtract([j,-j]),y.getTopRight().add([j,-j]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var ae=this._tiles[W].coords;(ae.z!==this._tileZoom||!H.contains(new Ee(ae.x,ae.y)))&&(this._tiles[W].current=!1)}if(Math.abs(h-this._tileZoom)>1)return void this._setView(o,h);for(var de=y.min.y;de<=y.max.y;de++)for(var le=y.min.x;le<=y.max.x;le++){var Ti=new Ee(le,de);if(Ti.z=this._tileZoom,this._isValidTile(Ti)){var gi=this._tiles[this._tileCoordsToKey(Ti)];gi?gi.current=!0:N.push(Ti)}}if(N.sort(function(zt,Er){return zt.distanceTo(S)-Er.distanceTo(S)}),0!==N.length){this._loading||(this._loading=!0,this.fire("loading"));var to=document.createDocumentFragment();for(le=0;le<N.length;le++)this._addTile(N[le],to);this._level.el.appendChild(to)}}}},_isValidTile:function(o){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(o.x<h.min.x||o.x>h.max.x)||!l.wrapLat&&(o.y<h.min.y||o.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(o);return ot(this.options.bounds).overlaps(m)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var l=this._map,h=this.getTileSize(),m=o.scaleBy(h),y=m.add(h);return[l.unproject(m,o.z),l.unproject(y,o.z)]},_tileCoordsToBounds:function(o){var l=this._tileCoordsToNwSe(o),h=new lt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var l=o.split(":"),h=new Ee(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(o){var l=this._tiles[o];l&&(ut(l.el),delete this._tiles[o],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ce(o,"leaflet-tile");var l=this.getTileSize();o.style.width=l.x+"px",o.style.height=l.y+"px",o.onselectstart=J,o.onmousemove=J,zi&&this.options.opacity<1&&un(o,this.options.opacity),Eo&&!bo&&(o.style.WebkitBackfaceVisibility="hidden")},_addTile:function(o,l){var h=this._getTilePos(o),m=this._tileCoordsToKey(o),y=this.createTile(this._wrapCoords(o),x(this._tileReady,this,o));this._initTile(y),this.createTile.length<2&&Rt(x(this._tileReady,this,o,null,y)),St(y,h),this._tiles[m]={el:y,coords:o,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:o})},_tileReady:function(o,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:o});var m=this._tileCoordsToKey(o);(h=this._tiles[m])&&(h.loaded=+new Date,this._map._fadeAnimated?(un(h.el,0),$t(this._fadeFrame),this._fadeFrame=Rt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Ce(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),zi||!this._map._fadeAnimated?Rt(this._pruneTiles,this):setTimeout(x(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var l=new Ee(this._wrapX?Z(o.x,this._wrapX):o.x,this._wrapY?Z(o.y,this._wrapY):o.y);return l.z=o.z,l},_pxBoundsToTileRange:function(o){var l=this.getTileSize();return new Je(o.min.unscaleBy(l).floor(),o.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});var vt=Ot.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(o,l){this._url=o,(l=nt(this,l)).detectRetina&&Di&&l.maxZoom>0&&(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom++):(l.zoomOffset++,l.maxZoom--),l.minZoom=Math.max(0,l.minZoom)),"string"==typeof l.subdomains&&(l.subdomains=l.subdomains.split("")),Eo||this.on("tileunload",this._onTileRemove)},setUrl:function(o,l){return this._url===o&&void 0===l&&(l=!0),this._url=o,l||this.redraw(),this},createTile:function(o,l){var h=document.createElement("img");return He(h,"load",x(this._tileOnLoad,this,l,h)),He(h,"error",x(this._tileOnError,this,l,h)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(h.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(o),h},getTileUrl:function(o){var l={r:Di?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-o.y;this.options.tms&&(l.y=h),l["-y"]=h}return bt(this._url,_(l,this.options))},_tileOnLoad:function(o,l){zi?setTimeout(x(o,this,null,l),0):o(null,l)},_tileOnError:function(o,l,h){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),o(h,l)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom;return this.options.zoomReverse&&(o=this.options.maxZoom-o),o+this.options.zoomOffset},_getSubdomain:function(o){var l=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var o,l;for(o in this._tiles)this._tiles[o].coords.z!==this._tileZoom&&((l=this._tiles[o].el).onload=J,l.onerror=J,l.complete||(l.src=wi,ut(l),delete this._tiles[o]))},_removeTile:function(o){var l=this._tiles[o];if(l)return as||l.el.setAttribute("src",wi),Ot.prototype._removeTile.call(this,o)},_tileReady:function(o,l,h){if(this._map&&(!h||h.getAttribute("src")!==wi))return Ot.prototype._tileReady.call(this,o,l,h)}});function qt(o,l){return new vt(o,l)}var tr=vt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,l){this._url=o;var h=_({},this.defaultWmsParams);for(var m in l)m in this.options||(h[m]=l[m]);var y=(l=nt(this,l)).detectRetina&&Di?2:1,S=this.getTileSize();h.width=S.x*y,h.height=S.y*y,this.wmsParams=h},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,vt.prototype.onAdd.call(this,o)},getTileUrl:function(o){var l=this._tileCoordsToNwSe(o),h=this._crs,m=Kt(h.project(l[0]),h.project(l[1])),y=m.min,S=m.max,N=(this._wmsVersion>=1.3&&this._crs===zo?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),j=vt.prototype.getTileUrl.call(this,o);return j+Qs(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(o,l){return _(this.wmsParams,o),l||this.redraw(),this}});vt.WMS=tr,qt.wms=function vn(o,l){return new tr(o,l)};var kn=Nn.extend({options:{padding:.1,tolerance:0},initialize:function(o){nt(this,o),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,l){var h=this._map.getZoomScale(l,this._zoom),m=cn(this._container),y=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,l),j=this._map.project(o,l).subtract(S),H=y.multiplyBy(-h).add(m).add(y).subtract(j);_n?Yn(this._container,H,h):St(this._container,H)},_reset:function(){for(var o in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-o)).round();this._bounds=new Je(h,h.add(l.multiplyBy(1+2*o)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ls=kn.extend({getEvents:function(){var o=kn.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");He(o,"mousemove",this._onMouseMove,this),He(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),He(o,"mouseout",this._handleMouseOut,this),this._ctx=o.getContext("2d")},_destroyContainer:function(){$t(this._redrawRequest),delete this._ctx,ut(this._container),Ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var l in this._redrawBounds=null,this._layers)this._layers[l]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){kn.prototype._update.call(this);var o=this._bounds,l=this._container,h=o.getSize(),m=Di?2:1;St(l,o.min),l.width=m*h.x,l.height=m*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Di&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){kn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[O(o)]=o;var l=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var l=o._order,h=l.next,m=l.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete o._order,delete this._layers[O(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if("string"==typeof o.options.dashArray){var m,y,l=o.options.dashArray.split(/[, ]+/),h=[];for(y=0;y<l.length;y++){if(m=Number(l[y]),isNaN(m))return;h.push(m)}o.options._dashArray=h}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||Rt(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var l=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Je,this._redrawBounds.extend(o._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(o._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var l=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)o=m.layer,(!l||o._pxBounds&&o._pxBounds.intersects(l))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,l){if(this._drawing){var h,m,y,S,N=o._parts,j=N.length,H=this._ctx;if(j){for(H.beginPath(),h=0;h<j;h++){for(m=0,y=N[h].length;m<y;m++)H[m?"lineTo":"moveTo"]((S=N[h][m]).x,S.y);l&&H.closePath()}this._fillStroke(H,o)}}},_updateCircle:function(o){if(this._drawing&&!o._empty()){var l=o._point,h=this._ctx,m=Math.max(Math.round(o._radius),1),y=(Math.max(Math.round(o._radiusY),1)||m)/m;1!==y&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,m,0,2*Math.PI,!1),1!==y&&h.restore(),this._fillStroke(h,o)}},_fillStroke:function(o,l){var h=l.options;h.fill&&(o.globalAlpha=h.fillOpacity,o.fillStyle=h.fillColor||h.color,o.fill(h.fillRule||"evenodd")),h.stroke&&0!==h.weight&&(o.setLineDash&&o.setLineDash(l.options&&l.options._dashArray||[]),o.globalAlpha=h.opacity,o.lineWidth=h.weight,o.strokeStyle=h.color,o.lineCap=h.lineCap,o.lineJoin=h.lineJoin,o.stroke())},_onClick:function(o){for(var h,m,l=this._map.mouseEventToLayerPoint(o),y=this._drawFirst;y;y=y.next)(h=y.layer).options.interactive&&h._containsPoint(l)&&("click"!==o.type&&"preclick"===o.type||!this._map._draggableMoved(h))&&(m=h);m&&(mr(o),this._fireEvent([m],o))},_onMouseMove:function(o){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var l=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,l)}},_handleMouseOut:function(o){var l=this._hoveredLayer;l&&(Le(this._container,"leaflet-interactive"),this._fireEvent([l],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,l){if(!this._mouseHoverThrottled){for(var h,m,y=this._drawFirst;y;y=y.next)(h=y.layer).options.interactive&&h._containsPoint(l)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(o),m&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([m],o,"mouseover"),this._hoveredLayer=m)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],o),this._mouseHoverThrottled=!0,setTimeout(x(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,l,h){this._map._fireDOMEvent(l,h||l.type,o)},_bringToFront:function(o){var l=o._order;if(l){var h=l.next,m=l.prev;if(!h)return;h.prev=m,m?m.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(o)}},_bringToBack:function(o){var l=o._order;if(l){var h=l.next,m=l.prev;if(!m)return;m.next=h,h?h.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(o)}}});function Xr(o){return Ie?new Ls(o):null}var Jr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),xl={_initContainer:function(){this._container=Ye("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kn.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var l=o._container=Jr("shape");Ce(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",o._path=Jr("path"),l.appendChild(o._path),this._updateStyle(o),this._layers[O(o)]=o},_addPath:function(o){var l=o._container;this._container.appendChild(l),o.options.interactive&&o.addInteractiveTarget(l)},_removePath:function(o){var l=o._container;ut(l),o.removeInteractiveTarget(l),delete this._layers[O(o)]},_updateStyle:function(o){var l=o._stroke,h=o._fill,m=o.options,y=o._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(l||(l=o._stroke=Jr("stroke")),y.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,l.dashStyle=m.dashArray?ct(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):"",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(y.removeChild(l),o._stroke=null),m.fill?(h||(h=o._fill=Jr("fill")),y.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(y.removeChild(h),o._fill=null)},_updateCircle:function(o){var l=o._point.round(),h=Math.round(o._radius),m=Math.round(o._radiusY||h);this._setPath(o,o._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+m+" 0,23592600")},_setPath:function(o,l){o._path.v=l},_bringToFront:function(o){fr(o._container)},_bringToBack:function(o){Gi(o._container)}},gt=Fr?Jr:Js,oe=kn.extend({getEvents:function(){var o=kn.prototype.getEvents.call(this);return o.zoomstart=this._onZoomStart,o},_initContainer:function(){this._container=gt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),Ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){kn.prototype._update.call(this);var o=this._bounds,l=o.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),St(h,o.min),h.setAttribute("viewBox",[o.min.x,o.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(o){var l=o._path=gt("path");o.options.className&&Ce(l,o.options.className),o.options.interactive&&Ce(l,"leaflet-interactive"),this._updateStyle(o),this._layers[O(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ut(o._path),o.removeInteractiveTarget(o._path),delete this._layers[O(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var l=o._path,h=o.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(o,l){this._setPath(o,gl(o._parts,l))},_updateCircle:function(o){var l=o._point,h=Math.max(Math.round(o._radius),1),y="a"+h+","+(Math.max(Math.round(o._radiusY),1)||h)+" 0 1,0 ",S=o._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+2*h+",0 "+y+2*-h+",0 ";this._setPath(o,S)},_setPath:function(o,l){o._path.setAttribute("d",l)},_bringToFront:function(o){fr(o._path)},_bringToBack:function(o){Gi(o._path)}});function me(o){return xo||Fr?new oe(o):null}Fr&&oe.include(xl),Ve.include({getRenderer:function(o){var l=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(o){if("overlayPane"===o||void 0===o)return!1;var l=this._paneRenderers[o];return void 0===l&&(l=this._createRenderer({pane:o}),this._paneRenderers[o]=l),l},_createRenderer:function(o){return this.options.preferCanvas&&Xr(o)||me(o)}});var ft=Xi.extend({initialize:function(o,l){Xi.prototype.initialize.call(this,this._boundsToLatLngs(o),l)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return[(o=ot(o)).getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});oe.create=gt,oe.pointsToPath=gl,ei.geometryToLayer=$o,ei.coordsToLatLng=Go,ei.coordsToLatLngs=qo,ei.latLngToCoords=Ss,ei.latLngsToCoords=fn,ei.getFeature=xt,ei.asFeature=hi,Ve.mergeOptions({boxZoom:!0});var Cr=li.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||1!==o.which&&1!==o.button)return!1;this._clearDeferredResetState(),this._resetState(),K(),ps(),this._startPoint=this._map.mouseEventToContainerPoint(o),He(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=Ye("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var l=new Je(this._point,this._startPoint),h=l.getSize();St(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(ut(this._box),Le(this._container,"leaflet-crosshair")),Lt(),gs(),Ct(document,{contextmenu:bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if((1===o.which||1===o.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(x(this._resetState,this),0);var l=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(o){27===o.keyCode&&this._finish()}});Ve.addInitHook("addHandler","boxZoom",Cr),Ve.mergeOptions({doubleClickZoom:!0});var Ut=li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var l=this._map,h=l.getZoom(),m=l.options.zoomDelta,y=o.originalEvent.shiftKey?h-m:h+m;"center"===l.options.doubleClickZoom?l.setZoom(y):l.setZoomAround(o.containerPoint,y)}});Ve.addInitHook("addHandler","doubleClickZoom",Ut),Ve.mergeOptions({dragging:!0,inertia:!bo,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nr=li.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Ii(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ot(this._map.options.maxBounds);this._offsetLimit=Kt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,l){return o-(o-l)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var o=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;o.x<l.min.x&&(o.x=this._viscousLimit(o.x,l.min.x)),o.y<l.min.y&&(o.y=this._viscousLimit(o.y,l.min.y)),o.x>l.max.x&&(o.x=this._viscousLimit(o.x,l.max.x)),o.y>l.max.y&&(o.y=this._viscousLimit(o.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,l=Math.round(o/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-l+h)%o+l-h,S=(m+l+h)%o-l-h,N=Math.abs(y+h)<Math.abs(S+h)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(o){var l=this._map,h=l.options,m=!h.inertia||this._times.length<2;if(l.fire("dragend",o),m)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),N=h.easeLinearity,j=y.multiplyBy(N/((this._lastTime-this._times[0])/1e3)),H=j.distanceTo([0,0]),W=Math.min(h.inertiaMaxSpeed,H),ae=j.multiplyBy(W/H),de=W/(h.inertiaDeceleration*N),le=ae.multiplyBy(-de/2).round();le.x||le.y?(le=l._limitOffset(le,l.options.maxBounds),Rt(function(){l.panBy(le,{duration:de,easeLinearity:N,noMoveStart:!0,animate:!0})})):l.fire("moveend")}}});Ve.addInitHook("addHandler","dragging",nr),Ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yt=li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),He(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,l=document.documentElement,h=o.scrollTop||l.scrollTop,m=o.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var m,y,l=this._panKeys={},h=this.keyCodes;for(m=0,y=h.left.length;m<y;m++)l[h.left[m]]=[-1*o,0];for(m=0,y=h.right.length;m<y;m++)l[h.right[m]]=[o,0];for(m=0,y=h.down.length;m<y;m++)l[h.down[m]]=[0,o];for(m=0,y=h.up.length;m<y;m++)l[h.up[m]]=[0,-1*o]},_setZoomDelta:function(o){var m,y,l=this._zoomKeys={},h=this.keyCodes;for(m=0,y=h.zoomIn.length;m<y;m++)l[h.zoomIn[m]]=o;for(m=0,y=h.zoomOut.length;m<y;m++)l[h.zoomOut[m]]=-o},_addHooks:function(){He(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var m,l=o.keyCode,h=this._map;if(l in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(m=this._panKeys[l],o.shiftKey&&(m=Ke(m).multiplyBy(3)),h.panBy(m),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[l]);else{if(27!==l||!h._popup||!h._popup.options.closeOnEscapeKey)return;h.closePopup()}bi(o)}}});Ve.addInitHook("addHandler","keyboard",yt),Ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pi=li.extend({addHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var l=la(o),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(x(this._performZoom,this),m),bi(o)},_performZoom:function(){var o=this._map,l=o.getZoom(),h=this._map.options.zoomSnap||0;o._stop();var y=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,S=h?Math.ceil(y/h)*h:y,N=o._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,N&&("center"===o.options.scrollWheelZoom?o.setZoom(l+N):o.setZoomAround(this._lastMousePos,l+N))}});Ve.addInitHook("addHandler","scrollWheelZoom",pi),Ve.mergeOptions({tap:!0,tapTolerance:15});var ir=li.extend({addHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(o.touches){if(An(o),this._fireClick=!0,o.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var l=o.touches[0],h=l.target;this._startPos=this._newPos=new Ee(l.clientX,l.clientY),h.tagName&&"a"===h.tagName.toLowerCase()&&Ce(h,"leaflet-active"),this._holdTimeout=setTimeout(x(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",l))},this),1e3),this._simulateEvent("mousedown",l),He(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(o){if(clearTimeout(this._holdTimeout),Ct(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&o&&o.changedTouches){var l=o.changedTouches[0],h=l.target;h&&h.tagName&&"a"===h.tagName.toLowerCase()&&Le(h,"leaflet-active"),this._simulateEvent("mouseup",l),this._isTapValid()&&this._simulateEvent("click",l)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(o){var l=o.touches[0];this._newPos=new Ee(l.clientX,l.clientY),this._simulateEvent("mousemove",l)},_simulateEvent:function(o,l){var h=document.createEvent("MouseEvents");h._simulated=!0,l.target._simulatedClick=!0,h.initMouseEvent(o,!0,!0,window,1,l.screenX,l.screenY,l.clientX,l.clientY,!1,!1,!1,!1,0,null),l.target.dispatchEvent(h)}});an&&(!sn||on)&&Ve.addInitHook("addHandler","tap",ir),Ve.mergeOptions({touchZoom:an&&!bo,bounceAtZoomLimits:!0});var be=li.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var l=this._map;if(o.touches&&2===o.touches.length&&!l._animatingZoom&&!this._zooming){var h=l.mouseEventToContainerPoint(o.touches[0]),m=l.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),"center"!==l.options.touchZoom&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend",this._onTouchEnd,this),An(o)}},_onTouchMove:function(o){if(o.touches&&2===o.touches.length&&this._zooming){var l=this._map,h=l.mouseEventToContainerPoint(o.touches[0]),m=l.mouseEventToContainerPoint(o.touches[1]),y=h.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),"center"===l.options.touchZoom){if(this._center=this._startLatLng,1===y)return}else{var S=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(1===y&&0===S.x&&0===S.y)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),$t(this._animRequest);var N=x(l._move,l,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Rt(N,this,!0),An(o)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,$t(this._animRequest),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ve.addInitHook("addHandler","touchZoom",be),Ve.BoxZoom=Cr,Ve.DoubleClickZoom=Ut,Ve.Drag=nr,Ve.Keyboard=yt,Ve.ScrollWheelZoom=pi,Ve.Tap=ir,Ve.TouchZoom=be,te.version="1.7.1",te.Control=Jt,te.control=Hr,te.Browser=kt,te.Evented=Ui,te.Mixin=Cs,te.Util=Mn,te.Class=qn,te.Handler=li,te.extend=_,te.bind=x,te.stamp=O,te.setOptions=nt,te.DomEvent=Dl,te.DomUtil=Wi,te.PosAnimation=zr,te.Draggable=Ii,te.LineUtil=El,te.PolyUtil=Is,te.Point=Ee,te.point=Ke,te.Bounds=Je,te.bounds=Kt,te.Transformation=Xs,te.transformation=kr,te.Projection=ce,te.LatLng=xe,te.latLng=Ne,te.LatLngBounds=lt,te.latLngBounds=ot,te.CRS=ke,te.GeoJSON=ei,te.geoJSON=Mr,te.geoJson=Qr,te.Layer=Nn,te.LayerGroup=yr,te.layerGroup=function(o,l){return new yr(o,l)},te.FeatureGroup=dn,te.featureGroup=function(o,l){return new dn(o,l)},te.ImageOverlay=di,te.imageOverlay=function(o,l,h){return new di(o,l,h)},te.VideoOverlay=Kr,te.videoOverlay=function Il(o,l,h){return new Kr(o,l,h)},te.SVGOverlay=da,te.svgOverlay=function xs(o,l,h){return new da(o,l,h)},te.DivOverlay=fi,te.Popup=Dr,te.popup=function(o,l){return new Dr(o,l)},te.Tooltip=En,te.tooltip=function(o,l){return new En(o,l)},te.Icon=Gt,te.icon=function Jn(o){return new Gt(o)},te.DivIcon=Ts,te.divIcon=function en(o){return new Ts(o)},te.Marker=wr,te.marker=function Si(o,l){return new wr(o,l)},te.TileLayer=vt,te.tileLayer=qt,te.GridLayer=Ot,te.gridLayer=function Qe(o){return new Ot(o)},te.SVG=oe,te.svg=me,te.Renderer=kn,te.Canvas=Ls,te.canvas=Xr,te.Path=ci,te.CircleMarker=Cn,te.circleMarker=function Wr(o,l){return new Cn(o,l)},te.Circle=Vo,te.circle=function ua(o,l,h){return new Vo(o,l,h)},te.Polyline=Rn,te.polyline=function ca(o,l){return new Rn(o,l)},te.Polygon=Xi,te.polygon=function Yr(o,l){return new Xi(o,l)},te.Rectangle=ft,te.rectangle=function On(o,l){return new ft(o,l)},te.Map=Ve,te.map=function ko(o,l){return new Ve(o,l)};var eo=window.L;te.noConflict=function(){return window.L=eo,this},window.L=te}(wn)},991:(yi,wn,te)=>{"use strict";te.r(wn),te.d(wn,{default:()=>bn});var _=1,D=2,x=3,O=5,G=6378137,Z=6356752.314,J=.0066943799901413165,ye=484813681109536e-20,Q=Math.PI/2,se=1e-10,bt=.017453292519943295,ct=57.29577951308232,We=Math.PI/4,wi=2*Math.PI,ht=3.14159265359,Bt={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Mo={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Rr=/[\s_\-\/\(\)]/g;function xn(u,d){if(u[d])return u[d];for(var E,p=Object.keys(u),w=d.toLowerCase().replace(Rr,""),v=-1;++v<p.length;)if((E=p[v]).toLowerCase().replace(Rr,"")===w)return u[E]}function Rt(u){var w,v,E,d={},p=u.split("+").map(function(C){return C.trim()}).filter(function(C){return C}).reduce(function(C,T){var R=T.split("=");return R.push(!0),C[R[0].toLowerCase()]=R[1],C},{}),I={proj:"projName",datum:"datumCode",rf:function(C){d.rf=parseFloat(C)},lat_0:function(C){d.lat0=C*bt},lat_1:function(C){d.lat1=C*bt},lat_2:function(C){d.lat2=C*bt},lat_ts:function(C){d.lat_ts=C*bt},lon_0:function(C){d.long0=C*bt},lon_1:function(C){d.long1=C*bt},lon_2:function(C){d.long2=C*bt},alpha:function(C){d.alpha=parseFloat(C)*bt},gamma:function(C){d.rectified_grid_angle=parseFloat(C)},lonc:function(C){d.longc=C*bt},x_0:function(C){d.x0=parseFloat(C)},y_0:function(C){d.y0=parseFloat(C)},k_0:function(C){d.k0=parseFloat(C)},k:function(C){d.k0=parseFloat(C)},a:function(C){d.a=parseFloat(C)},b:function(C){d.b=parseFloat(C)},r_a:function(){d.R_A=!0},zone:function(C){d.zone=parseInt(C,10)},south:function(){d.utmSouth=!0},towgs84:function(C){d.datum_params=C.split(",").map(function(T){return parseFloat(T)})},to_meter:function(C){d.to_meter=parseFloat(C)},units:function(C){d.units=C;var T=xn(Mo,C);T&&(d.to_meter=T.to_meter)},from_greenwich:function(C){d.from_greenwich=C*bt},pm:function(C){var T=xn(Bt,C);d.from_greenwich=(T||parseFloat(C))*bt},nadgrids:function(C){"@null"===C?d.datumCode="none":d.nadgrids=C},axis:function(C){var T="ewnsud";3===C.length&&-1!==T.indexOf(C.substr(0,1))&&-1!==T.indexOf(C.substr(1,1))&&-1!==T.indexOf(C.substr(2,1))&&(d.axis=C)},approx:function(){d.approx=!0}};for(w in p)v=p[w],w in I?"function"==typeof(E=I[w])?E(v):d[E]=v:d[w]=v;return"string"==typeof d.datumCode&&"WGS84"!==d.datumCode&&(d.datumCode=d.datumCode.toLowerCase()),d}const $t=function xe(u){return new ot(u).output()};var Mn=1,Ks=/\s/,Ke=/[A-Za-z]/,Je=/[A-Za-z84]/,Kt=/[,\]]/,lt=/[\d\.E\-\+]/;function ot(u){if("string"!=typeof u)throw new Error("not a string");this.text=u.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Mn}function Ne(u,d,p){Array.isArray(d)&&(p.unshift(d),d=null);var v=p.reduce(function(E,I){return ke(I,E),E},d?{}:u);d&&(u[d]=v)}function ke(u,d){if(Array.isArray(u)){var p=u.shift();if("PARAMETER"===p&&(p=u.shift()),1===u.length)return Array.isArray(u[0])?(d[p]={},void ke(u[0],d[p])):void(d[p]=u[0]);if(u.length)if("TOWGS84"!==p){if("AXIS"===p)return p in d||(d[p]=[]),void d[p].push(u);var w;switch(Array.isArray(p)||(d[p]={}),p){case"UNIT":case"PRIMEM":case"VERT_DATUM":return d[p]={name:u[0].toLowerCase(),convert:u[1]},void(3===u.length&&ke(u[2],d[p]));case"SPHEROID":case"ELLIPSOID":return d[p]={name:u[0],a:u[1],rf:u[2]},void(4===u.length&&ke(u[3],d[p]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return u[0]=["name",u[0]],void Ne(d,p,u);default:for(w=-1;++w<u.length;)if(!Array.isArray(u[w]))return ke(u,d[p]);return Ne(d,p,u)}}else d[p]=u;else d[p]=!0}else d[u]=!0}ot.prototype.readCharicter=function(){var u=this.text[this.place++];if(4!==this.state)for(;Ks.test(u);){if(this.place>=this.text.length)return;u=this.text[this.place++]}switch(this.state){case Mn:return this.neutral(u);case 2:return this.keyword(u);case 4:return this.quoted(u);case 5:return this.afterquote(u);case 3:return this.number(u);case-1:return}},ot.prototype.afterquote=function(u){if('"'===u)return this.word+='"',void(this.state=4);if(Kt.test(u))return this.word=this.word.trim(),void this.afterItem(u);throw new Error("havn't handled \""+u+'" in afterquote yet, index '+this.place)},ot.prototype.afterItem=function(u){return","===u?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Mn)):"]"===u?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Mn,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},ot.prototype.number=function(u){if(!lt.test(u)){if(Kt.test(u))return this.word=parseFloat(this.word),void this.afterItem(u);throw new Error("havn't handled \""+u+'" in number yet, index '+this.place)}this.word+=u},ot.prototype.quoted=function(u){'"'!==u?this.word+=u:this.state=5},ot.prototype.keyword=function(u){if(Je.test(u))this.word+=u;else{if("["===u){var d=[];return d.push(this.word),this.level++,null===this.root?this.root=d:this.currentObject.push(d),this.stack.push(this.currentObject),this.currentObject=d,void(this.state=Mn)}if(!Kt.test(u))throw new Error("havn't handled \""+u+'" in keyword yet, index '+this.place);this.afterItem(u)}},ot.prototype.neutral=function(u){if(Ke.test(u))return this.word=u,void(this.state=2);if('"'===u)return this.word="",void(this.state=4);if(lt.test(u))return this.word=u,void(this.state=3);if(!Kt.test(u))throw new Error("havn't handled \""+u+'" in neutral yet, index '+this.place);this.afterItem(u)},ot.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Zn=.017453292519943295;function Dn(u){return u*Zn}function kr(u){var d=$t(u),p=d.shift(),w=d.shift();d.unshift(["name",w]),d.unshift(["type",p]);var v={};return ke(d,v),function Xs(u){if("GEOGCS"===u.type?u.projName="longlat":"LOCAL_CS"===u.type?(u.projName="identity",u.local=!0):u.projName="object"==typeof u.PROJECTION?Object.keys(u.PROJECTION)[0]:u.PROJECTION,u.AXIS){for(var d="",p=0,w=u.AXIS.length;p<w;++p){var v=[u.AXIS[p][0].toLowerCase(),u.AXIS[p][1].toLowerCase()];-1!==v[0].indexOf("north")||("y"===v[0]||"lat"===v[0])&&"north"===v[1]?d+="n":-1!==v[0].indexOf("south")||("y"===v[0]||"lat"===v[0])&&"south"===v[1]?d+="s":-1!==v[0].indexOf("east")||("x"===v[0]||"lon"===v[0])&&"east"===v[1]?d+="e":(-1!==v[0].indexOf("west")||("x"===v[0]||"lon"===v[0])&&"west"===v[1])&&(d+="w")}2===d.length&&(d+="u"),3===d.length&&(u.axis=d)}u.UNIT&&(u.units=u.UNIT.name.toLowerCase(),"metre"===u.units&&(u.units="meter"),u.UNIT.convert&&("GEOGCS"===u.type?u.DATUM&&u.DATUM.SPHEROID&&(u.to_meter=u.UNIT.convert*u.DATUM.SPHEROID.a):u.to_meter=u.UNIT.convert));var E=u.GEOGCS;function I(R){return R*(u.to_meter||1)}"GEOGCS"===u.type&&(E=u),E&&(u.datumCode=E.DATUM?E.DATUM.name.toLowerCase():E.name.toLowerCase(),"d_"===u.datumCode.slice(0,2)&&(u.datumCode=u.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===u.datumCode||"new_zealand_1949"===u.datumCode)&&(u.datumCode="nzgd49"),("wgs_1984"===u.datumCode||"world_geodetic_system_1984"===u.datumCode)&&("Mercator_Auxiliary_Sphere"===u.PROJECTION&&(u.sphere=!0),u.datumCode="wgs84"),"_ferro"===u.datumCode.slice(-6)&&(u.datumCode=u.datumCode.slice(0,-6)),"_jakarta"===u.datumCode.slice(-8)&&(u.datumCode=u.datumCode.slice(0,-8)),~u.datumCode.indexOf("belge")&&(u.datumCode="rnb72"),E.DATUM&&E.DATUM.SPHEROID&&(u.ellps=E.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===u.ellps.toLowerCase().slice(0,13)&&(u.ellps="intl"),u.a=E.DATUM.SPHEROID.a,u.rf=parseFloat(E.DATUM.SPHEROID.rf,10)),E.DATUM&&E.DATUM.TOWGS84&&(u.datum_params=E.DATUM.TOWGS84),~u.datumCode.indexOf("osgb_1936")&&(u.datumCode="osgb36"),~u.datumCode.indexOf("osni_1952")&&(u.datumCode="osni52"),(~u.datumCode.indexOf("tm65")||~u.datumCode.indexOf("geodetic_datum_of_1965"))&&(u.datumCode="ire65"),"ch1903+"===u.datumCode&&(u.datumCode="ch1903"),~u.datumCode.indexOf("israel")&&(u.datumCode="isr93")),u.b&&!isFinite(u.b)&&(u.b=u.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Dn],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Dn],["x0","false_easting",I],["y0","false_northing",I],["long0","central_meridian",Dn],["lat0","latitude_of_origin",Dn],["lat0","standard_parallel_1",Dn],["lat1","standard_parallel_1",Dn],["lat2","standard_parallel_2",Dn],["azimuth","Azimuth"],["alpha","azimuth",Dn],["srsCode","name"]].forEach(function(R){return function pl(u,d){var p=d[0],w=d[1];!(p in u)&&w in u&&(u[p]=u[w],3===d.length&&(u[p]=d[2](u[p])))}(u,R)}),!u.long0&&u.longc&&("Albers_Conic_Equal_Area"===u.projName||"Lambert_Azimuthal_Equal_Area"===u.projName)&&(u.long0=u.longc),!u.lat_ts&&u.lat1&&("Stereographic_South_Pole"===u.projName||"Polar Stereographic (variant B)"===u.projName)&&(u.lat0=Dn(u.lat1>0?90:-90),u.lat_ts=u.lat1)}(v),v}function mn(u){var d=this;if(2===arguments.length){var p=arguments[1];mn[u]="string"==typeof p?"+"===p.charAt(0)?Rt(arguments[1]):kr(arguments[1]):p}else if(1===arguments.length){if(Array.isArray(u))return u.map(function(w){Array.isArray(w)?mn.apply(d,w):mn(w)});if("string"==typeof u){if(u in mn)return mn[u]}else"EPSG"in u?mn["EPSG:"+u.EPSG]=u:"ESRI"in u?mn["ESRI:"+u.ESRI]=u:"IAU2000"in u?mn["IAU2000:"+u.IAU2000]=u:console.log(u);return}}!function ze(u){u("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),u("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),u("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),u.WGS84=u["EPSG:4326"],u["EPSG:3785"]=u["EPSG:3857"],u.GOOGLE=u["EPSG:3857"],u["EPSG:900913"]=u["EPSG:3857"],u["EPSG:102113"]=u["EPSG:3857"]}(mn);const os=mn;var Do=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],zi=["3857","900913","3785","102113"];function as(u,d){var p,w;if(u=u||{},!d)return u;for(w in d)void 0!==(p=d[w])&&(u[w]=p);return u}function Tn(u,d,p){var w=u*d;return p/Math.sqrt(1-w*w)}function Vi(u){return u<0?-1:1}function ue(u){return Math.abs(u)<=ht?u:u-Vi(u)*wi}function on(u,d,p){var w=u*p;return w=Math.pow((1-w)/(1+w),.5*u),Math.tan(.5*(Q-d))/w}function Or(u,d){for(var w,v,p=.5*u,E=Q-2*Math.atan(d),I=0;I<=15;I++)if(w=u*Math.sin(E),E+=v=Q-2*Math.atan(d*Math.pow((1-w)/(1+w),p))-E,Math.abs(v)<=1e-10)return E;return-9999}function Mi(u){return u}var si=[{init:function ml(){var u=this.b/this.a;this.es=1-u*u,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):Tn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function _l(u){var w,v,d=u.x,p=u.y;if(p*ct>90&&p*ct<-90&&d*ct>180&&d*ct<-180)return null;if(Math.abs(Math.abs(p)-Q)<=se)return null;if(this.sphere)w=this.x0+this.a*this.k0*ue(d-this.long0),v=this.y0+this.a*this.k0*Math.log(Math.tan(We+.5*p));else{var E=Math.sin(p),I=on(this.e,p,E);w=this.x0+this.a*this.k0*ue(d-this.long0),v=this.y0-this.a*this.k0*Math.log(I)}return u.x=w,u.y=v,u},inverse:function ta(u){var w,v,d=u.x-this.x0,p=u.y-this.y0;if(this.sphere)v=Q-2*Math.atan(Math.exp(-p/(this.a*this.k0)));else{var E=Math.exp(-p/(this.a*this.k0));if(-9999===(v=Or(this.e,E)))return null}return w=ue(this.long0+d/(this.a*this.k0)),u.x=w,u.y=v,u},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function _n(){},forward:Mi,inverse:Mi,names:["longlat","identity"]}],sn={},an=[];function So(u,d){var p=an.length;return u.names?(an[p]=u,u.names.forEach(function(w){sn[w.toLowerCase()]=p}),this):(console.log(d),!0)}const cr={start:function Di(){si.forEach(So)},add:So,get:function ai(u){if(!u)return!1;var d=u.toLowerCase();return typeof sn[d]<"u"&&an[sn[d]]?an[sn[d]]:void 0}};var Ie={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},xo=Ie.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ie.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var kt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var It={};function vl(u){if(0===u.length)return null;var d="@"===u[0];return d&&(u=u.slice(1)),"null"===u?{name:"null",mandatory:!d,grid:null,isNull:!0}:{name:u,mandatory:!d,grid:It[u]||null,isNull:!1}}function hr(u){return u/3600*Math.PI/180}function hs(u,d,p){return String.fromCharCode.apply(null,new Uint8Array(u.buffer.slice(d,p)))}function ia(u){return u.map(function(d){return[hr(d.longitudeShift),hr(d.latitudeShift)]})}function To(u,d,p){return{name:hs(u,d+8,d+16).trim(),parent:hs(u,d+24,d+24+8).trim(),lowerLatitude:u.getFloat64(d+72,p),upperLatitude:u.getFloat64(d+88,p),lowerLongitude:u.getFloat64(d+104,p),upperLongitude:u.getFloat64(d+120,p),latitudeInterval:u.getFloat64(d+136,p),longitudeInterval:u.getFloat64(d+152,p),gridNodeCount:u.getInt32(d+168,p)}}function ra(u,d,p,w){for(var v=d+176,I=[],C=0;C<p.gridNodeCount;C++){var T={latitudeShift:u.getFloat32(v+16*C,w),longitudeShift:u.getFloat32(v+16*C+4,w),latitudeAccuracy:u.getFloat32(v+16*C+8,w),longitudeAccuracy:u.getFloat32(v+16*C+12,w)};I.push(T)}return I}function dr(u,d){if(!(this instanceof dr))return new dr(u);d=d||function(R){if(R)throw R};var p=function bo(u){if(!function Js(u){return"string"==typeof u}(u))return u;if(function gl(u){return u in os}(u))return os[u];if(function ss(u){return Do.some(function(d){return u.indexOf(d)>-1})}(u)){var d=kr(u);if(function Co(u){var d=xn(u,"authority");if(d){var p=xn(d,"epsg");return p&&zi.indexOf(p)>-1}}(d))return os["EPSG:3857"];var p=function ea(u){var d=xn(u,"extension");if(d)return xn(d,"proj4")}(d);return p?Rt(p):d}return function Eo(u){return"+"===u[0]}(u)?Rt(u):void 0}(u);if("object"==typeof p){var w=dr.projections.get(p.projName);if(w){if(p.datumCode&&"none"!==p.datumCode){var v=xn(kt,p.datumCode);v&&(p.datum_params=p.datum_params||(v.towgs84?v.towgs84.split(","):null),p.ellps=v.ellipse,p.datumName=v.datumName?v.datumName:p.datumCode)}p.k0=p.k0||1,p.axis=p.axis||"enu",p.ellps=p.ellps||"wgs84",p.lat1=p.lat1||p.lat0;var E=function Wn(u,d,p,w,v){if(!u){var E=xn(Ie,w);E||(E=xo),u=E.a,d=E.b,p=E.rf}return p&&!d&&(d=(1-1/p)*u),(0===p||Math.abs(u-d)<se)&&(v=!0,d=u),{a:u,b:d,rf:p,sphere:v}}(p.a,p.b,p.rf,p.ellps,p.sphere),I=function Fr(u,d,p,w){var v=u*u,E=d*d,I=(v-E)/v,C=0;return w?(v=(u*=1-I*(.16666666666666666+I*(.04722222222222222+.022156084656084655*I)))*u,I=0):C=Math.sqrt(I),{es:I,e:C,ep2:(v-E)/E}}(E.a,E.b,0,p.R_A),C=function Xt(u){return void 0===u?null:u.split(",").map(vl)}(p.nadgrids),T=p.datum||function Ln(u,d,p,w,v,E,I){var C={};return C.datum_type=void 0===u||"none"===u?O:4,d&&(C.datum_params=d.map(parseFloat),(0!==C.datum_params[0]||0!==C.datum_params[1]||0!==C.datum_params[2])&&(C.datum_type=_),C.datum_params.length>3&&(0!==C.datum_params[3]||0!==C.datum_params[4]||0!==C.datum_params[5]||0!==C.datum_params[6])&&(C.datum_type=D,C.datum_params[3]*=ye,C.datum_params[4]*=ye,C.datum_params[5]*=ye,C.datum_params[6]=C.datum_params[6]/1e6+1)),I&&(C.datum_type=x,C.grids=I),C.a=p,C.b=w,C.es=v,C.ep2=E,C}(p.datumCode,p.datum_params,E.a,E.b,I.es,I.ep2,C);as(this,p),as(this,w),this.a=E.a,this.b=E.b,this.rf=E.rf,this.sphere=E.sphere,this.es=I.es,this.e=I.e,this.ep2=I.ep2,this.datum=T,this.init(),d(null,this)}else d(u)}else d(u)}(dr.projections=cr).start();const Ei=dr;function $i(u,d,p){var I,C,R,w=u.x,v=u.y,E=u.z?u.z:0;if(v<-Q&&v>-1.001*Q)v=-Q;else if(v>Q&&v<1.001*Q)v=Q;else{if(v<-Q)return{x:-1/0,y:-1/0,z:u.z};if(v>Q)return{x:1/0,y:1/0,z:u.z}}return w>Math.PI&&(w-=2*Math.PI),C=Math.sin(v),R=Math.cos(v),{x:((I=p/Math.sqrt(1-d*(C*C)))+E)*R*Math.cos(w),y:(I+E)*R*Math.sin(w),z:(I*(1-d)+E)*C}}function ds(u,d,p,w){var C,T,R,U,k,q,X,z,ne,re,fe,Oe,Ge,gn,Pi,it=u.x,Ue=u.y,rt=u.z?u.z:0;if(C=Math.sqrt(it*it+Ue*Ue),T=Math.sqrt(it*it+Ue*Ue+rt*rt),C/p<1e-12){if(gn=0,T/p<1e-12)return Pi=-w,{x:u.x,y:u.y,z:u.z}}else gn=Math.atan2(Ue,it);R=rt/T,z=(U=C/T)*(1-d)*(k=1/Math.sqrt(1-d*(2-d)*U*U)),ne=R*k,Ge=0;do{Ge++,q=d*(X=p/Math.sqrt(1-d*ne*ne))/(X+(Pi=C*z+rt*ne-X*(1-d*ne*ne))),Oe=(fe=R*(k=1/Math.sqrt(1-q*(2-q)*U*U)))*z-(re=U*(1-q)*k)*ne,z=re,ne=fe}while(Oe*Oe>1e-24&&Ge<30);return{x:gn,y:Math.atan(fe/Math.abs(re)),z:Pi}}function dt(u){return u===_||u===D}function De(u,d,p){if(null===u.grids||0===u.grids.length)return console.log("Grid shift grids not found"),-1;for(var w={x:-p.x,y:p.y},v={x:Number.NaN,y:Number.NaN},I=[],C=0;C<u.grids.length;C++){var T=u.grids[C];if(I.push(T.name),T.isNull){v=w;break}if(null!==T.grid){var R=T.grid.subgrids[0],U=(Math.abs(R.del[1])+Math.abs(R.del[0]))/1e4;if(!(R.ll[1]-U>w.y||R.ll[0]-U>w.x||R.ll[1]+(R.lim[1]-1)*R.del[1]+U<w.y||R.ll[0]+(R.lim[0]-1)*R.del[0]+U<w.x||(v=Pn(w,d,R),isNaN(v.x))))break}else if(T.mandatory)return console.log("Unable to find mandatory grid '"+T.name+"'"),-1}return isNaN(v.x)?(console.log("Failed to find a grid shift table for location '"+-w.x*ct+" "+w.y*ct+" tried: '"+I+"'"),-1):(p.x=-v.x,p.y=v.y,0)}function Pn(u,d,p){var w={x:Number.NaN,y:Number.NaN};if(isNaN(u.x))return w;var v={x:u.x,y:u.y};v.x-=p.ll[0],v.y-=p.ll[1],v.x=ue(v.x-Math.PI)+Math.PI;var E=Ye(v,p);if(d){if(isNaN(E.x))return w;E.x=v.x-E.x,E.y=v.y-E.y;var T,R,I=9;do{if(R=Ye(E,p),isNaN(R.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}E.x+=(T={x:v.x-(R.x+E.x),y:v.y-(R.y+E.y)}).x,E.y+=T.y}while(I--&&Math.abs(T.x)>1e-12&&Math.abs(T.y)>1e-12);if(I<0)return console.log("Inverse grid shift iterator failed to converge."),w;w.x=ue(E.x+p.ll[0]),w.y=E.y+p.ll[1]}else isNaN(E.x)||(w.x=u.x+E.x,w.y=u.y+E.y);return w}function Ye(u,d){var I,p={x:u.x/d.del[0],y:u.y/d.del[1]},w_x=Math.floor(p.x),w_y=Math.floor(p.y),v_x=p.x-1*w_x,v_y=p.y-1*w_y,E={x:Number.NaN,y:Number.NaN};if(w_x<0||w_x>=d.lim[0]||w_y<0||w_y>=d.lim[1])return E;var C_x=d.cvs[I=w_y*d.lim[0]+w_x][0],C_y=d.cvs[I][1];I++;var T_x=d.cvs[I][0],T_y=d.cvs[I][1],R_x=d.cvs[I+=d.lim[0]][0],R_y=d.cvs[I][1];I--;var U_y=d.cvs[I][1],k=v_x*v_y,q=v_x*(1-v_y),X=(1-v_x)*(1-v_y),z=(1-v_x)*v_y;return E.x=X*C_x+q*T_x+z*d.cvs[I][0]+k*R_x,E.y=X*C_y+q*T_y+z*U_y+k*R_y,E}function ut(u,d,p){var I,C,T,w=p.x,v=p.y,E=p.z||0,R={};for(T=0;T<3;T++)if(!d||2!==T||void 0!==p.z)switch(0===T?(I=w,C=-1!=="ew".indexOf(u.axis[T])?"x":"y"):1===T?(I=v,C=-1!=="ns".indexOf(u.axis[T])?"y":"x"):(I=E,C="z"),u.axis[T]){case"e":case"n":R[C]=I;break;case"w":case"s":R[C]=-I;break;case"u":void 0!==p[C]&&(R.z=I);break;case"d":void 0!==p[C]&&(R.z=-I);break;default:return null}return R}function ln(u){var d={x:u[0],y:u[1]};return u.length>2&&(d.z=u[2]),u.length>3&&(d.m=u[3]),d}function Gi(u){if("function"==typeof Number.isFinite){if(Number.isFinite(u))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof u||u!=u||!isFinite(u))throw new TypeError("coordinates must be finite numbers")}function Ce(u,d,p,w){var v;if(Array.isArray(p)&&(p=ln(p)),function fr(u){Gi(u.x),Gi(u.y)}(p),u.datum&&d.datum&&function et(u,d){return(u.datum.datum_type===_||u.datum.datum_type===D)&&"WGS84"!==d.datumCode||(d.datum.datum_type===_||d.datum.datum_type===D)&&"WGS84"!==u.datumCode}(u,d)&&(p=Ce(u,v=new Ei("WGS84"),p,w),u=v),w&&"enu"!==u.axis&&(p=ut(u,!1,p)),"longlat"===u.projName)p={x:p.x*bt,y:p.y*bt,z:p.z||0};else if(u.to_meter&&(p={x:p.x*u.to_meter,y:p.y*u.to_meter,z:p.z||0}),!(p=u.inverse(p)))return;if(u.from_greenwich&&(p.x+=u.from_greenwich),p=function oa(u,d,p){if(function Lo(u,d){return!(u.datum_type!==d.datum_type||u.a!==d.a||Math.abs(u.es-d.es)>5e-11)&&(u.datum_type===_?u.datum_params[0]===d.datum_params[0]&&u.datum_params[1]===d.datum_params[1]&&u.datum_params[2]===d.datum_params[2]:u.datum_type!==D||u.datum_params[0]===d.datum_params[0]&&u.datum_params[1]===d.datum_params[1]&&u.datum_params[2]===d.datum_params[2]&&u.datum_params[3]===d.datum_params[3]&&u.datum_params[4]===d.datum_params[4]&&u.datum_params[5]===d.datum_params[5]&&u.datum_params[6]===d.datum_params[6])}(u,d)||u.datum_type===O||d.datum_type===O)return p;var w=u.a,v=u.es;if(u.datum_type===x){if(0!==De(u,!1,p))return;w=G,v=J}var I=d.a,C=d.b,T=d.es;return d.datum_type===x&&(I=G,C=Z,T=J),v!==T||w!==I||dt(u.datum_type)||dt(d.datum_type)?(p=$i(p,v,w),dt(u.datum_type)&&(p=function wl(u,d,p){if(d===_)return{x:u.x+p[0],y:u.y+p[1],z:u.z+p[2]};if(d===D){var I=p[3],C=p[4],T=p[5],R=p[6];return{x:R*(u.x-T*u.y+C*u.z)+p[0],y:R*(T*u.x+u.y-I*u.z)+p[1],z:R*(-C*u.x+I*u.y+u.z)+p[2]}}}(p,u.datum_type,u.datum_params)),dt(d.datum_type)&&(p=function fs(u,d,p){if(d===_)return{x:u.x-p[0],y:u.y-p[1],z:u.z-p[2]};if(d===D){var I=p[3],C=p[4],T=p[5],R=p[6],U=(u.x-p[0])/R,k=(u.y-p[1])/R,q=(u.z-p[2])/R;return{x:U+T*k-C*q,y:-T*U+k+I*q,z:C*U-I*k+q}}}(p,d.datum_type,d.datum_params)),p=ds(p,T,I,C),d.datum_type!==x||0===De(d,!0,p)?p:void 0):p}(u.datum,d.datum,p))return d.from_greenwich&&(p={x:p.x-d.from_greenwich,y:p.y,z:p.z||0}),"longlat"===d.projName?p={x:p.x*ct,y:p.y*ct,z:p.z||0}:(p=d.forward(p),d.to_meter&&(p={x:p.x/d.to_meter,y:p.y/d.to_meter,z:p.z||0})),w&&"enu"!==d.axis?ut(d,!0,p):p}var Le=Ei("WGS84");function qi(u,d,p,w){var v,E,I;return Array.isArray(p)?(v=Ce(u,d,p,w)||{x:NaN,y:NaN},p.length>2?typeof u.name<"u"&&"geocent"===u.name||typeof d.name<"u"&&"geocent"===d.name?"number"==typeof v.z?[v.x,v.y,v.z].concat(p.splice(3)):[v.x,v.y,p[2]].concat(p.splice(3)):[v.x,v.y].concat(p.splice(2)):[v.x,v.y]):(E=Ce(u,d,p,w),2===(I=Object.keys(p)).length||I.forEach(function(C){if(typeof u.name<"u"&&"geocent"===u.name||typeof d.name<"u"&&"geocent"===d.name){if("x"===C||"y"===C||"z"===C)return}else if("x"===C||"y"===C)return;E[C]=p[C]}),E)}function jr(u){return u instanceof Ei?u:u.oProj?u.oProj:Ei(u)}const he=function un(u,d,p){u=jr(u);var v,w=!1;return typeof d>"u"?(d=u,u=Le,w=!0):(typeof d.x<"u"||Array.isArray(d))&&(p=d,d=u,u=Le,w=!0),d=jr(d),p?qi(u,d,p):(v={forward:function(E,I){return qi(u,d,E,I)},inverse:function(E,I){return qi(d,u,E,I)}},w&&(v.oProj=d),v)};var Zi=6,Yn="AJSAJS",St="AFAFAF",cn=65,K=73,Lt=79,_e=86,Fe=90;const ps={forward:gs,inverse:function Po(u){var d=No(Ro(u.toUpperCase()));return d.lat&&d.lon?[d.lon,d.lat,d.lon,d.lat]:[d.left,d.bottom,d.right,d.top]},toPoint:pr};function gs(u,d){return d=d||5,function He(u,d){var p="00000"+u.easting,w="00000"+u.northing;return u.zoneNumber+u.zoneLetter+function Qn(u,d,p){var w=Ct(p);return function Ml(u,d,p){var w=p-1,v=Yn.charCodeAt(w),E=St.charCodeAt(w),I=v+u-1,C=E+d,T=!1;return I>Fe&&(I=I-Fe+cn-1,T=!0),(I===K||v<K&&I>K||(I>K||v<K)&&T)&&I++,(I===Lt||v<Lt&&I>Lt||(I>Lt||v<Lt)&&T)&&++I===K&&I++,I>Fe&&(I=I-Fe+cn-1),C>_e?(C=C-_e+cn-1,T=!0):T=!1,(C===K||E<K&&C>K||(C>K||E<K)&&T)&&C++,(C===Lt||E<Lt&&C>Lt||(C>Lt||E<Lt)&&T)&&++C===K&&C++,C>_e&&(C=C-_e+cn-1),String.fromCharCode(I)+String.fromCharCode(C)}(Math.floor(u/1e5),Math.floor(d/1e5)%20,w)}(u.easting,u.northing,u.zoneNumber)+p.substr(p.length-5,d)+w.substr(w.length-5,d)}(function sa(u){var C,T,R,U,k,ne,re,d=u.lat,p=u.lon,w=6378137,v=.00669438,E=.9996,X=jt(d),z=jt(p);re=Math.floor((p+180)/6)+1,180===p&&(re=60),d>=56&&d<64&&p>=3&&p<12&&(re=32),d>=72&&d<84&&(p>=0&&p<9?re=31:p>=9&&p<21?re=33:p>=21&&p<33?re=35:p>=33&&p<42&&(re=37)),ne=jt(6*(re-1)-180+3),C=v/(1-v),T=w/Math.sqrt(1-v*Math.sin(X)*Math.sin(X)),R=Math.tan(X)*Math.tan(X),U=C*Math.cos(X)*Math.cos(X);var fe=E*T*((k=Math.cos(X)*(z-ne))+(1-R+U)*k*k*k/6+(5-18*R+R*R+72*U-58*C)*k*k*k*k*k/120)+5e5,Oe=E*(w*(.9983242984503243*X-.002514607064228144*Math.sin(2*X)+2639046602129982e-21*Math.sin(4*X)-35*v*v*v/3072*Math.sin(6*X))+T*Math.tan(X)*(k*k/2+(5-R+9*U+4*U*U)*k*k*k*k/24+(61-58*R+R*R+600*U-330*C)*k*k*k*k*k*k/720));return d<0&&(Oe+=1e7),{northing:Math.round(Oe),easting:Math.round(fe),zoneNumber:re,zoneLetter:Wi(d)}}({lat:u[1],lon:u[0]}),d)}function pr(u){var d=No(Ro(u.toUpperCase()));return d.lat&&d.lon?[d.lon,d.lat]:[(d.left+d.right)/2,(d.top+d.bottom)/2]}function jt(u){return u*(Math.PI/180)}function Ao(u){return u/Math.PI*180}function No(u){var d=u.northing,p=u.easting,w=u.zoneLetter,v=u.zoneNumber;if(v<0||v>60)return null;var T,U,k,q,X,z,re,fe,Oe,E=.9996,I=6378137,C=.00669438,R=(1-Math.sqrt(1-C))/(1+Math.sqrt(1-C)),Ge=p-5e5,it=d;w<"N"&&(it-=1e7),re=6*(v-1)-180+3,T=C/(1-C),Oe=(fe=it/E/6367449.145945056)+(3*R/2-27*R*R*R/32)*Math.sin(2*fe)+(21*R*R/16-55*R*R*R*R/32)*Math.sin(4*fe)+151*R*R*R/96*Math.sin(6*fe),U=I/Math.sqrt(1-C*Math.sin(Oe)*Math.sin(Oe)),k=Math.tan(Oe)*Math.tan(Oe),q=T*Math.cos(Oe)*Math.cos(Oe),X=I*(1-C)/Math.pow(1-C*Math.sin(Oe)*Math.sin(Oe),1.5),z=Ge/(U*E);var Ue=Oe-U*Math.tan(Oe)/X*(z*z/2-(5+3*k+10*q-4*q*q-9*T)*z*z*z*z/24+(61+90*k+298*q+45*k*k-252*T-3*q*q)*z*z*z*z*z*z/720);Ue=Ao(Ue);var gn,rt=(z-(1+2*k+q)*z*z*z/6+(5-2*q+28*k-3*q*q+8*T+24*k*k)*z*z*z*z*z/120)/Math.cos(Oe);if(rt=re+Ao(rt),u.accuracy){var Tt=No({northing:u.northing+u.accuracy,easting:u.easting+u.accuracy,zoneLetter:u.zoneLetter,zoneNumber:u.zoneNumber});gn={top:Tt.lat,right:Tt.lon,bottom:Ue,left:rt}}else gn={lat:Ue,lon:rt};return gn}function Wi(u){var d="Z";return 84>=u&&u>=72?d="X":72>u&&u>=64?d="W":64>u&&u>=56?d="V":56>u&&u>=48?d="U":48>u&&u>=40?d="T":40>u&&u>=32?d="S":32>u&&u>=24?d="R":24>u&&u>=16?d="Q":16>u&&u>=8?d="P":8>u&&u>=0?d="N":0>u&&u>=-8?d="M":-8>u&&u>=-16?d="L":-16>u&&u>=-24?d="K":-24>u&&u>=-32?d="J":-32>u&&u>=-40?d="H":-40>u&&u>=-48?d="G":-48>u&&u>=-56?d="F":-56>u&&u>=-64?d="E":-64>u&&u>=-72?d="D":-72>u&&u>=-80&&(d="C"),d}function Ct(u){var d=u%Zi;return 0===d&&(d=Zi),d}function Ro(u){if(u&&0===u.length)throw"MGRSPoint coverting from nothing";for(var v,d=u.length,p=null,w="",E=0;!/[A-Z]/.test(v=u.charAt(E));){if(E>=2)throw"MGRSPoint bad conversion from: "+u;w+=v,E++}var I=parseInt(w,10);if(0===E||E+3>d)throw"MGRSPoint bad conversion from: "+u;var C=u.charAt(E++);if(C<="A"||"B"===C||"Y"===C||C>="Z"||"I"===C||"O"===C)throw"MGRSPoint zone letter "+C+" not handled: "+u;p=u.substring(E,E+=2);for(var T=Ct(I),R=function ms(u,d){for(var p=Yn.charCodeAt(d-1),w=1e5,v=!1;p!==u.charCodeAt(0);){if(++p===K&&p++,p===Lt&&p++,p>Fe){if(v)throw"Bad character: "+u;p=cn,v=!0}w+=1e5}return w}(p.charAt(0),T),U=function _s(u,d){if(u>"V")throw"MGRSPoint given invalid Northing "+u;for(var p=St.charCodeAt(d-1),w=0,v=!1;p!==u.charCodeAt(0);){if(++p===K&&p++,p===Lt&&p++,p>_e){if(v)throw"Bad character: "+u;p=cn,v=!0}w+=1e5}return w}(p.charAt(1),T);U<gr(C);)U+=2e6;var k=d-E;if(k%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+u;var ne,re,fe,q=k/2,X=0,z=0;return q>0&&(ne=1e5/Math.pow(10,q),re=u.substring(E,E+q),X=parseFloat(re)*ne,fe=u.substring(E+q),z=parseFloat(fe)*ne),{easting:X+R,northing:z+U,zoneLetter:C,zoneNumber:I,accuracy:ne}}function gr(u){var d;switch(u){case"C":d=11e5;break;case"D":d=2e6;break;case"E":d=28e5;break;case"F":d=37e5;break;case"G":d=46e5;break;case"H":d=55e5;break;case"J":d=64e5;break;case"K":d=73e5;break;case"L":d=82e5;break;case"M":d=91e5;break;case"N":d=0;break;case"P":d=8e5;break;case"Q":d=17e5;break;case"R":d=26e5;break;case"S":d=35e5;break;case"T":d=44e5;break;case"U":d=53e5;break;case"V":d=62e5;break;case"W":d=7e6;break;case"X":d=79e5;break;default:d=-1}if(d>=0)return d;throw"Invalid zone letter: "+u}function Pt(u,d,p){if(!(this instanceof Pt))return new Pt(u,d,p);if(Array.isArray(u))this.x=u[0],this.y=u[1],this.z=u[2]||0;else if("object"==typeof u)this.x=u.x,this.y=u.y,this.z=u.z||0;else if("string"==typeof u&&typeof d>"u"){var w=u.split(",");this.x=parseFloat(w[0],10),this.y=parseFloat(w[1],10),this.z=parseFloat(w[2],10)||0}else this.x=u,this.y=d,this.z=p||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Pt.fromMGRS=function(u){return new Pt(pr(u))},Pt.prototype.toMGRS=function(u){return gs([this.x,this.y],u)};const pe=Pt;var we=.01953125,la=.01068115234375;function ko(u){var d=[];d[0]=1-u*(.25+u*(.046875+u*(we+u*la))),d[1]=u*(.75-u*(.046875+u*(we+u*la)));var p=u*u;return d[2]=p*(.46875-u*(.013020833333333334+.007120768229166667*u)),d[3]=(p*=u)*(.3645833333333333-.005696614583333333*u),d[4]=p*u*.3076171875,d}function Jt(u,d,p,w){return w[0]*u-(p*=d)*(w[1]+(d*=d)*(w[2]+d*(w[3]+d*w[4])))}function Pe(u,d,p){for(var w=1/(1-d),v=u,E=20;E;--E){var I=Math.sin(v),C=1-d*I*I;if(v-=C=(Jt(v,I,Math.cos(v),p)-u)*(C*Math.sqrt(C))*w,Math.abs(C)<se)return v}return v}const Ms={init:function ys(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=ko(this.es),this.ml0=Jt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function Oo(u){var v,E,I,p=u.y,w=ue(u.x-this.long0),C=Math.sin(p),T=Math.cos(p);if(this.es){var U=T*w,k=Math.pow(U,2),q=this.ep2*Math.pow(T,2),X=Math.pow(q,2),z=Math.abs(T)>se?Math.tan(p):0,ne=Math.pow(z,2),re=Math.pow(ne,2);v=1-this.es*Math.pow(C,2),U/=Math.sqrt(v);var fe=Jt(p,C,T,this.en);E=this.a*(this.k0*U*(1+k/6*(1-ne+q+k/20*(5-18*ne+re+14*q-58*ne*q+k/42*(61+179*re-re*ne-479*ne)))))+this.x0,I=this.a*(this.k0*(fe-this.ml0+C*w*U/2*(1+k/12*(5-ne+9*q+4*X+k/30*(61+re-58*ne+270*q-330*ne*q+k/56*(1385+543*re-re*ne-3111*ne))))))+this.y0}else{var R=T*Math.sin(w);if(Math.abs(Math.abs(R)-1)<se)return 93;if(E=.5*this.a*this.k0*Math.log((1+R)/(1-R))+this.x0,I=T*Math.cos(w)/Math.sqrt(1-Math.pow(R,2)),(R=Math.abs(I))>=1){if(R-1>se)return 93;I=0}else I=Math.acos(I);p<0&&(I=-I),I=this.a*this.k0*(I-this.lat0)+this.y0}return u.x=E,u.y=I,u},inverse:function hn(u){var d,p,w,v,E=1/this.a*(u.x-this.x0),I=1/this.a*(u.y-this.y0);if(this.es)if(p=Pe(d=this.ml0+I/this.k0,this.es,this.en),Math.abs(p)<Q){var k=Math.sin(p),q=Math.cos(p),X=Math.abs(q)>se?Math.tan(p):0,z=this.ep2*Math.pow(q,2),ne=Math.pow(z,2),re=Math.pow(X,2),fe=Math.pow(re,2);d=1-this.es*Math.pow(k,2);var Oe=E*Math.sqrt(d)/this.k0,Ge=Math.pow(Oe,2);w=p-(d*=X)*Ge/(1-this.es)*.5*(1-Ge/12*(5+3*re-9*z*re+z-4*ne-Ge/30*(61+90*re-252*z*re+45*fe+46*z-Ge/56*(1385+3633*re+4095*fe+1574*fe*re)))),v=ue(this.long0+Oe*(1-Ge/6*(1+2*re+z-Ge/20*(5+28*re+24*fe+8*z*re+6*z-Ge/42*(61+662*re+1320*fe+720*fe*re))))/q)}else w=Q*Vi(I),v=0;else{var C=Math.exp(E/this.k0),T=.5*(C-1/C),U=Math.cos(this.lat0+I/this.k0);d=Math.sqrt((1-Math.pow(U,2))/(1+Math.pow(T,2))),w=Math.asin(d),I<0&&(w=-w),v=0===T&&0===U?0:ue(Math.atan2(T,U)+this.long0)}return u.x=v,u.y=w,u},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function tt(u){var d=Math.exp(u);return(d-1/d)/2}function Ds(u,d){u=Math.abs(u),d=Math.abs(d);var p=Math.max(u,d),w=Math.min(u,d)/(p||1);return p*Math.sqrt(1+Math.pow(w,2))}function _r(u,d){for(var I,p=2*Math.cos(2*d),w=u.length-1,v=u[w],E=0;--w>=0;)I=p*v-E+u[w],E=v,v=I;return d+I*Math.sin(2*d)}function Ii(u,d,p){for(var z,ne,w=Math.sin(d),v=Math.cos(d),E=tt(p),I=function Vr(u){var d=Math.exp(u);return(d+1/d)/2}(p),C=2*v*I,T=-2*w*E,R=u.length-1,U=u[R],k=0,q=0,X=0;--R>=0;)z=q,ne=k,U=C*(q=U)-z-T*(k=X)+u[R],X=T*q-ne+C*k;return[(C=w*I)*U-(T=v*E)*X,C*X+T*U]}const $r={init:function Fo(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Ms.init.apply(this),this.forward=Ms.forward,this.inverse=Ms.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var u=this.es/(1+Math.sqrt(1-this.es)),d=u/(2-u),p=d;this.cgb[0]=d*(2+d*(-2/3+d*(d*(116/45+d*(26/45+d*(-2854/675)))-2))),this.cbg[0]=d*(d*(2/3+d*(4/3+d*(-82/45+d*(32/45+d*(4642/4725)))))-2),this.cgb[1]=(p*=d)*(7/3+d*(d*(-227/45+d*(2704/315+d*(2323/945)))-1.6)),this.cbg[1]=p*(5/3+d*(-16/15+d*(-13/9+d*(904/315+d*(-1522/945))))),this.cgb[2]=(p*=d)*(56/15+d*(-136/35+d*(-1262/105+d*(73814/2835)))),this.cbg[2]=p*(-26/15+d*(34/21+d*(1.6+d*(-12686/2835)))),this.cgb[3]=(p*=d)*(4279/630+d*(-332/35+d*(-399572/14175))),this.cbg[3]=p*(1237/630+d*(d*(-24832/14175)-2.4)),this.cgb[4]=(p*=d)*(4174/315+d*(-144838/6237)),this.cbg[4]=p*(-734/315+d*(109598/31185)),this.cgb[5]=(p*=d)*(601676/22275),this.cbg[5]=p*(444337/155925),p=Math.pow(d,2),this.Qn=this.k0/(1+d)*(1+p*(1/4+p*(1/64+p/256))),this.utg[0]=d*(d*(2/3+d*(-37/96+d*(1/360+d*(81/512+d*(-96199/604800)))))-.5),this.gtu[0]=d*(.5+d*(-2/3+d*(5/16+d*(41/180+d*(-127/288+d*(7891/37800)))))),this.utg[1]=p*(-1/48+d*(-1/15+d*(437/1440+d*(-46/105+d*(1118711/3870720))))),this.gtu[1]=p*(13/48+d*(d*(557/1440+d*(281/630+d*(-1983433/1935360)))-.6)),this.utg[2]=(p*=d)*(-17/480+d*(37/840+d*(209/4480+d*(-5569/90720)))),this.gtu[2]=p*(61/240+d*(-103/140+d*(15061/26880+d*(167603/181440)))),this.utg[3]=(p*=d)*(-4397/161280+d*(11/504+d*(830251/7257600))),this.gtu[3]=p*(49561/161280+d*(-179/168+d*(6601661/7257600))),this.utg[4]=(p*=d)*(-4583/161280+d*(108847/3991680)),this.gtu[4]=p*(34729/80640+d*(-3418889/1995840)),this.utg[5]=(p*=d)*(-20648693/638668800),this.gtu[5]=.6650675310896665*p;var w=_r(this.cbg,this.lat0);this.Zb=-this.Qn*(w+function Es(u,d){for(var I,p=2*Math.cos(d),w=u.length-1,v=u[w],E=0;--w>=0;)I=p*v-E+u[w],E=v,v=I;return Math.sin(d)*I}(this.gtu,2*w))},forward:function Cl(u){var d=ue(u.x-this.long0),p=u.y;p=_r(this.cbg,p);var w=Math.sin(p),v=Math.cos(p),E=Math.sin(d),I=Math.cos(d);p=Math.atan2(w,I*v),d=Math.atan2(E*v,Ds(w,v*I)),d=function Cs(u){var d=Math.abs(u);return d=function li(u){var d=1+u,p=d-1;return 0===p?u:u*Math.log(d)/p}(d*(1+d/(Ds(1,d)+1))),u<0?-d:d}(Math.tan(d));var T,R,C=Ii(this.gtu,2*p,2*d);return p+=C[0],d+=C[1],Math.abs(d)<=2.623395162778?(T=this.a*(this.Qn*d)+this.x0,R=this.a*(this.Qn*p+this.Zb)+this.y0):(T=1/0,R=1/0),u.x=T,u.y=R,u},inverse:function Vu(u){var w,v,d=1/this.a*(u.x-this.x0),p=1/this.a*(u.y-this.y0);if(p=(p-this.Zb)/this.Qn,d/=this.Qn,Math.abs(d)<=2.623395162778){var E=Ii(this.utg,2*p,2*d);p+=E[0],d+=E[1],d=Math.atan(tt(d));var I=Math.sin(p),C=Math.cos(p),T=Math.sin(d),R=Math.cos(d);p=Math.atan2(I*R,Ds(T,R*C)),w=ue((d=Math.atan2(T,R*C))+this.long0),v=_r(this.cgb,p)}else w=1/0,v=1/0;return u.x=w,u.y=v,u},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},Qi={init:function Bo(){var u=function Gu(u,d){if(void 0===u){if((u=Math.floor(30*(ue(d)+Math.PI)/Math.PI)+1)<0)return 0;if(u>60)return 60}return u}(this.zone,this.long0);if(void 0===u)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(u)-183)*bt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,$r.init.apply(this),this.forward=$r.forward,this.inverse=$r.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function bs(u,d){return Math.pow((1-u)/(1+u),d)}const Is={init:function Xn(){var u=Math.sin(this.lat0),d=Math.cos(this.lat0);d*=d,this.rc=Math.sqrt(1-this.es)/(1-this.es*u*u),this.C=Math.sqrt(1+this.es*d*d/(1-this.es)),this.phic0=Math.asin(u/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+We)/(Math.pow(Math.tan(.5*this.lat0+We),this.C)*bs(this.e*u,this.ratexp))},forward:function Ki(u){var d=u.x,p=u.y;return u.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*p+We),this.C)*bs(this.e*Math.sin(p),this.ratexp))-Q,u.x=this.C*d,u},inverse:function El(u){for(var p=u.x/this.C,w=u.y,v=Math.pow(Math.tan(.5*w+We)/this.K,1/this.C),E=20;E>0&&(w=2*Math.atan(v*bs(this.e*Math.sin(u.y),-.5*this.e))-Q,!(Math.abs(w-u.y)<1e-14));--E)u.y=w;return E?(u.x=p,u.y=w,u):null},names:["gauss"]},zo={init:function ge(){Is.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function jo(u){var d,p,w,v;return u.x=ue(u.x-this.long0),Is.forward.apply(this,[u]),d=Math.sin(u.y),p=Math.cos(u.y),w=Math.cos(u.x),u.x=(v=this.k0*this.R2/(1+this.sinc0*d+this.cosc0*p*w))*p*Math.sin(u.x),u.y=v*(this.cosc0*d-this.sinc0*p*w),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function ce(u){var d,p,w,v,E;if(u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,u.x/=this.k0,u.y/=this.k0,E=Math.sqrt(u.x*u.x+u.y*u.y)){var I=2*Math.atan2(E,this.R2);d=Math.sin(I),p=Math.cos(I),v=Math.asin(p*this.sinc0+u.y*d*this.cosc0/E),w=Math.atan2(u.x*d,E*this.cosc0*p-u.y*this.sinc0*d)}else v=this.phic0,w=0;return u.x=w,u.y=v,Is.inverse.apply(this,[u]),u.x=ue(u.x+this.long0),u},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Ho={init:function Nn(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=se&&(this.k0=.5*(1+Vi(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=se&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=se&&(this.k0=.5*this.cons*Tn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/on(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Tn(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Q,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function yr(u){var E,I,C,T,R,U,d=u.x,p=u.y,w=Math.sin(p),v=Math.cos(p),k=ue(d-this.long0);return Math.abs(Math.abs(d-this.long0)-Math.PI)<=se&&Math.abs(p+this.lat0)<=se?(u.x=NaN,u.y=NaN,u):this.sphere?(E=2*this.k0/(1+this.sinlat0*w+this.coslat0*v*Math.cos(k)),u.x=this.a*E*v*Math.sin(k)+this.x0,u.y=this.a*E*(this.coslat0*w-this.sinlat0*v*Math.cos(k))+this.y0,u):(I=2*Math.atan(this.ssfn_(p,w,this.e))-Q,T=Math.cos(I),C=Math.sin(I),Math.abs(this.coslat0)<=se?(R=on(this.e,p*this.con,this.con*w),u.x=this.x0+(U=2*this.a*this.k0*R/this.cons)*Math.sin(d-this.long0),u.y=this.y0-this.con*U*Math.cos(d-this.long0),u):(Math.abs(this.sinlat0)<se?(E=2*this.a*this.k0/(1+T*Math.cos(k)),u.y=E*C):(E=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*C+this.cosX0*T*Math.cos(k))),u.y=E*(this.cosX0*C-this.sinX0*T*Math.cos(k))+this.y0),u.x=E*T*Math.sin(k)+this.x0,u))},inverse:function bl(u){u.x-=this.x0,u.y-=this.y0;var d,p,v,E,I=Math.sqrt(u.x*u.x+u.y*u.y);if(this.sphere){var C=2*Math.atan(I/(2*this.a*this.k0));return d=this.long0,p=this.lat0,I<=se?(u.x=d,u.y=p,u):(p=Math.asin(Math.cos(C)*this.sinlat0+u.y*Math.sin(C)*this.coslat0/I),d=Math.abs(this.coslat0)<se?ue(this.lat0>0?this.long0+Math.atan2(u.x,-1*u.y):this.long0+Math.atan2(u.x,u.y)):ue(this.long0+Math.atan2(u.x*Math.sin(C),I*this.coslat0*Math.cos(C)-u.y*this.sinlat0*Math.sin(C))),u.x=d,u.y=p,u)}if(Math.abs(this.coslat0)<=se){if(I<=se)return p=this.lat0,u.x=d=this.long0,u.y=p,u;u.x*=this.con,u.y*=this.con,p=this.con*Or(this.e,I*this.cons/(2*this.a*this.k0)),d=this.con*ue(this.con*this.long0+Math.atan2(u.x,-1*u.y))}else v=2*Math.atan(I*this.cosX0/(2*this.a*this.k0*this.ms1)),d=this.long0,I<=se?E=this.X0:(E=Math.asin(Math.cos(v)*this.sinX0+u.y*Math.sin(v)*this.cosX0/I),d=ue(this.long0+Math.atan2(u.x*Math.sin(v),I*this.cosX0*Math.cos(v)-u.y*this.sinX0*Math.sin(v)))),p=-1*Or(this.e,Math.tan(.5*(Q+E)));return u.x=d,u.y=p,u},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function qr(u,d,p){return d*=p,Math.tan(.5*(Q+u))*Math.pow((1-d)/(1+d),.5*p)}},wr={init:function Gt(){var u=this.lat0;this.lambda0=this.long0;var d=Math.sin(u),p=this.a,v=1/this.rf,E=2*v-Math.pow(v,2),I=this.e=Math.sqrt(E);this.R=this.k0*p*Math.sqrt(1-E)/(1-E*Math.pow(d,2)),this.alpha=Math.sqrt(1+E/(1-E)*Math.pow(Math.cos(u),4)),this.b0=Math.asin(d/this.alpha);var C=Math.log(Math.tan(Math.PI/4+this.b0/2)),T=Math.log(Math.tan(Math.PI/4+u/2)),R=Math.log((1+I*d)/(1-I*d));this.K=C-this.alpha*T+this.alpha*I/2*R},forward:function Jn(u){var d=Math.log(Math.tan(Math.PI/4-u.y/2)),p=this.e/2*Math.log((1+this.e*Math.sin(u.y))/(1-this.e*Math.sin(u.y))),v=2*(Math.atan(Math.exp(-this.alpha*(d+p)+this.K))-Math.PI/4),E=this.alpha*(u.x-this.lambda0),I=Math.atan(Math.sin(E)/(Math.sin(this.b0)*Math.tan(v)+Math.cos(this.b0)*Math.cos(E))),C=Math.asin(Math.cos(this.b0)*Math.sin(v)-Math.sin(this.b0)*Math.cos(v)*Math.cos(E));return u.y=this.R/2*Math.log((1+Math.sin(C))/(1-Math.sin(C)))+this.y0,u.x=this.R*I+this.x0,u},inverse:function $e(u){for(var w=(u.x-this.x0)/this.R,v=2*(Math.atan(Math.exp((u.y-this.y0)/this.R))-Math.PI/4),E=Math.asin(Math.cos(this.b0)*Math.sin(v)+Math.sin(this.b0)*Math.cos(v)*Math.cos(w)),I=Math.atan(Math.sin(w)/(Math.cos(this.b0)*Math.cos(w)-Math.sin(this.b0)*Math.tan(v))),C=this.lambda0+I/this.alpha,T=0,R=E,U=-1e3,k=0;Math.abs(R-U)>1e-7;){if(++k>20)return;T=1/this.alpha*(Math.log(Math.tan(Math.PI/4+E/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(R))/2)),U=R,R=2*Math.atan(Math.exp(T))-Math.PI/2}return u.x=C,u.y=R,u},names:["somerc"]};var Si=1e-7;const Rn={init:function Cn(){var u,d,p,w,v,E,I,C,T,R,k,U=0,q=0,X=0,z=0,ne=0,re=0,fe=0;this.no_off=function ci(u){var p="object"==typeof u.PROJECTION?Object.keys(u.PROJECTION)[0]:u.PROJECTION;return"no_uoff"in u||"no_off"in u||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(p)}(this),this.no_rot="no_rot"in this;var Ge=!1;"alpha"in this&&(Ge=!0);var it=!1;if("rectified_grid_angle"in this&&(it=!0),Ge&&(fe=this.alpha),it&&(U=this.rectified_grid_angle*bt),Ge||it)q=this.longc;else if(X=this.long1,ne=this.lat1,z=this.long2,re=this.lat2,Math.abs(ne-re)<=Si||(u=Math.abs(ne))<=Si||Math.abs(u-Q)<=Si||Math.abs(Math.abs(this.lat0)-Q)<=Si||Math.abs(Math.abs(re)-Q)<=Si)throw new Error;var Ue=1-this.es;d=Math.sqrt(Ue),Math.abs(this.lat0)>se?(C=Math.sin(this.lat0),p=Math.cos(this.lat0),u=1-this.es*C*C,this.B=p*p,this.B=Math.sqrt(1+this.es*this.B*this.B/Ue),this.A=this.B*this.k0*d/u,(v=(w=this.B*d/(p*Math.sqrt(u)))*w-1)<=0?v=0:(v=Math.sqrt(v),this.lat0<0&&(v=-v)),this.E=v+=w,this.E*=Math.pow(on(this.e,this.lat0,C),this.B)):(this.B=1/d,this.A=this.k0,this.E=w=v=1),Ge||it?(Ge?(k=Math.asin(Math.sin(fe)/w),it||(U=fe)):(k=U,fe=Math.asin(w*Math.sin(k))),this.lam0=q-Math.asin(.5*(v-1/v)*Math.tan(k))/this.B):(E=Math.pow(on(this.e,ne,Math.sin(ne)),this.B),I=Math.pow(on(this.e,re,Math.sin(re)),this.B),v=this.E/E,T=(I-E)/(I+E),R=((R=this.E*this.E)-I*E)/(R+I*E),(u=X-z)<-Math.pi?z-=wi:u>Math.pi&&(z+=wi),this.lam0=ue(.5*(X+z)-Math.atan(R*Math.tan(.5*this.B*(X-z))/T)/this.B),k=Math.atan(2*Math.sin(this.B*ue(X-this.lam0))/(v-1/v)),U=fe=Math.asin(w*Math.sin(k))),this.singam=Math.sin(k),this.cosgam=Math.cos(k),this.sinrot=Math.sin(U),this.cosrot=Math.cos(U),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(w*w-1)/Math.cos(fe))),this.lat0<0&&(this.u_0=-this.u_0)),v=.5*k,this.v_pole_n=this.ArB*Math.log(Math.tan(We-v)),this.v_pole_s=this.ArB*Math.log(Math.tan(We+v))},forward:function Wr(u){var p,w,v,E,I,C,T,R,d={};if(u.x=u.x-this.lam0,Math.abs(Math.abs(u.y)-Q)>se){if(p=.5*((I=this.E/Math.pow(on(this.e,u.y,Math.sin(u.y)),this.B))-(C=1/I)),w=.5*(I+C),E=Math.sin(this.B*u.x),v=(p*this.singam-E*this.cosgam)/w,Math.abs(Math.abs(v)-1)<se)throw new Error;R=.5*this.ArB*Math.log((1-v)/(1+v)),C=Math.cos(this.B*u.x),T=Math.abs(C)<Si?this.A*u.x:this.ArB*Math.atan2(p*this.cosgam+E*this.singam,C)}else R=u.y>0?this.v_pole_n:this.v_pole_s,T=this.ArB*u.y;return this.no_rot?(d.x=T,d.y=R):(d.x=R*this.cosrot+(T-=this.u_0)*this.sinrot,d.y=T*this.cosrot-R*this.sinrot),d.x=this.a*d.x+this.x0,d.y=this.a*d.y+this.y0,d},inverse:function Vo(u){var d,p,w,v,E,I,C,T={};if(u.x=1/this.a*(u.x-this.x0),u.y=1/this.a*(u.y-this.y0),this.no_rot?(p=u.y,d=u.x):(p=u.x*this.cosrot-u.y*this.sinrot,d=u.y*this.cosrot+u.x*this.sinrot+this.u_0),v=.5*((w=Math.exp(-this.BrA*p))-1/w),E=.5*(w+1/w),C=((I=Math.sin(this.BrA*d))*this.cosgam+v*this.singam)/E,Math.abs(Math.abs(C)-1)<se)T.x=0,T.y=C<0?-Q:Q;else{if(T.y=this.E/Math.sqrt((1+C)/(1-C)),T.y=Or(this.e,Math.pow(T.y,1/this.B)),T.y===1/0)throw new Error;T.x=-this.rB*Math.atan2(v*this.cosgam-I*this.singam,Math.cos(this.BrA*d))}return T.x+=this.lam0,T},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},$o={init:function ca(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<se)){var u=this.b/this.a;this.e=Math.sqrt(1-u*u);var d=Math.sin(this.lat1),p=Math.cos(this.lat1),w=Tn(this.e,d,p),v=on(this.e,this.lat1,d),E=Math.sin(this.lat2),I=Math.cos(this.lat2),C=Tn(this.e,E,I),T=on(this.e,this.lat2,E),R=on(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>se?Math.log(w/C)/Math.log(v/T):d,isNaN(this.ns)&&(this.ns=d),this.f0=w/(this.ns*Math.pow(v,this.ns)),this.rh=this.a*this.f0*Math.pow(R,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function Xi(u){var d=u.x,p=u.y;Math.abs(2*Math.abs(p)-Math.PI)<=se&&(p=Vi(p)*(Q-2*se));var v,E,w=Math.abs(Math.abs(p)-Q);if(w>se)v=on(this.e,p,Math.sin(p)),E=this.a*this.f0*Math.pow(v,this.ns);else{if((w=p*this.ns)<=0)return null;E=0}var I=this.ns*ue(d-this.long0);return u.x=this.k0*(E*Math.sin(I))+this.x0,u.y=this.k0*(this.rh-E*Math.cos(I))+this.y0,u},inverse:function Yr(u){var d,p,w,v,E,I=(u.x-this.x0)/this.k0,C=this.rh-(u.y-this.y0)/this.k0;this.ns>0?(d=Math.sqrt(I*I+C*C),p=1):(d=-Math.sqrt(I*I+C*C),p=-1);var T=0;if(0!==d&&(T=Math.atan2(p*I,p*C)),0!==d||this.ns>0){if(p=1/this.ns,w=Math.pow(d/(this.a*this.f0),p),-9999===(v=Or(this.e,w)))return null}else v=-Q;return E=ue(T/this.ns+this.long0),u.x=E,u.y=v,u},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},fn={init:function ha(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function Go(u){var d,p,w,v,E,I,C,R=u.y,U=ue(u.x-this.long0);return d=Math.pow((1+this.e*Math.sin(R))/(1-this.e*Math.sin(R)),this.alfa*this.e/2),p=2*(Math.atan(this.k*Math.pow(Math.tan(R/2+this.s45),this.alfa)/d)-this.s45),w=-U*this.alfa,v=Math.asin(Math.cos(this.ad)*Math.sin(p)+Math.sin(this.ad)*Math.cos(p)*Math.cos(w)),E=Math.asin(Math.cos(p)*Math.sin(w)/Math.cos(v)),I=this.n*E,C=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(v/2+this.s45),this.n),u.y=C*Math.cos(I)/1,u.x=C*Math.sin(I)/1,this.czech||(u.y*=-1,u.x*=-1),u},inverse:function qo(u){var d,p,w,v,I,C,T,R=u.x;u.x=u.y,u.y=R,this.czech||(u.y*=-1,u.x*=-1),I=Math.sqrt(u.x*u.x+u.y*u.y),v=Math.atan2(u.y,u.x)/Math.sin(this.s0),w=2*(Math.atan(Math.pow(this.ro0/I,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),d=Math.asin(Math.cos(this.ad)*Math.sin(w)-Math.sin(this.ad)*Math.cos(w)*Math.cos(v)),p=Math.asin(Math.cos(w)*Math.sin(v)/Math.cos(d)),u.x=this.long0-p/this.alfa,C=d,T=0;var U=0;do{u.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(d/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(C))/(1-this.e*Math.sin(C)),this.e/2))-this.s45),Math.abs(C-u.y)<1e-10&&(T=1),C=u.y,U+=1}while(0===T&&U<15);return U>=15?null:u},names:["Krovak","krovak"]};function xt(u,d,p,w,v){return u*v-d*Math.sin(2*v)+p*Math.sin(4*v)-w*Math.sin(6*v)}function hi(u){return 1-.25*u*(1+u/16*(3+1.25*u))}function Ji(u){return.375*u*(1+.25*u*(1+.46875*u))}function Mr(u){return.05859375*u*u*(1+.75*u)}function Qr(u){return u*u*u*(35/3072)}function di(u,d,p){var w=d*p;return u/Math.sqrt(1-w*w)}function er(u){return Math.abs(u)<Q?u:u-Vi(u)*Math.PI}function Kr(u,d,p,w,v){var E,I;E=u/d;for(var C=0;C<15;C++)if(E+=I=(u-(d*E-p*Math.sin(2*E)+w*Math.sin(4*E)-v*Math.sin(6*E)))/(d-2*p*Math.cos(2*E)+4*w*Math.cos(4*E)-6*v*Math.cos(6*E)),Math.abs(I)<=1e-10)return E;return NaN}const Dr={init:function Il(){this.sphere||(this.e0=hi(this.es),this.e1=Ji(this.es),this.e2=Mr(this.es),this.e3=Qr(this.es),this.ml0=this.a*xt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function da(u){var d,p,w=u.x,v=u.y;if(w=ue(w-this.long0),this.sphere)d=this.a*Math.asin(Math.cos(v)*Math.sin(w)),p=this.a*(Math.atan2(Math.tan(v),Math.cos(w))-this.lat0);else{var E=Math.sin(v),I=Math.cos(v),C=di(this.a,this.e,E),T=Math.tan(v)*Math.tan(v),R=w*Math.cos(v),U=R*R,k=this.es*I*I/(1-this.es);d=C*R*(1-U*T*(1/6-(8-T+8*k)*U/120)),p=this.a*xt(this.e0,this.e1,this.e2,this.e3,v)-this.ml0+C*E/I*U*(.5+(5-T+6*k)*U/24)}return u.x=d+this.x0,u.y=p+this.y0,u},inverse:function xs(u){u.x-=this.x0,u.y-=this.y0;var w,v,d=u.x/this.a,p=u.y/this.a;if(this.sphere){var E=p+this.lat0;w=Math.asin(Math.sin(E)*Math.cos(d)),v=Math.atan2(Math.tan(d),Math.cos(E))}else{var C=Kr(this.ml0/this.a+p,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(C)-Q)<=se)return u.x=this.long0,u.y=Q,p<0&&(u.y*=-1),u;var T=di(this.a,this.e,Math.sin(C)),R=T*T*T/this.a/this.a*(1-this.es),U=Math.pow(Math.tan(C),2),k=d*this.a/T,q=k*k;w=C-T*Math.tan(C)/R*k*k*(.5-(1+3*U)*k*k/24),v=k*(1-q*(U/3+(1+3*U)*U*q/15))/Math.cos(C)}return u.x=ue(v+this.long0),u.y=er(w),u},names:["Cassini","Cassini_Soldner","cass"]};function xi(u,d){var p;return u>1e-7?(1-u*u)*(d/(1-(p=u*d)*p)-.5/u*Math.log((1-p)/(1+p))):2*d}const oe={init:function Ot(){var d,u=Math.abs(this.lat0);if(this.mode=Math.abs(u-Q)<se?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(u)<se?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=xi(this.e,1),this.mmf=.5/(1-this.es),this.apa=function Jr(u){var d,p=[];return p[0]=.3333333333333333*u,p[0]+=.17222222222222222*(d=u*u),p[1]=.06388888888888888*d,p[0]+=.10257936507936508*(d*=u),p[1]+=.0664021164021164*d,p[2]=.016415012942191543*d,p}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),d=Math.sin(this.lat0),this.sinb1=xi(this.e,d)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*d*d)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function Qe(u){var d,p,w,v,E,I,C,T,R,U,k=u.x,q=u.y;if(k=ue(k-this.long0),this.sphere){if(E=Math.sin(q),U=Math.cos(q),w=Math.cos(k),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((p=this.mode===this.EQUIT?1+U*w:1+this.sinph0*E+this.cosph0*U*w)<=se)return null;d=(p=Math.sqrt(2/p))*U*Math.sin(k),p*=this.mode===this.EQUIT?E:this.cosph0*E-this.sinph0*U*w}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(w=-w),Math.abs(q+this.lat0)<se)return null;p=We-.5*q,d=(p=2*(this.mode===this.S_POLE?Math.cos(p):Math.sin(p)))*Math.sin(k),p*=w}}else{switch(C=0,T=0,R=0,w=Math.cos(k),v=Math.sin(k),E=Math.sin(q),I=xi(this.e,E),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(C=I/this.qp,T=Math.sqrt(1-C*C)),this.mode){case this.OBLIQ:R=1+this.sinb1*C+this.cosb1*T*w;break;case this.EQUIT:R=1+T*w;break;case this.N_POLE:R=Q+q,I=this.qp-I;break;case this.S_POLE:R=q-Q,I=this.qp+I}if(Math.abs(R)<se)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:R=Math.sqrt(2/R),p=this.mode===this.OBLIQ?this.ymf*R*(this.cosb1*C-this.sinb1*T*w):(R=Math.sqrt(2/(1+T*w)))*C*this.ymf,d=this.xmf*R*T*v;break;case this.N_POLE:case this.S_POLE:I>=0?(d=(R=Math.sqrt(I))*v,p=w*(this.mode===this.S_POLE?R:-R)):d=p=0}}return u.x=this.a*d+this.x0,u.y=this.a*p+this.y0,u},inverse:function vt(u){u.x-=this.x0,u.y-=this.y0;var w,v,E,I,C,T,R,d=u.x/this.a,p=u.y/this.a;if(this.sphere){var k,U=0,q=0;if((v=.5*(k=Math.sqrt(d*d+p*p)))>1)return null;switch(v=2*Math.asin(v),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(q=Math.sin(v),U=Math.cos(v)),this.mode){case this.EQUIT:v=Math.abs(k)<=se?0:Math.asin(p*q/k),d*=q,p=U*k;break;case this.OBLIQ:v=Math.abs(k)<=se?this.lat0:Math.asin(U*this.sinph0+p*q*this.cosph0/k),d*=q*this.cosph0,p=(U-Math.sin(v)*this.sinph0)*k;break;case this.N_POLE:p=-p,v=Q-v;break;case this.S_POLE:v-=Q}w=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,p):0}else{if(R=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,p*=this.dd,(T=Math.sqrt(d*d+p*p))<se)return u.x=this.long0,u.y=this.lat0,u;I=2*Math.asin(.5*T/this.rq),E=Math.cos(I),d*=I=Math.sin(I),this.mode===this.OBLIQ?(C=this.qp*(R=E*this.sinb1+p*I*this.cosb1/T),p=T*this.cosb1*E-p*this.sinb1*I):(C=this.qp*(R=p*I/T),p=T*E)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(C=d*d+p*p))return u.x=this.long0,u.y=this.lat0,u;R=1-C/this.qp,this.mode===this.S_POLE&&(R=-R)}w=Math.atan2(d,p),v=function xl(u,d){var p=u+u;return u+d[0]*Math.sin(p)+d[1]*Math.sin(p+p)+d[2]*Math.sin(p+p+p)}(Math.asin(R),this.apa)}return u.x=ue(this.long0+w),u.y=v,u},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function me(u){return Math.abs(u)>1&&(u=u>1?1:-1),Math.asin(u)}const yt={init:function ft(){Math.abs(this.lat1+this.lat2)<se||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Tn(this.e3,this.sin_po,this.cos_po),this.qs1=xi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Tn(this.e3,this.sin_po,this.cos_po),this.qs2=xi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=xi(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>se?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function On(u){var d=u.x,p=u.y;this.sin_phi=Math.sin(p),this.cos_phi=Math.cos(p);var w=xi(this.e3,this.sin_phi),v=this.a*Math.sqrt(this.c-this.ns0*w)/this.ns0,E=this.ns0*ue(d-this.long0),I=v*Math.sin(E)+this.x0,C=this.rh-v*Math.cos(E)+this.y0;return u.x=I,u.y=C,u},inverse:function Cr(u){var d,w,v,E,I;return u.x-=this.x0,u.y=this.rh-u.y+this.y0,this.ns0>=0?(d=Math.sqrt(u.x*u.x+u.y*u.y),w=1):(d=-Math.sqrt(u.x*u.x+u.y*u.y),w=-1),v=0,0!==d&&(v=Math.atan2(w*u.x,w*u.y)),w=d*this.ns0/this.a,I=this.sphere?Math.asin((this.c-w*w)/(2*this.ns0)):this.phi1z(this.e3,(this.c-w*w)/this.ns0),E=ue(v/this.ns0+this.long0),u.x=E,u.y=I,u},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function Ut(u,d){var p,v,E,I,C=me(.5*d);if(u<se)return C;for(var T=u*u,R=1;R<=25;R++)if(C+=I=.5*(E=1-(v=u*(p=Math.sin(C)))*v)*E/Math.cos(C)*(d/(1-T)-p/E+.5/u*Math.log((1-v)/(1+v))),Math.abs(I)<=1e-7)return C;return null}},o={init:function pi(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function ir(u){var d,p,w,v,I,C,T,U=u.y;return w=ue(u.x-this.long0),d=Math.sin(U),p=Math.cos(U),v=Math.cos(w),(I=this.sin_p14*d+this.cos_p14*p*v)>0||Math.abs(I)<=se?(C=this.x0+1*this.a*p*Math.sin(w)/I,T=this.y0+1*this.a*(this.cos_p14*d-this.sin_p14*p*v)/I):(C=this.x0+this.infinity_dist*p*Math.sin(w),T=this.y0+this.infinity_dist*(this.cos_p14*d-this.sin_p14*p*v)),u.x=C,u.y=T,u},inverse:function be(u){var d,p,w,v,E,I;return u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,u.x/=this.k0,u.y/=this.k0,(d=Math.sqrt(u.x*u.x+u.y*u.y))?(v=Math.atan2(d,this.rc),p=Math.sin(v),I=me((w=Math.cos(v))*this.sin_p14+u.y*p*this.cos_p14/d),E=Math.atan2(u.x*p,d*this.cos_p14*w-u.y*this.sin_p14*p),E=ue(this.long0+E)):(I=this.phic0,E=0),u.x=E,u.y=I,u},names:["gnom"]},N={init:function h(){this.sphere||(this.k0=Tn(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function m(u){var w,v,p=u.y,E=ue(u.x-this.long0);if(this.sphere)w=this.x0+this.a*E*Math.cos(this.lat_ts),v=this.y0+this.a*Math.sin(p)/Math.cos(this.lat_ts);else{var I=xi(this.e,Math.sin(p));w=this.x0+this.a*this.k0*E,v=this.y0+this.a*I*.5/this.k0}return u.x=w,u.y=v,u},inverse:function y(u){var d,p;return u.x-=this.x0,u.y-=this.y0,this.sphere?(d=ue(this.long0+u.x/this.a/Math.cos(this.lat_ts)),p=Math.asin(u.y/this.a*Math.cos(this.lat_ts))):(p=function l(u,d){var p=1-(1-u*u)/(2*u)*Math.log((1-u)/(1+u));if(Math.abs(Math.abs(d)-p)<1e-6)return d<0?-1*Q:Q;for(var v,E,I,C,w=Math.asin(.5*d),T=0;T<30;T++)if(E=Math.sin(w),I=Math.cos(w),C=u*E,w+=v=Math.pow(1-C*C,2)/(2*I)*(d/(1-u*u)-E/(1-C*C)+.5/u*Math.log((1-C)/(1+C))),Math.abs(v)<=1e-10)return w;return NaN}(this.e,2*u.y*this.k0/this.a),d=ue(this.long0+u.x/(this.a*this.k0))),u.x=d,u.y=p,u},names:["cea"]},de={init:function j(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function H(u){var p=u.y,w=ue(u.x-this.long0),v=er(p-this.lat0);return u.x=this.x0+this.a*w*this.rc,u.y=this.y0+this.a*v,u},inverse:function W(u){var p=u.y;return u.x=ue(this.long0+(u.x-this.x0)/(this.a*this.rc)),u.y=er(this.lat0+(p-this.y0)/this.a),u},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Er={init:function Ti(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hi(this.es),this.e1=Ji(this.es),this.e2=Mr(this.es),this.e3=Qr(this.es),this.ml0=this.a*xt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function gi(u){var w,v,E,p=u.y,I=ue(u.x-this.long0);if(E=I*Math.sin(p),this.sphere)Math.abs(p)<=se?(w=this.a*I,v=-1*this.a*this.lat0):(w=this.a*Math.sin(E)/Math.tan(p),v=this.a*(er(p-this.lat0)+(1-Math.cos(E))/Math.tan(p)));else if(Math.abs(p)<=se)w=this.a*I,v=-1*this.ml0;else{var C=di(this.a,this.e,Math.sin(p))/Math.tan(p);w=C*Math.sin(E),v=this.a*xt(this.e0,this.e1,this.e2,this.e3,p)-this.ml0+C*(1-Math.cos(E))}return u.x=w+this.x0,u.y=v+this.y0,u},inverse:function to(u){var d,p,w,v,E,I,C,T,R;if(w=u.x-this.x0,v=u.y-this.y0,this.sphere)if(Math.abs(v+this.a*this.lat0)<=se)d=ue(w/this.a+this.long0),p=0;else{var U;for(C=w*w/this.a/this.a+(I=this.lat0+v/this.a)*I,T=I,E=20;E;--E)if(T+=R=-1*(I*(T*(U=Math.tan(T))+1)-T-.5*(T*T+C)*U)/((T-I)/U-1),Math.abs(R)<=se){p=T;break}d=ue(this.long0+Math.asin(w*Math.tan(T)/this.a)/Math.sin(p))}else if(Math.abs(v+this.ml0)<=se)p=0,d=ue(this.long0+w/this.a);else{var k,q,X,z,ne;for(C=w*w/this.a/this.a+(I=(this.ml0+v)/this.a)*I,T=I,E=20;E;--E)if(ne=this.e*Math.sin(T),k=Math.sqrt(1-ne*ne)*Math.tan(T),q=this.a*xt(this.e0,this.e1,this.e2,this.e3,T),X=this.e0-2*this.e1*Math.cos(2*T)+4*this.e2*Math.cos(4*T)-6*this.e3*Math.cos(6*T),T-=R=(I*(k*(z=q/this.a)+1)-z-.5*k*(z*z+C))/(this.es*Math.sin(2*T)*(z*z+C-2*I*z)/(4*k)+(I-z)*(k*X-2/Math.sin(2*T))-X),Math.abs(R)<=se){p=T;break}k=Math.sqrt(1-this.es*Math.pow(Math.sin(p),2))*Math.tan(p),d=ue(this.long0+Math.asin(w*k/this.a)/Math.sin(p))}return u.x=d,u.y=p,u},names:["Polyconic","poly"]},tn={init:function io(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function Ht(u){var d,I=(u.y-this.lat0)/ye*1e-5,C=u.x-this.long0,T=1,R=0;for(d=1;d<=10;d++)R+=this.A[d]*(T*=I);var ne,U=R,k=C,q=1,X=0,re=0,fe=0;for(d=1;d<=6;d++)ne=X*U+q*k,re=re+this.B_re[d]*(q=q*U-X*k)-this.B_im[d]*(X=ne),fe=fe+this.B_im[d]*q+this.B_re[d]*X;return u.x=fe*this.a+this.x0,u.y=re*this.a+this.y0,u},inverse:function Tl(u){var d,k,I=(u.y-this.y0)/this.a,C=(u.x-this.x0)/this.a,T=1,R=0,q=0,X=0;for(d=1;d<=6;d++)k=R*I+T*C,q=q+this.C_re[d]*(T=T*I-R*C)-this.C_im[d]*(R=k),X=X+this.C_im[d]*T+this.C_re[d]*R;for(var z=0;z<this.iterations;z++){var Oe,ne=q,re=X,Ge=I,it=C;for(d=2;d<=6;d++)Oe=re*q+ne*X,Ge+=(d-1)*(this.B_re[d]*(ne=ne*q-re*X)-this.B_im[d]*(re=Oe)),it+=(d-1)*(this.B_im[d]*ne+this.B_re[d]*re);ne=1,re=0;var Ue=this.B_re[1],rt=this.B_im[1];for(d=2;d<=6;d++)Oe=re*q+ne*X,Ue+=d*(this.B_re[d]*(ne=ne*q-re*X)-this.B_im[d]*(re=Oe)),rt+=d*(this.B_im[d]*ne+this.B_re[d]*re);var gn=Ue*Ue+rt*rt;q=(Ge*Ue+it*rt)/gn,X=(it*Ue-Ge*rt)/gn}var Tt=q,Pi=X,so=1,Y=0;for(d=1;d<=9;d++)Y+=this.D[d]*(so*=Tt);var Ze=this.lat0+Y*ye*1e5;return u.x=this.long0+Pi,u.y=Ze,u},names:["New_Zealand_Map_Grid","nzmg"]},Ps={init:function wt(){},forward:function ti(u){var p=u.y,w=ue(u.x-this.long0),v=this.x0+this.a*w,E=this.y0+this.a*Math.log(Math.tan(Math.PI/4+p/2.5))*1.25;return u.x=v,u.y=E,u},inverse:function Zo(u){u.x-=this.x0,u.y-=this.y0;var d=ue(this.long0+u.x/this.a),p=2.5*(Math.atan(Math.exp(.8*u.y/this.a))-Math.PI/4);return u.x=d,u.y=p,u},names:["Miller_Cylindrical","mill"]},jg={init:function fa(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ko(this.es)},forward:function qu(u){var d,p,w=u.x,v=u.y;if(w=ue(w-this.long0),this.sphere){if(this.m)for(var E=this.n*Math.sin(v),I=20;I;--I){var C=(this.m*v+Math.sin(v)-E)/(this.m+Math.cos(v));if(v-=C,Math.abs(C)<se)break}else v=1!==this.n?Math.asin(this.n*Math.sin(v)):v;d=this.a*this.C_x*w*(this.m+Math.cos(v)),p=this.a*this.C_y*v}else{var T=Math.sin(v),R=Math.cos(v);p=this.a*Jt(v,T,R,this.en),d=this.a*w*R/Math.sqrt(1-this.es*T*T)}return u.x=d,u.y=p,u},inverse:function td(u){var d,w,v;return u.x-=this.x0,w=u.x/this.a,u.y-=this.y0,d=u.y/this.a,this.sphere?(d/=this.C_y,w/=this.C_x*(this.m+Math.cos(d)),this.m?d=me((this.m*d+Math.sin(d))/this.n):1!==this.n&&(d=me(Math.sin(d)/this.n)),w=ue(w+this.long0),d=er(d)):(d=Pe(u.y/this.a,this.es,this.en),(v=Math.abs(d))<Q?(v=Math.sin(d),w=ue(this.long0+u.x*Math.sqrt(1-this.es*v*v)/(this.a*Math.cos(d)))):v-se<Q&&(w=this.long0)),u.x=w,u.y=d,u},names:["Sinusoidal","sinu"]},$g={init:function Ug(){},forward:function zg(u){for(var p=u.y,w=ue(u.x-this.long0),v=p,E=Math.PI*Math.sin(p);;){var I=-(v+Math.sin(v)-E)/(1+Math.cos(v));if(v+=I,Math.abs(I)<se)break}v/=2,Math.PI/2-Math.abs(p)<se&&(w=0);var C=.900316316158*this.a*w*Math.cos(v)+this.x0,T=1.4142135623731*this.a*Math.sin(v)+this.y0;return u.x=C,u.y=T,u},inverse:function Hg(u){var d,p;u.x-=this.x0,u.y-=this.y0,p=u.y/(1.4142135623731*this.a),Math.abs(p)>.999999999999&&(p=.999999999999),d=Math.asin(p);var w=ue(this.long0+u.x/(.900316316158*this.a*Math.cos(d)));w<-Math.PI&&(w=-Math.PI),w>Math.PI&&(w=Math.PI),p=(2*d+Math.sin(2*d))/Math.PI,Math.abs(p)>1&&(p=1);var v=Math.asin(p);return u.x=w,u.y=v,u},names:["Mollweide","moll"]},Yg={init:function Gg(){Math.abs(this.lat1+this.lat2)<se||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hi(this.es),this.e1=Ji(this.es),this.e2=Mr(this.es),this.e3=Qr(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Tn(this.e,this.sinphi,this.cosphi),this.ml1=xt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<se?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Tn(this.e,this.sinphi,this.cosphi),this.ml2=xt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=xt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function qg(u){var w,d=u.x,p=u.y;if(this.sphere)w=this.a*(this.g-p);else{var v=xt(this.e0,this.e1,this.e2,this.e3,p);w=this.a*(this.g-v)}var E=this.ns*ue(d-this.long0),I=this.x0+w*Math.sin(E),C=this.y0+this.rh-w*Math.cos(E);return u.x=I,u.y=C,u},inverse:function Zg(u){var d,p,w,v;u.x-=this.x0,u.y=this.rh-u.y+this.y0,this.ns>=0?(p=Math.sqrt(u.x*u.x+u.y*u.y),d=1):(p=-Math.sqrt(u.x*u.x+u.y*u.y),d=-1);var E=0;return 0!==p&&(E=Math.atan2(d*u.x,d*u.y)),this.sphere?(v=ue(this.long0+E/this.ns),w=er(this.g-p/this.a),u.x=v,u.y=w,u):(w=Kr(this.g-p/this.a,this.e0,this.e1,this.e2,this.e3),v=ue(this.long0+E/this.ns),u.x=v,u.y=w,u)},names:["Equidistant_Conic","eqdc"]},Xg={init:function Qg(){this.R=this.a},forward:function Zu(u){var v,E,p=u.y,w=ue(u.x-this.long0);Math.abs(p)<=se&&(v=this.x0+this.R*w,E=this.y0);var I=me(2*Math.abs(p/Math.PI));(Math.abs(w)<=se||Math.abs(Math.abs(p)-Q)<=se)&&(v=this.x0,E=p>=0?this.y0+Math.PI*this.R*Math.tan(.5*I):this.y0+Math.PI*this.R*-Math.tan(.5*I));var C=.5*Math.abs(Math.PI/w-w/Math.PI),T=C*C,R=Math.sin(I),U=Math.cos(I),k=U/(R+U-1),X=k*(2/R-1),z=X*X,ne=Math.PI*this.R*(C*(k-z)+Math.sqrt(T*(k-z)*(k-z)-(z+T)*(k*k-z)))/(z+T);w<0&&(ne=-ne),v=this.x0+ne;var re=T+k;return ne=Math.PI*this.R*(X*re-C*Math.sqrt((z+T)*(T+1)-re*re))/(z+T),E=p>=0?this.y0+ne:this.y0-ne,u.x=v,u.y=E,u},inverse:function Wu(u){var d,p,w,v,E,I,C,T,R,U,k,q;return u.x-=this.x0,u.y-=this.y0,k=Math.PI*this.R,E=(w=u.x/k)*w+(v=u.y/k)*v,k=3*(v*v/(T=-2*(I=-Math.abs(v)*(1+E))+1+2*v*v+E*E)+(2*(C=I-2*v*v+w*w)*C*C/T/T/T-9*I*C/T/T)/27)/(R=(I-C*C/3/T)/T)/(U=2*Math.sqrt(-R/3)),Math.abs(k)>1&&(k=k>=0?1:-1),q=Math.acos(k)/3,p=u.y>=0?(-U*Math.cos(q+Math.PI/3)-C/3/T)*Math.PI:-(-U*Math.cos(q+Math.PI/3)-C/3/T)*Math.PI,d=Math.abs(w)<se?this.long0:ue(this.long0+Math.PI*(E-1+Math.sqrt(1+2*(w*w-v*v)+E*E))/2/w),u.x=d,u.y=p,u},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Ll={init:function Jg(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function ro(u){var I,C,T,R,U,k,q,X,z,ne,re,fe,Oe,Ge,it,Ue,rt,gn,Tt,Pi,so,Y,d=u.x,p=u.y,w=Math.sin(u.y),v=Math.cos(u.y),E=ue(d-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=se?(u.x=this.x0+this.a*(Q-p)*Math.sin(E),u.y=this.y0-this.a*(Q-p)*Math.cos(E),u):Math.abs(this.sin_p12+1)<=se?(u.x=this.x0+this.a*(Q+p)*Math.sin(E),u.y=this.y0+this.a*(Q+p)*Math.cos(E),u):(gn=this.sin_p12*w+this.cos_p12*v*Math.cos(E),rt=(Ue=Math.acos(gn))?Ue/Math.sin(Ue):1,u.x=this.x0+this.a*rt*v*Math.sin(E),u.y=this.y0+this.a*rt*(this.cos_p12*w-this.sin_p12*v*Math.cos(E)),u):(I=hi(this.es),C=Ji(this.es),T=Mr(this.es),R=Qr(this.es),Math.abs(this.sin_p12-1)<=se?(U=this.a*xt(I,C,T,R,Q),k=this.a*xt(I,C,T,R,p),u.x=this.x0+(U-k)*Math.sin(E),u.y=this.y0-(U-k)*Math.cos(E),u):Math.abs(this.sin_p12+1)<=se?(U=this.a*xt(I,C,T,R,Q),k=this.a*xt(I,C,T,R,p),u.x=this.x0+(U+k)*Math.sin(E),u.y=this.y0+(U+k)*Math.cos(E),u):(q=w/v,X=di(this.a,this.e,this.sin_p12),z=di(this.a,this.e,w),ne=Math.atan((1-this.es)*q+this.es*X*this.sin_p12/(z*v)),Tt=0===(re=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(ne)-this.sin_p12*Math.cos(E)))?Math.asin(this.cos_p12*Math.sin(ne)-this.sin_p12*Math.cos(ne)):Math.abs(Math.abs(re)-Math.PI)<=se?-Math.asin(this.cos_p12*Math.sin(ne)-this.sin_p12*Math.cos(ne)):Math.asin(Math.sin(E)*Math.cos(ne)/Math.sin(re)),fe=this.e*this.sin_p12/Math.sqrt(1-this.es),Oe=this.e*this.cos_p12*Math.cos(re)/Math.sqrt(1-this.es),u.x=this.x0+(Ue=X*Tt*(1-(Pi=Tt*Tt)*(it=Oe*Oe)*(1-it)/6+(so=Pi*Tt)/8*(Ge=fe*Oe)*(1-2*it)+(Y=so*Tt)/120*(it*(4-7*it)-3*fe*fe*(1-7*it))-Y*Tt/48*Ge))*Math.sin(re),u.y=this.y0+Ue*Math.cos(re),u))},inverse:function Yu(u){var d,p,w,v,E,I,C,T,R,U,k,q,z,ne,re,fe,Oe,Ge,it,Ue,rt,gn,Tt;return u.x-=this.x0,u.y-=this.y0,this.sphere?(d=Math.sqrt(u.x*u.x+u.y*u.y))>2*Q*this.a?void 0:(p=d/this.a,w=Math.sin(p),v=Math.cos(p),E=this.long0,Math.abs(d)<=se?I=this.lat0:(I=me(v*this.sin_p12+u.y*w*this.cos_p12/d),C=Math.abs(this.lat0)-Q,E=Math.abs(C)<=se?ue(this.lat0>=0?this.long0+Math.atan2(u.x,-u.y):this.long0-Math.atan2(-u.x,u.y)):ue(this.long0+Math.atan2(u.x*w,d*this.cos_p12*v-u.y*this.sin_p12*w))),u.x=E,u.y=I,u):(T=hi(this.es),R=Ji(this.es),U=Mr(this.es),k=Qr(this.es),Math.abs(this.sin_p12-1)<=se?(I=Kr(((q=this.a*xt(T,R,U,k,Q))-(d=Math.sqrt(u.x*u.x+u.y*u.y)))/this.a,T,R,U,k),E=ue(this.long0+Math.atan2(u.x,-1*u.y)),u.x=E,u.y=I,u):Math.abs(this.sin_p12+1)<=se?(q=this.a*xt(T,R,U,k,Q),I=Kr(((d=Math.sqrt(u.x*u.x+u.y*u.y))-q)/this.a,T,R,U,k),E=ue(this.long0+Math.atan2(u.x,u.y)),u.x=E,u.y=I,u):(d=Math.sqrt(u.x*u.x+u.y*u.y),re=Math.atan2(u.x,u.y),z=di(this.a,this.e,this.sin_p12),fe=Math.cos(re),it=3*this.es*(1-(Ge=-(Oe=this.e*this.cos_p12*fe)*Oe/(1-this.es)))*this.sin_p12*this.cos_p12*fe/(1-this.es),gn=1-Ge*(rt=(Ue=d/z)-Ge*(1+Ge)*Math.pow(Ue,3)/6-it*(1+3*Ge)*Math.pow(Ue,4)/24)*rt/2-Ue*rt*rt*rt/6,ne=Math.asin(this.sin_p12*Math.cos(rt)+this.cos_p12*Math.sin(rt)*fe),E=ue(this.long0+Math.asin(Math.sin(re)*Math.sin(rt)/Math.cos(ne))),Tt=Math.sin(ne),I=Math.atan2((Tt-this.es*gn*this.sin_p12)*Math.tan(ne),Tt*(1-this.es)),u.x=E,u.y=I,u))},names:["Azimuthal_Equidistant","aeqd"]},tm={init:function Qu(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function id(u){var d,p,w,v,I,C,T,U=u.y;return w=ue(u.x-this.long0),d=Math.sin(U),p=Math.cos(U),v=Math.cos(w),((I=this.sin_p14*d+this.cos_p14*p*v)>0||Math.abs(I)<=se)&&(C=1*this.a*p*Math.sin(w),T=this.y0+1*this.a*(this.cos_p14*d-this.sin_p14*p*v)),u.x=C,u.y=T,u},inverse:function rd(u){var d,p,w,v,E,I,C;return u.x-=this.x0,u.y-=this.y0,p=me((d=Math.sqrt(u.x*u.x+u.y*u.y))/this.a),w=Math.sin(p),v=Math.cos(p),I=this.long0,Math.abs(d)<=se?(C=this.lat0,u.x=I,u.y=C,u):(C=me(v*this.sin_p14+u.y*w*this.cos_p14/d),E=Math.abs(this.lat0)-Q,Math.abs(E)<=se?(I=ue(this.lat0>=0?this.long0+Math.atan2(u.x,-u.y):this.long0-Math.atan2(-u.x,u.y)),u.x=I,u.y=C,u):(I=ue(this.long0+Math.atan2(u.x*w,d*this.cos_p14*v-u.y*this.sin_p14*w)),u.x=I,u.y=C,u))},names:["ortho"]};var je_AREA_0=1,je_AREA_1=2,je_AREA_2=3,je_AREA_3=4;function Pl(u,d,p,w){var v;return u<se?(w.value=je_AREA_0,v=0):(v=Math.atan2(d,p),Math.abs(v)<=We?w.value=je_AREA_0:v>We&&v<=Q+We?(w.value=je_AREA_1,v-=Q):v>Q+We||v<=-(Q+We)?(w.value=je_AREA_2,v=v>=0?v-ht:v+ht):(w.value=je_AREA_3,v+=Q)),v}function br(u,d){var p=u+d;return p<-ht?p+=wi:p>+ht&&(p-=wi),p}const ga={init:function pa(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=Q-We/2?5:this.lat0<=-(Q-We/2)?6:Math.abs(this.long0)<=We?1:Math.abs(this.long0)<=Q+We?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function Zt(u){var p,w,v,E,I,C,d={x:0,y:0},T={value:0};if(u.x-=this.long0,p=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(u.y)):u.y,w=u.x,5===this.face)E=Q-p,w>=We&&w<=Q+We?(T.value=je_AREA_0,v=w-Q):w>Q+We||w<=-(Q+We)?(T.value=je_AREA_1,v=w>0?w-ht:w+ht):w>-(Q+We)&&w<=-We?(T.value=je_AREA_2,v=w+Q):(T.value=je_AREA_3,v=w);else if(6===this.face)E=Q+p,w>=We&&w<=Q+We?(T.value=je_AREA_0,v=-w+Q):w<We&&w>=-We?(T.value=je_AREA_1,v=-w):w<-We&&w>=-(Q+We)?(T.value=je_AREA_2,v=-w-Q):(T.value=je_AREA_3,v=w>0?-w+ht:-w-ht);else{var R,U,k,q,X,z;2===this.face?w=br(w,+Q):3===this.face?w=br(w,+ht):4===this.face&&(w=br(w,-Q)),q=Math.sin(p),X=Math.cos(p),z=Math.sin(w),R=X*Math.cos(w),U=X*z,k=q,1===this.face?v=Pl(E=Math.acos(R),k,U,T):2===this.face?v=Pl(E=Math.acos(U),k,-R,T):3===this.face?v=Pl(E=Math.acos(-R),k,-U,T):4===this.face?v=Pl(E=Math.acos(-U),k,R,T):(E=v=0,T.value=je_AREA_0)}return C=Math.atan(12/ht*(v+Math.acos(Math.sin(v)*Math.cos(We))-Q)),I=Math.sqrt((1-Math.cos(E))/(Math.cos(C)*Math.cos(C))/(1-Math.cos(Math.atan(1/Math.cos(v))))),T.value===je_AREA_1?C+=Q:T.value===je_AREA_2?C+=ht:T.value===je_AREA_3&&(C+=1.5*ht),d.x=I*Math.cos(C),d.y=I*Math.sin(C),d.x=d.x*this.a+this.x0,d.y=d.y*this.a+this.y0,u.x=d.x,u.y=d.y,u},inverse:function Ku(u){var p,w,v,E,I,C,T,R,U,ne,re,fe,d={lam:0,phi:0},k={value:0};if(u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,w=Math.atan(Math.sqrt(u.x*u.x+u.y*u.y)),p=Math.atan2(u.y,u.x),u.x>=0&&u.x>=Math.abs(u.y)?k.value=je_AREA_0:u.y>=0&&u.y>=Math.abs(u.x)?(k.value=je_AREA_1,p-=Q):u.x<0&&-u.x>=Math.abs(u.y)?(k.value=je_AREA_2,p=p<0?p+ht:p-ht):(k.value=je_AREA_3,p+=Q),U=ht/12*Math.tan(p),I=Math.sin(U)/(Math.cos(U)-1/Math.sqrt(2)),C=Math.atan(I),(T=1-(v=Math.cos(p))*v*(E=Math.tan(w))*E*(1-Math.cos(Math.atan(1/Math.cos(C)))))<-1?T=-1:T>1&&(T=1),5===this.face)R=Math.acos(T),d.phi=Q-R,d.lam=k.value===je_AREA_0?C+Q:k.value===je_AREA_1?C<0?C+ht:C-ht:k.value===je_AREA_2?C-Q:C;else if(6===this.face)R=Math.acos(T),d.phi=R-Q,d.lam=k.value===je_AREA_0?-C+Q:k.value===je_AREA_1?-C:k.value===je_AREA_2?-C-Q:C<0?-C-ht:-C+ht;else{var q,X,z;U=(q=T)*q,X=(U+=(z=U>=1?0:Math.sqrt(1-U)*Math.sin(C))*z)>=1?0:Math.sqrt(1-U),k.value===je_AREA_1?(U=X,X=-z,z=U):k.value===je_AREA_2?(X=-X,z=-z):k.value===je_AREA_3&&(U=X,X=z,z=-U),2===this.face?(U=q,q=-X,X=U):3===this.face?(q=-q,X=-X):4===this.face&&(U=q,q=X,X=-U),d.phi=Math.acos(-z)-Q,d.lam=Math.atan2(X,q),2===this.face?d.lam=br(d.lam,-Q):3===this.face?d.lam=br(d.lam,-ht):4===this.face&&(d.lam=br(d.lam,+Q))}return 0!==this.es&&(ne=d.phi<0?1:0,re=Math.tan(d.phi),fe=this.b/Math.sqrt(re*re+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-fe*fe)/(this.one_minus_f*fe)),ne&&(d.phi=-d.phi)),d.lam+=this.long0,u.x=d.lam,u.y=d.phi,u},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Nl=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],ma=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Xu=ct/5,va=1/Xu,kl=function(u,d){return u[0]+d*(u[1]+d*(u[2]+d*u[3]))};const tc={init:function ec(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function sd(u){var d=ue(u.x-this.long0),p=Math.abs(u.y),w=Math.floor(p*Xu);w<0?w=0:w>=18&&(w=17);var v={x:kl(Nl[w],p=ct*(p-va*w))*d,y:kl(ma[w],p)};return u.y<0&&(v.y=-v.y),v.x=v.x*this.a*.8487+this.x0,v.y=v.y*this.a*1.3523+this.y0,v},inverse:function ad(u){var d={x:(u.x-this.x0)/(.8487*this.a),y:Math.abs(u.y-this.y0)/(1.3523*this.a)};if(d.y>=1)d.x/=Nl[18][0],d.y=u.y<0?-Q:Q;else{var p=Math.floor(18*d.y);for(p<0?p=0:p>=18&&(p=17);;)if(ma[p][0]>d.y)--p;else{if(!(ma[p+1][0]<=d.y))break;++p}var w=ma[p],v=5*(d.y-w[0])/(ma[p+1][0]-w[0]);v=function Ju(u,d,p,w){for(var v=d;w;--w){var E=u(v);if(v-=E,Math.abs(E)<p)break}return v}(function(E){return(kl(w,E)-d.y)/function(u,d){return u[1]+d*(2*u[2]+3*d*u[3])}(w,E)},v,se,100),d.x/=kl(Nl[p],v),d.y=(5*p+v)*bt,u.y<0&&(d.y=-d.y)}return d.x=ue(d.x+this.long0),d},names:["Robinson","robin"]},cd={init:function ld(){this.name="geocent"},forward:function ud(u){return $i(u,this.es,this.a)},inverse:function nc(u){return ds(u,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var Ns={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const hd={init:function Li(){if(Object.keys(Ns).forEach(function(p){if(typeof this[p]>"u")this[p]=Ns[p].def;else{if(Ns[p].num&&isNaN(this[p]))throw new Error("Invalid parameter value, must be numeric "+p+" = "+this[p]);Ns[p].num&&(this[p]=parseFloat(this[p]))}Ns[p].degrees&&(this[p]=this[p]*bt)}.bind(this)),Math.abs(Math.abs(this.lat0)-Q)<se?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<se?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var u=this.tilt,d=this.azi;this.cg=Math.cos(d),this.sg=Math.sin(d),this.cw=Math.cos(u),this.sw=Math.sin(u)},forward:function rc(u){u.x-=this.long0;var v,E,I,C,d=Math.sin(u.y),p=Math.cos(u.y),w=Math.cos(u.x);switch(this.mode){case 3:E=this.sinph0*d+this.cosph0*p*w;break;case 2:E=p*w;break;case 1:E=-d;break;case 0:E=d}switch(v=(E=this.pn1/(this.p-E))*p*Math.sin(u.x),this.mode){case 3:E*=this.cosph0*d-this.sinph0*p*w;break;case 2:E*=d;break;case 0:E*=-p*w;break;case 1:E*=p*w}return v=(v*this.cg-E*this.sg)*this.cw*(C=1/((I=E*this.cg+v*this.sg)*this.sw*this.h1+this.cw)),E=I*C,u.x=v*this.a,u.y=E*this.a,u},inverse:function oc(u){u.x/=this.a,u.y/=this.a;var p,w,v,d={x:u.x,y:u.y};u.x=(p=this.pn1*u.x*(v=1/(this.pn1-u.y*this.sw)))*this.cg+(w=this.pn1*u.y*this.cw*v)*this.sg,u.y=w*this.cg-p*this.sg;var E=Ds(u.x,u.y);if(Math.abs(E)<se)d.x=0,d.y=u.y;else{var I,C;switch(C=1-E*E*this.pfact,C=(this.p-Math.sqrt(C))/(this.pn1/E+E/this.pn1),I=Math.sqrt(1-C*C),this.mode){case 3:d.y=Math.asin(I*this.sinph0+u.y*C*this.cosph0/E),u.y=(I-this.sinph0*Math.sin(d.y))*E,u.x*=C*this.cosph0;break;case 2:d.y=Math.asin(u.y*C/E),u.y=I*E,u.x*=C;break;case 0:d.y=Math.asin(I),u.y=-u.y;break;case 1:d.y=-Math.asin(I)}d.x=Math.atan2(u.x,u.y)}return u.x=d.x+this.long0,u.y=d.y,u},names:["Tilted_Perspective","tpers"]};he.defaultDatum="WGS84",he.Proj=Ei,he.WGS84=new he.Proj("WGS84"),he.Point=pe,he.toPoint=ln,he.defs=os,he.nadgrid=function Ci(u,d){var p=new DataView(d),w=function yl(u){var d=u.getInt32(8,!1);return 11!==d&&(11!==(d=u.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(p),v=function cs(u,d){return{nFields:u.getInt32(8,d),nSubgridFields:u.getInt32(24,d),nSubgrids:u.getInt32(40,d),shiftType:hs(u,56,64).trim(),fromSemiMajorAxis:u.getFloat64(120,d),fromSemiMinorAxis:u.getFloat64(136,d),toSemiMajorAxis:u.getFloat64(152,d),toSemiMinorAxis:u.getFloat64(168,d)}}(p,w);v.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var E=function Br(u,d,p){for(var v=[],E=0;E<d.nSubgrids;E++){var I=To(u,176,p),C=ra(u,176,I,p),T=Math.round(1+(I.upperLongitude-I.lowerLongitude)/I.longitudeInterval),R=Math.round(1+(I.upperLatitude-I.lowerLatitude)/I.latitudeInterval);v.push({ll:[hr(I.lowerLongitude),hr(I.lowerLatitude)],del:[hr(I.longitudeInterval),hr(I.latitudeInterval)],lim:[T,R],count:I.gridNodeCount,cvs:ia(C)})}return v}(p,v,w),I={header:v,subgrids:E};return It[u]=I,I},he.transform=Ce,he.mgrs=ps,he.version="__VERSION__",function ya(u){u.Proj.projections.add(Ms),u.Proj.projections.add($r),u.Proj.projections.add(Qi),u.Proj.projections.add(zo),u.Proj.projections.add(Ho),u.Proj.projections.add(wr),u.Proj.projections.add(Rn),u.Proj.projections.add($o),u.Proj.projections.add(fn),u.Proj.projections.add(Dr),u.Proj.projections.add(oe),u.Proj.projections.add(yt),u.Proj.projections.add(o),u.Proj.projections.add(N),u.Proj.projections.add(de),u.Proj.projections.add(Er),u.Proj.projections.add(tn),u.Proj.projections.add(Ps),u.Proj.projections.add(jg),u.Proj.projections.add($g),u.Proj.projections.add(Yg),u.Proj.projections.add(Xg),u.Proj.projections.add(Ll),u.Proj.projections.add(tm),u.Proj.projections.add(ga),u.Proj.projections.add(tc),u.Proj.projections.add(cd),u.Proj.projections.add(hd)}(he);const bn=he},946:(yi,wn,te)=>{var ze,_,D;_=[te(433),te(991)],void 0!==(D="function"==typeof(ze=function(x,F){return F.__esModule&&F.default&&(F=F.default),x.Proj={},x.Proj._isProj4Obj=function(O){return typeof O.inverse<"u"&&typeof O.forward<"u"},x.Proj.Projection=x.Class.extend({initialize:function(O,G,Z){var J=x.Proj._isProj4Obj(O);this._proj=J?O:this._projFromCodeDef(O,G),this.bounds=J?G:Z},project:function(O){var G=this._proj.forward([O.lng,O.lat]);return new x.Point(G[0],G[1])},unproject:function(O,G){var Z=this._proj.inverse([O.x,O.y]);return new x.LatLng(Z[1],Z[0],G)},_projFromCodeDef:function(O,G){if(G)F.defs(O,G);else if(void 0===F.defs[O]){var Z=O.split(":");if(Z.length>3&&(O=Z[Z.length-3]+":"+Z[Z.length-1]),void 0===F.defs[O])throw"No projection definition for code "+O}return F(O)}}),x.Proj.CRS=x.Class.extend({includes:x.CRS,options:{transformation:new x.Transformation(1,0,-1,0)},initialize:function(O,G,Z){var J,ye,Qt;if(x.Proj._isProj4Obj(O)?(J=(ye=O).srsCode,this.projection=new x.Proj.Projection(ye,(Qt=G||{}).bounds)):this.projection=new x.Proj.Projection(J=O,G,(Qt=Z||{}).bounds),x.Util.setOptions(this,Qt),this.code=J,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new x.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var nt=this.options.resolutions.length-1;nt>=0;nt--)this.options.resolutions[nt]&&(this._scales[nt]=1/this.options.resolutions[nt])}this.infinite=!this.options.bounds},scale:function(O){var Z,G=Math.floor(O);return O===G?this._scales[O]:(Z=this._scales[G])+(this._scales[G+1]-Z)*(O-G)},zoom:function(O){var J,G=this._closestElement(this._scales,O),Z=this._scales.indexOf(G);return O===G?Z:void 0===G?-1/0:void 0===(J=this._scales[Z+1])?1/0:(O-G)/(J-G)+Z},distance:x.CRS.Earth.distance,R:x.CRS.Earth.R,_closestElement:function(O,G){for(var Z,J=O.length;J--;)O[J]<=G&&(void 0===Z||Z<O[J])&&(Z=O[J]);return Z}}),x.Proj.GeoJSON=x.GeoJSON.extend({initialize:function(O,G){this._callLevel=0,x.GeoJSON.prototype.initialize.call(this,O,G)},addData:function(O){var G;O&&(O.crs&&"name"===O.crs.type?G=new x.Proj.CRS(O.crs.properties.name):O.crs&&O.crs.type&&(G=new x.Proj.CRS(O.crs.type+":"+O.crs.properties.code)),void 0!==G&&(this.options.coordsToLatLng=function(Z){var J=x.point(Z[0],Z[1]);return G.projection.unproject(J)})),this._callLevel++;try{x.GeoJSON.prototype.addData.call(this,O)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),x.Proj.geoJson=function(O,G){return new x.Proj.GeoJSON(O,G)},x.Proj.ImageOverlay=x.ImageOverlay.extend({initialize:function(O,G,Z){x.ImageOverlay.prototype.initialize.call(this,O,null,Z),this._projectedBounds=G},_animateZoom:function(O){var G=this._map.getZoomScale(O.zoom),Z=x.point(this._projectedBounds.min.x,this._projectedBounds.max.y),J=this._projectedToNewLayerPoint(Z,O.zoom,O.center);x.DomUtil.setTransform(this._image,J,G)},_reset:function(){var O=this._map.getZoom(),G=this._map.getPixelOrigin(),Z=x.bounds(this._transform(this._projectedBounds.min,O)._subtract(G),this._transform(this._projectedBounds.max,O)._subtract(G)),J=Z.getSize();x.DomUtil.setPosition(this._image,Z.min),this._image.style.width=J.x+"px",this._image.style.height=J.y+"px"},_projectedToNewLayerPoint:function(O,G,Z){var J=this._map.getSize()._divideBy(2),Q=this._map.project(Z,G)._subtract(J)._round().add(this._map._getMapPanePos());return this._transform(O,G)._subtract(Q)},_transform:function(O,G){var Z=this._map.options.crs,J=Z.transformation,ye=Z.scale(G);return J.transform(O,ye)}}),x.Proj.imageOverlay=function(O,G,Z){return new x.Proj.ImageOverlay(O,G,Z)},x.Proj})?ze.apply(wn,_):ze)&&(yi.exports=D)}},yi=>{yi(yi.s=318)}]);