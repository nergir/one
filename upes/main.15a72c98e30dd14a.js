(self.webpackChunkupes=self.webpackChunkupes||[]).push([[179],{523:(Di,Dn,ne)=>{"use strict";function ze(e){return"function"==typeof e}function _(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const D=_(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function T(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class B{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(ze(i))try{i()}catch(o){t=o instanceof D?o.errors:[o]}const{_teardowns:r}=this;if(r){this._teardowns=null;for(const o of r)try{W(o)}catch(a){t=t??[],a instanceof D?t=[...t,...a.errors]:t.push(a)}}if(t)throw new D(t)}}add(t){var n;if(t&&t!==this)if(this.closed)W(t);else{if(t instanceof B){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&T(n,t)}remove(t){const{_teardowns:n}=this;n&&T(n,t),t instanceof B&&t._removeParent(this)}}B.EMPTY=(()=>{const e=new B;return e.closed=!0,e})();const O=B.EMPTY;function G(e){return e instanceof B||e&&"closed"in e&&ze(e.remove)&&ze(e.add)&&ze(e.unsubscribe)}function W(e){ze(e)?e():e.unsubscribe()}const te={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},De={setTimeout(...e){const{delegate:t}=De;return(t?.setTimeout||setTimeout)(...e)},clearTimeout(e){const{delegate:t}=De;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Q(e){De.setTimeout(()=>{const{onUnhandledError:t}=te;if(!t)throw e;t(e)})}function Xt(){}const nt=bt("C",void 0,void 0);function bt(e,t,n){return{kind:e,value:t,error:n}}let ht=null;function Ye(e){if(te.useDeprecatedSynchronousErrorHandling){const t=!ht;if(t&&(ht={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=ht;if(ht=null,n)throw i}}else e()}class dt extends B{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,G(t)&&t.add(this)):this.destination=Rt}static create(t,n,i){return new Bt(t,n,i)}next(t){this.isStopped?xn(function oe(e){return bt("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?xn(function na(e){return bt("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?xn(nt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Bt extends dt{constructor(t,n,i){let r;if(super(),ze(t))r=t;else if(t){let o;({next:r,error:n,complete:i}=t),this&&te.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe()):o=t,r=r?.bind(o),n=n?.bind(o),i=i?.bind(o)}this.destination={next:r?Ds(r):Xt,error:Ds(n??Or),complete:i?Ds(i):Xt}}}function Ds(e,t){return(...n)=>{try{e(...n)}catch(i){te.useDeprecatedSynchronousErrorHandling?function Ci(e){te.useDeprecatedSynchronousErrorHandling&&ht&&(ht.errorThrown=!0,ht.error=e)}(i):Q(i)}}}function Or(e){throw e}function xn(e,t){const{onStoppedNotification:n}=te;n&&De.setTimeout(()=>n(e,t))}const Rt={closed:!0,next:Xt,error:Or,complete:Xt},$t="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cn(e){return e}function oo(e){return 0===e.length?Cn:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}let Ve=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const o=function ia(e){return e&&e instanceof dt||function Ie(e){return e&&ze(e.next)&&ze(e.error)&&ze(e.complete)}(e)&&G(e)}(n)?n:new Bt(n,i,r);return Ye(()=>{const{operator:a,source:c}=this;o.add(a?a.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=Ui(i))((r,o)=>{let a;a=this.subscribe(c=>{try{n(c)}catch(d){o(d),a?.unsubscribe()}},o,r)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[$t](){return this}pipe(...n){return oo(n)(this)}toPromise(n){return new(n=Ui(n))((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return e.create=t=>new e(t),e})();function Ui(e){var t;return null!==(t=e??te.Promise)&&void 0!==t?t:Promise}const Ke=_(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Je=(()=>{class e extends Ve{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new Qt(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Ke}next(n){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const r of i)r.next(n)}})}error(n){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:o}=this;return i||r?O:(o.push(n),new B(()=>T(o,n)))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){const n=new Ve;return n.source=this,n}}return e.create=(t,n)=>new Qt(t,n),e})();class Qt extends Je{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:O}}class lt extends Je{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function st(e){return ze(e?.lift)}function Le(e){return t=>{if(st(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class Re extends dt{constructor(t,n,i,r,o){super(t),this.onFinalize=o,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function Pe(e,t){return Le((n,i)=>{let r=0;n.subscribe(new Re(i,o=>{i.next(e.call(t,o,r++))}))})}function Vi(e){return this instanceof Vi?(this.v=e,this):new Vi(e)}function $i(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function zi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=e[o]&&function(a){return new Promise(function(c,d){!function r(o,a,c,d){Promise.resolve(d).then(function(g){o({value:g,done:c})},a)}(c,d,(a=e[o](a)).done,a.value)})}}}const Ss=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function co(e){return ze(e?.then)}function _n(e){return ze(e[$t])}function Ei(e){return Symbol.asyncIterator&&ze(e?.[Symbol.asyncIterator])}function la(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oi=function Qu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function an(e){return ze(e?.[oi])}function ln(e){return function uo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(x){i[x]&&(r[x]=function(A){return new Promise(function(F,$){o.push([x,A,F,$])>1||c(x,A)})})}function c(x,A){try{!function d(x){x.value instanceof Vi?Promise.resolve(x.value.v).then(g,w):E(o[0][2],x)}(i[x](A))}catch(F){E(o[0][3],F)}}function g(x){c("next",x)}function w(x){c("throw",x)}function E(x,A){x(A),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield Vi(n.read());if(r)return yield Vi(void 0);yield yield Vi(i)}}finally{n.releaseLock()}})}function Ts(e){return ze(e?.getReader)}function ai(e){if(e instanceof Ve)return e;if(null!=e){if(_n(e))return function bi(e){return new Ve(t=>{const n=e[$t]();if(ze(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ss(e))return function hr(e){return new Ve(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(co(e))return function xe(e){return new Ve(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Q)})}(e);if(Ei(e))return jr(e);if(an(e))return function xs(e){return new Ve(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ts(e))return function Xn(e){return jr(ln(e))}(e)}throw la(e)}function jr(e){return new Ve(t=>{(function kt(e,t){var n,i,r,o;return function sa(e,t,n,i){return new(n||(n=Promise))(function(o,a){function c(w){try{g(i.next(w))}catch(E){a(E)}}function d(w){try{g(i.throw(w))}catch(E){a(E)}}function g(w){w.done?o(w.value):function r(o){return o instanceof n?o:new n(function(a){a(o)})}(w.value).then(c,d)}g((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=$i(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Pn(e,t,n,i=0,r=!1){const o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function It(e,t,n=1/0){return ze(t)?It((i,r)=>Pe((o,a)=>t(i,o,r,a))(ai(e(i,r))),n):("number"==typeof t&&(n=t),Le((i,r)=>function ho(e,t,n,i,r,o,a,c){const d=[];let g=0,w=0,E=!1;const x=()=>{E&&!d.length&&!g&&t.complete()},A=$=>g<i?F($):d.push($),F=$=>{o&&t.next($),g++;let Z=!1;ai(n($,w++)).subscribe(new Re(t,K=>{r?.(K),o?A(K):t.next(K)},()=>{Z=!0},void 0,()=>{if(Z)try{for(g--;d.length&&g<i;){const K=d.shift();a?Pn(t,a,()=>F(K)):F(K)}x()}catch(K){t.error(K)}}))};return e.subscribe(new Re(t,A,()=>{E=!0,x()})),()=>{c?.()}}(i,r,e,n)))}function Ii(e=1/0){return It(Cn,e)}const Kt=new Ve(e=>e.complete());function fo(e){return e[e.length-1]}function Hr(e){return function Il(e){return e&&ze(e.schedule)}(fo(e))?e.pop():void 0}function Ls(e,t=0){return Le((n,i)=>{n.subscribe(new Re(i,r=>Pn(i,e,()=>i.next(r),t),()=>Pn(i,e,()=>i.complete(),t),r=>Pn(i,e,()=>i.error(r),t)))})}function ca(e,t=0){return Le((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function go(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ve(n=>{Pn(n,t,()=>{const i=e[Symbol.asyncIterator]();Pn(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function ut(e,t){return t?function mo(e,t){if(null!=e){if(_n(e))return function fr(e,t){return ai(e).pipe(ca(t),Ls(t))}(e,t);if(Ss(e))return function Ps(e,t){return new Ve(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(co(e))return function Si(e,t){return ai(e).pipe(ca(t),Ls(t))}(e,t);if(Ei(e))return go(e,t);if(an(e))return function Gi(e,t){return new Ve(n=>{let i;return Pn(n,t,()=>{i=e[oi](),Pn(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){return void n.error(a)}o?n.complete():n.next(r)},0,!0)}),()=>ze(i?.return)&&i.return()})}(e,t);if(Ts(e))return function Sl(e,t){return go(ln(e),t)}(e,t)}throw la(e)}(e,t):ai(e)}function Ce(...e){return ut(e,Hr(e))}function An(e){return e<=0?()=>Kt:Le((t,n)=>{let i=0;t.subscribe(new Re(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function Xe(e={}){const{connector:t=(()=>new Je),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let a=null,c=null,d=null,g=0,w=!1,E=!1;const x=()=>{c?.unsubscribe(),c=null},A=()=>{x(),a=d=null,w=E=!1},F=()=>{const $=a;A(),$?.unsubscribe()};return Le(($,Z)=>{g++,!E&&!w&&x();const K=d=d??t();Z.add(()=>{g--,0===g&&!E&&!w&&(c=ct(F,r))}),K.subscribe(Z),a||(a=new Bt({next:V=>K.next(V),error:V=>{E=!0,x(),c=ct(A,n,V),K.error(V)},complete:()=>{w=!0,x(),c=ct(A,i),K.complete()}}),ut($).subscribe(a))})(o)}}function ct(e,t,...n){return!0===t?(e(),null):!1===t?null:t(...n).pipe(An(1)).subscribe(()=>e())}function Jt(e,t){return Le((n,i)=>{let r=null,o=0,a=!1;const c=()=>a&&!r&&i.complete();n.subscribe(new Re(i,d=>{r?.unsubscribe();let g=0;const w=o++;ai(e(d,w)).subscribe(r=new Re(i,E=>i.next(t?t(d,E,w,g++):E),()=>{r=null,c()}))},()=>{a=!0,c()}))})}function qi(e,t){return e===t}function et(e){for(let t in e)if(e[t]===et)return t;throw Error("Could not find renamed property on target object.")}function Ae(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ae).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Zi(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Ur=et({__forward_ref__:et});function un(e){return e.__forward_ref__=un,e.toString=function(){return Ae(this())},e}function de(e){return Wi(e)?e():e}function Wi(e){return"function"==typeof e&&e.hasOwnProperty(Ur)&&e.__forward_ref__===un}function Qn(e){return e&&!!e.\u0275providers}class J extends Error{constructor(t,n){super(function Lt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Fe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function Me(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function gr(e,t){throw new J(-201,!1)}function Pt(e,t){null==e&&function ye(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function _e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Rn(e){return{providers:e.providers||[],imports:e.imports||[]}}function _r(e){return zr(e,Ge)||zr(e,en)}function zr(e,t){return e.hasOwnProperty(t)?e[t]:null}function Vr(e){return e&&(e.hasOwnProperty(Os)||e.hasOwnProperty($r))?e[Os]:null}const Ge=et({\u0275prov:et}),Os=et({\u0275inj:et}),en=et({ngInjectableDef:et}),$r=et({ngInjectorDef:et});var Ne=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ne||{});let Do;function hn(e){const t=Do;return Do=e,t}function Co(e,t,n){const i=_r(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Ne.Optional?null:void 0!==t?t:void gr(Ae(e))}const tt=globalThis,yr={},js="__NG_DI_FLAG__",Xi="ngTempTokenPath",To=/\n/gm,Jn="__source";let Ki;function ui(e){const t=Ki;return Ki=e,t}function xo(e,t=Ne.Default){if(void 0===Ki)throw new J(-203,!1);return null===Ki?Co(e,void 0,t):Ki.get(e,t&Ne.Optional?null:void 0,t)}function fe(e,t=Ne.Default){return(function Fs(){return Do}()||xo)(de(e),t)}function le(e,t=Ne.Default){return fe(e,Us(t))}function Us(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function zs(e){const t=[];for(let n=0;n<e.length;n++){const i=de(e[n]);if(Array.isArray(i)){if(0===i.length)throw new J(900,!1);let r,o=Ne.Default;for(let a=0;a<i.length;a++){const c=i[a],d=kn(c);"number"==typeof d?-1===d?r=c.token:o|=d:r=c}t.push(fe(r,o))}else t.push(fe(i))}return t}function Wr(e,t){return e[js]=t,e.prototype[js]=t,e}function kn(e){return e[js]}function dn(e){return{toString:e}.toString()}var Vs=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Vs||{}),Gt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gt||{});const ei={},qe=[],Yr=et({\u0275cmp:et}),Mr=et({\u0275dir:et}),Li=et({\u0275pipe:et}),ci=et({\u0275mod:et}),bn=et({\u0275fac:et}),Xr=et({__NG_ELEMENT_ID__:et}),$s=et({__NG_ENV_ID__:et});function ga(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function On(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const o=n[i++],a=n[i++],c=n[i++];e.setAttribute(t,a,c,o)}else{const o=r,a=n[++i];Ji(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),i++}}return i}function ma(e){return 3===e||4===e||6===e}function Ji(e){return 64===e.charCodeAt(0)}function Qr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||ti(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function ti(e,t,n,i,r){let o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){const c=e[o++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=o-1;break}}}for(;o<e.length;){const c=e[o];if("number"==typeof c)break;if(c===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}const Gs="ng-template";function _a(e,t,n){let i=0,r=!0;for(;i<e.length;){let o=e[i++];if("string"==typeof o&&r){const a=e[i++];if(n&&"class"===o&&-1!==ga(a.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<e.length&&"string"==typeof(o=e[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function qs(e){return 4===e.type&&e.value!==Gs}function Zs(e,t,n){return t===(4!==e.type||n?e.value:Gs)}function Lo(e,t,n){let i=4;const r=e.attrs||[],o=function Dr(e){for(let t=0;t<e.length;t++)if(ma(e[t]))return t;return e.length}(r);let a=!1;for(let c=0;c<t.length;c++){const d=t[c];if("number"!=typeof d){if(!a)if(4&i){if(i=2|1&i,""!==d&&!Zs(e,d,n)||""===d&&1===t.length){if(fn(i))return!1;a=!0}}else{const g=8&i?d:t[++c];if(8&i&&null!==e.attrs){if(!_a(e.attrs,g,n)){if(fn(i))return!1;a=!0}continue}const E=Tt(8&i?"class":d,r,qs(e),n);if(-1===E){if(fn(i))return!1;a=!0;continue}if(""!==g){let x;x=E>o?"":r[E+1].toLowerCase();const A=8&i?x:null;if(A&&-1!==ga(A,g,0)||2&i&&g!==x){if(fn(i))return!1;a=!0}}}}else{if(!a&&!fn(i)&&!fn(d))return!1;if(a&&fn(d))continue;a=!1,i=d|1&i}}return fn(i)||a}function fn(e){return 0==(1&e)}function Tt(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){const a=t[r];if(a===e)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let c=t[++r];for(;"string"==typeof c;)c=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function Kr(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function hi(e,t,n=!1){for(let i=0;i<t.length;i++)if(Lo(e,t[i],n))return!0;return!1}function tr(e,t){return e?":not("+t.trim()+")":t}function Jr(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&i){const c=e[++n];r+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!fn(a)&&(t+=tr(o,r),r=""),i=a,o=o||!fn(i);n++}return""!==r&&(t+=tr(o,r)),t}function Po(e){return dn(()=>{const t=Fn(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Vs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gt.Emulated,styles:e.styles||qe,_:null,schemas:e.schemas||null,tView:null,id:""};No(n);const i=e.dependencies;return n.directiveDefs=es(i,!1),n.pipeDefs=es(i,!0),n.id=function kl(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Cr(e){return Qe(e)||vt(e)}function Pi(e){return null!==e}function vn(e){return dn(()=>({type:e.type,bootstrap:e.bootstrap||qe,declarations:e.declarations||qe,imports:e.imports||qe,exports:e.exports||qe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ao(e,t){if(null==e)return ei;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}function tn(e){return dn(()=>{const t=Fn(e);return No(t),t})}function Qe(e){return e[Yr]||null}function vt(e){return e[Mr]||null}function qt(e){return e[Li]||null}function yn(e,t){const n=e[ci]||null;if(!n&&!0===t)throw new Error(`Type ${Ae(e)} does not have '\u0275mod' property.`);return n}function Fn(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ei,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||qe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ao(e.inputs,t),outputs:Ao(e.outputs)}}function No(e){e.features?.forEach(t=>t(e))}function es(e,t){if(!e)return null;const n=t?qt:Cr;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(Pi)}const gt=0,se=1,we=2,ft=3,Bn=4,Er=5,Ht=6,ir=7,yt=8,pi=9,rr=10,Se=11,ns=12,s=13,l=14,h=15,m=16,y=17,S=18,N=19,j=20,z=21,Y=22,ae=23,pe=24,ue=25,gi=1,is=2,Ut=7,rs=9,zt=11;function pn(e){return Array.isArray(e)&&"object"==typeof e[gi]}function nn(e){return Array.isArray(e)&&!0===e[gi]}function wt(e){return 0!=(4&e.flags)}function ni(e){return e.componentOffset>-1}function Ws(e){return 1==(1&e.flags)}function jn(e){return!!e.template}function Ro(e){return 0!=(512&e[we])}function os(e,t){return e.hasOwnProperty(bn)?e[bn]:null}let yd=tt.WeakRef??class vd{constructor(t){this.ref=t}deref(){return this.ref}},Et=0,je=null,wa=!1;function Zt(e){const t=je;return je=e,t}class oc{constructor(){this.id=Et++,this.ref=function wd(e){return new yd(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const i=n.producerNode.deref();if(null!=i&&n.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=wa;wa=!0;try{for(const[n,i]of this.consumers){const r=i.consumerNode.deref();null!=r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),r?.producers.delete(this.id))}}finally{wa=t}}producerAccessed(){if(wa)throw new Error("");if(null===je)return;let t=je.producers.get(this.id);void 0===t?(t={consumerNode:je.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:je.trackingVersion},je.producers.set(this.id,t),this.consumers.set(je.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=je.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==je?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Ul=null;const uc=()=>{};class Md extends oc{constructor(t,n,i){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=uc,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Zt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=uc,this.watch(this.registerOnCleanup)}finally{Zt(t)}}cleanup(){this.cleanupFn()}}class Dd{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function as(){return cc}function cc(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ed),Cd}function Cd(){const e=dc(this),t=e?.current;if(t){const n=e.previous;if(n===ei)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function Ed(e,t,n,i){const r=this.declaredInputs[n],o=dc(e)||function bd(e,t){return e[hc]=t}(e,{previous:ei,current:null}),a=o.current||(o.current={}),c=o.previous,d=c[r];a[r]=new Dd(d&&d.currentValue,t,c===ei),e[i]=t}as.ngInherit=!0;const hc="__ngSimpleChanges__";function dc(e){return e[hc]||null}const Ni=function(e,t,n){};function mt(e){for(;Array.isArray(e);)e=e[gt];return e}function In(e,t){return mt(t[e.index])}function M(e,t){const n=t[e];return pn(n)?n:n[gt]}function C(e,t){return null==t?null:e[t]}function P(e){e[y]=0}function R(e){1024&e[we]||(e[we]|=1024,k(e,1))}function H(e){1024&e[we]&&(e[we]&=-1025,k(e,-1))}function k(e,t){let n=e[ft];if(null===n)return;n[Er]+=t;let i=n;for(n=n[ft];null!==n&&(1===t&&1===i[Er]||-1===t&&0===i[Er]);)n[Er]+=t,i=n,n=n[ft]}const U={lFrame:Tm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function it(){return U.bindingsEnabled}function X(){return U.lFrame.lView}function We(){return U.lFrame.tView}function wn(){let e=Mm();for(;null!==e&&64===e.type;)e=e.parent;return e}function Mm(){return U.lFrame.currentTNode}function Sr(e,t){const n=U.lFrame;n.currentTNode=e,n.isParent=t}function Td(){return U.lFrame.isParent}function kC(e,t){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ld(t)}function Ld(e){U.lFrame.currentDirectiveIndex=e}function Ad(e){U.lFrame.currentQueryIndex=e}function FC(e){const t=e[se];return 2===t.type?t.declTNode:1===t.type?e[Ht]:null}function Im(e,t,n){if(n&Ne.SkipSelf){let r=t,o=e;for(;!(r=r.parent,null!==r||n&Ne.Host||(r=FC(o),null===r||(o=o[l],10&r.type))););if(null===r)return!1;t=r,e=o}const i=U.lFrame=Sm();return i.currentTNode=t,i.lView=e,!0}function Nd(e){const t=Sm(),n=e[se];U.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Sm(){const e=U.lFrame,t=null===e?null:e.child;return null===t?Tm(e):t}function Tm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function xm(){const e=U.lFrame;return U.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Lm=xm;function Rd(){const e=xm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Fo(e){U.lFrame.selectedIndex=e}let Am=!0;function mc(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:g,ngOnDestroy:w}=o;a&&(e.contentHooks??=[]).push(-n,a),c&&((e.contentHooks??=[]).push(n,c),(e.contentCheckHooks??=[]).push(n,c)),d&&(e.viewHooks??=[]).push(-n,d),g&&((e.viewHooks??=[]).push(n,g),(e.viewCheckHooks??=[]).push(n,g)),null!=w&&(e.destroyHooks??=[]).push(n,w)}}function _c(e,t,n){Nm(e,t,3,n)}function vc(e,t,n,i){(3&e[we])===n&&Nm(e,t,n,i)}function kd(e,t){let n=e[we];(3&n)===t&&(n&=8191,n+=1,e[we]=n)}function Nm(e,t,n,i){const o=i??-1,a=t.length-1;let c=0;for(let d=void 0!==i?65535&e[y]:0;d<a;d++)if("number"==typeof t[d+1]){if(c=t[d],null!=i&&c>=i)break}else t[d]<0&&(e[y]+=65536),(c<o||-1==o)&&(GC(e,n,t,d),e[y]=(4294901760&e[y])+d+2),d++}function Rm(e,t){Ni(4,e,t);const n=Zt(null);try{t.call(e)}finally{Zt(n),Ni(5,e,t)}}function GC(e,t,n,i){const r=n[i]<0,o=n[i+1],c=e[r?-n[i]:n[i]];r?e[we]>>13<e[y]>>16&&(3&e[we])===t&&(e[we]+=8192,Rm(c,o)):Rm(c,o)}const Sa=-1;class $l{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Fd(e){return e!==Sa}function Gl(e){return 32767&e}function ql(e,t){let n=function YC(e){return e>>16}(e),i=t;for(;n>0;)i=i[l],n--;return i}let Bd=!0;function yc(e){const t=Bd;return Bd=e,t}const km=255,Om=5;let XC=0;const Tr={};function wc(e,t){const n=Fm(e,t);if(-1!==n)return n;const i=t[se];i.firstCreatePass&&(e.injectorIndex=t.length,jd(i.data,e),jd(t,null),jd(i.blueprint,null));const r=Mc(e,t),o=e.injectorIndex;if(Fd(r)){const a=Gl(r),c=ql(r,t),d=c[se].data;for(let g=0;g<8;g++)t[o+g]=c[a+g]|d[a+g]}return t[o+8]=r,o}function jd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Fm(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Mc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=Gm(r),null===i)return Sa;if(n++,r=r[l],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return Sa}function Hd(e,t,n){!function QC(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Xr)&&(i=n[Xr]),null==i&&(i=n[Xr]=XC++);const r=i&km;t.data[e+(r>>Om)]|=1<<r}(e,t,n)}function Bm(e,t,n){if(n&Ne.Optional||void 0!==e)return e;gr()}function jm(e,t,n,i){if(n&Ne.Optional&&void 0===i&&(i=null),!(n&(Ne.Self|Ne.Host))){const r=e[pi],o=hn(void 0);try{return r?r.get(t,i,n&Ne.Optional):Co(t,i,n&Ne.Optional)}finally{hn(o)}}return Bm(i,0,n)}function Hm(e,t,n,i=Ne.Default,r){if(null!==e){if(2048&t[we]&&!(i&Ne.Self)){const a=function iE(e,t,n,i,r){let o=e,a=t;for(;null!==o&&null!==a&&2048&a[we]&&!(512&a[we]);){const c=Um(o,a,n,i|Ne.Self,Tr);if(c!==Tr)return c;let d=o.parent;if(!d){const g=a[j];if(g){const w=g.get(n,Tr,i);if(w!==Tr)return w}d=Gm(a),a=a[l]}o=d}return r}(e,t,n,i,Tr);if(a!==Tr)return a}const o=Um(e,t,n,i,Tr);if(o!==Tr)return o}return jm(t,n,i,r)}function Um(e,t,n,i,r){const o=function eE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Xr)?e[Xr]:void 0;return"number"==typeof t?t>=0?t&km:nE:t}(n);if("function"==typeof o){if(!Im(t,e,i))return i&Ne.Host?Bm(r,0,i):jm(t,n,i,r);try{let a;if(a=o(i),null!=a||i&Ne.Optional)return a;gr()}finally{Lm()}}else if("number"==typeof o){let a=null,c=Fm(e,t),d=Sa,g=i&Ne.Host?t[h][Ht]:null;for((-1===c||i&Ne.SkipSelf)&&(d=-1===c?Mc(e,t):t[c+8],d!==Sa&&Vm(i,!1)?(a=t[se],c=Gl(d),t=ql(d,t)):c=-1);-1!==c;){const w=t[se];if(zm(o,c,w.data)){const E=JC(c,t,n,a,i,g);if(E!==Tr)return E}d=t[c+8],d!==Sa&&Vm(i,t[se].data[c+8]===g)&&zm(o,c,t)?(a=w,c=Gl(d),t=ql(d,t)):c=-1}}return r}function JC(e,t,n,i,r,o){const a=t[se],c=a.data[e+8],w=function Dc(e,t,n,i,r){const o=e.providerIndexes,a=t.data,c=1048575&o,d=e.directiveStart,w=o>>20,x=r?c+w:e.directiveEnd;for(let A=i?c:c+w;A<x;A++){const F=a[A];if(A<d&&n===F||A>=d&&F.type===n)return A}if(r){const A=a[d];if(A&&jn(A)&&A.type===n)return d}return null}(c,a,n,null==i?ni(c)&&Bd:i!=a&&0!=(3&c.type),r&Ne.Host&&o===c);return null!==w?Bo(t,a,w,c):Tr}function Bo(e,t,n,i){let r=e[n];const o=t.data;if(function qC(e){return e instanceof $l}(r)){const a=r;a.resolving&&function _o(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new J(-200,`Circular dependency in DI detected for ${e}${n}`)}(Fe(o[n]));const c=yc(a.canSeeViewProviders);a.resolving=!0;const g=a.injectImpl?hn(a.injectImpl):null;Im(e,i,Ne.Default);try{r=e[n]=a.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function $C(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const a=cc(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==g&&hn(g),yc(c),a.resolving=!1,Lm()}}return r}function zm(e,t,n){return!!(n[t+(e>>Om)]&1<<e)}function Vm(e,t){return!(e&Ne.Self||e&Ne.Host&&t)}class zn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Hm(this._tNode,this._lView,t,Us(i),n)}}function nE(){return new zn(wn(),X())}function Ud(e){return Wi(e)?()=>{const t=Ud(de(e));return t&&t()}:os(e)}function Gm(e){const t=e[se],n=t.type;return 2===n?t.declTNode:1===n?e[Ht]:null}const xa="__parameters__";function Pa(e,t,n){return dn(()=>{const i=function zd(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const a=new r(...o);return c.annotation=a,c;function c(d,g,w){const E=d.hasOwnProperty(xa)?d[xa]:Object.defineProperty(d,xa,{value:[]})[xa];for(;E.length<=w;)E.push(null);return(E[w]=E[w]||[]).push(a),d}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}function Na(e,t){e.forEach(n=>Array.isArray(n)?Na(n,t):t(n))}function Zm(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ec(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Ic=Wr(Pa("Optional"),8),Sc=Wr(Pa("SkipSelf"),4);function Ac(e){return 128==(128&e.flags)}var Qs=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qs||{});const Wd=new Map;let RE=0;const Xd="__ngContext__";function Sn(e,t){pn(t)?(e[Xd]=t[N],function OE(e){Wd.set(e[N],e)}(t)):e[Xd]=t}let Qd;function Kd(e,t){return Qd(e,t)}function Kl(e){const t=e[ft];return nn(t)?t[ft]:t}function p_(e){return m_(e[ns])}function g_(e){return m_(e[Bn])}function m_(e){for(;null!==e&&!nn(e);)e=e[Bn];return e}function Fa(e,t,n,i,r){if(null!=i){let o,a=!1;nn(i)?o=i:pn(i)&&(a=!0,i=i[gt]);const c=mt(i);0===e&&null!==n?null==r?w_(t,n,c):jo(t,n,c,r||null,!0):1===e&&null!==n?jo(t,n,c,r||null,!0):2===e?function jc(e,t,n){const i=Fc(e,t);i&&function tb(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,c,a):3===e&&t.destroyNode(c),null!=o&&function rb(e,t,n,i,r){const o=n[Ut];o!==mt(n)&&Fa(t,e,i,o,r);for(let c=zt;c<n.length;c++){const d=n[c];eu(d[se],d,e,t,i,o)}}(t,e,o,n,r)}}function kc(e,t,n){return e.createElement(t,n)}function v_(e,t){const n=e[rs],i=n.indexOf(t);H(t),n.splice(i,1)}function Oc(e,t){if(e.length<=zt)return;const n=zt+t,i=e[n];if(i){const r=i[m];null!==r&&r!==e&&v_(r,i),t>0&&(e[n-1][Bn]=i[Bn]);const o=Ec(e,zt+t);!function ZE(e,t){eu(e,t,t[Se],2,null,null),t[gt]=null,t[Ht]=null}(i[se],i);const a=o[S];null!==a&&a.detachView(o[se]),i[ft]=null,i[Bn]=null,i[we]&=-129}return i}function ef(e,t){if(!(256&t[we])){const n=t[Se];t[ae]?.destroy(),t[pe]?.destroy(),n.destroyNode&&eu(e,t,n,3,null,null),function XE(e){let t=e[ns];if(!t)return tf(e[se],e);for(;t;){let n=null;if(pn(t))n=t[ns];else{const i=t[zt];i&&(n=i)}if(!n){for(;t&&!t[Bn]&&t!==e;)pn(t)&&tf(t[se],t),t=t[ft];null===t&&(t=e),pn(t)&&tf(t[se],t),n=t&&t[Bn]}t=n}}(t)}}function tf(e,t){if(!(256&t[we])){t[we]&=-129,t[we]|=256,function eb(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof $l)){const o=n[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const c=r[o[a]],d=o[a+1];Ni(4,c,d);try{d.call(c)}finally{Ni(5,c,d)}}else{Ni(4,r,o);try{o.call(r)}finally{Ni(5,r,o)}}}}}(e,t),function JE(e,t){const n=e.cleanup,i=t[ir];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const a=n[o+3];a>=0?i[a]():i[-a].unsubscribe(),o+=2}else n[o].call(i[n[o+1]]);null!==i&&(t[ir]=null);const r=t[z];if(null!==r){t[z]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(e,t),1===t[se].type&&t[Se].destroy();const n=t[m];if(null!==n&&nn(t[ft])){n!==t[ft]&&v_(n,t);const i=t[S];null!==i&&i.detachView(e)}!function FE(e){Wd.delete(e[N])}(t)}}function nf(e,t,n){return function y_(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[gt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=e.data[i.directiveStart+r];if(o===Gt.None||o===Gt.Emulated)return null}return In(i,n)}}(e,t.parent,n)}function jo(e,t,n,i,r){e.insertBefore(t,n,i,r)}function w_(e,t,n){e.appendChild(t,n)}function M_(e,t,n,i,r){null!==i?jo(e,t,n,i,r):w_(e,t,n)}function Fc(e,t){return e.parentNode(t)}let rf,uf,E_=function C_(e,t,n){return 40&e.type?In(e,n):null};function Bc(e,t,n,i){const r=nf(e,i,t),o=t[Se],c=function D_(e,t,n){return E_(e,t,n)}(i.parent||t[Ht],i,t);if(null!=r)if(Array.isArray(n))for(let d=0;d<n.length;d++)M_(o,r,n[d],c,!1);else M_(o,r,n,c,!1);void 0!==rf&&rf(o,i,t,n,r)}function Jl(e,t){if(null!==t){const n=t.type;if(3&n)return In(t,e);if(4&n)return sf(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Jl(e,i);{const r=e[t.index];return nn(r)?sf(-1,r):mt(r)}}if(32&n)return Kd(t,e)()||mt(e[t.index]);{const i=I_(e,t);return null!==i?Array.isArray(i)?i[0]:Jl(Kl(e[h]),i):Jl(e,t.next)}}return null}function I_(e,t){return null!==t?e[h][Ht].projection[t.projection]:null}function sf(e,t){const n=zt+e+1;if(n<t.length){const i=t[n],r=i[se].firstChild;if(null!==r)return Jl(i,r)}return t[Ut]}function af(e,t,n,i,r,o,a){for(;null!=n;){const c=i[n.index],d=n.type;if(a&&0===t&&(c&&Sn(mt(c),i),n.flags|=2),32!=(32&n.flags))if(8&d)af(e,t,n.child,i,r,o,!1),Fa(t,e,r,c,o);else if(32&d){const g=Kd(n,i);let w;for(;w=g();)Fa(t,e,r,w,o);Fa(t,e,r,c,o)}else 16&d?T_(e,t,i,n,r,o):Fa(t,e,r,c,o);n=a?n.projectionNext:n.next}}function eu(e,t,n,i,r,o){af(n,i,e.firstChild,t,r,o,!1)}function T_(e,t,n,i,r,o){const a=n[h],d=a[Ht].projection[i.projection];if(Array.isArray(d))for(let g=0;g<d.length;g++)Fa(t,e,r,d[g],o);else{let g=d;const w=a[ft];Ac(i)&&(g.flags|=128),af(e,t,g,w,r,o,!0)}}function x_(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function L_(e,t,n){const{mergedAttrs:i,classes:r,styles:o}=n;null!==i&&On(e,t,i),null!==r&&x_(e,t,r),null!==o&&function ob(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}class ge{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ru=new ge("ENVIRONMENT_INITIALIZER"),$_=new ge("INJECTOR",-1),G_=new ge("INJECTOR_DEF_TYPES");class gf{get(t,n=yr){if(n===yr){const i=new Error(`NullInjectorError: No provider for ${Ae(t)}!`);throw i.name="NullInjectorError",i}return n}}function Nb(...e){return{\u0275providers:q_(0,e),\u0275fromNgModule:!0}}function q_(e,...t){const n=[],i=new Set;let r;const o=a=>{n.push(a)};return Na(t,a=>{const c=a;Vc(c,o,[],i)&&(r||=[],r.push(c))}),void 0!==r&&Z_(r,o),n}function Z_(e,t){for(let n=0;n<e.length;n++){const{ngModule:i,providers:r}=e[n];_f(r,o=>{t(o,i)})}}function Vc(e,t,n,i){if(!(e=de(e)))return!1;let r=null,o=Vr(e);const a=!o&&Qe(e);if(o||a){if(a&&!a.standalone)return!1;r=e}else{const d=e.ngModule;if(o=Vr(d),!o)return!1;r=d}const c=i.has(r);if(a){if(c)return!1;if(i.add(r),a.dependencies){const d="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const g of d)Vc(g,t,n,i)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let g;i.add(r);try{Na(o.imports,w=>{Vc(w,t,n,i)&&(g||=[],g.push(w))})}finally{}void 0!==g&&Z_(g,t)}if(!c){const g=os(r)||(()=>new r);t({provide:r,useFactory:g,deps:qe},r),t({provide:G_,useValue:r,multi:!0},r),t({provide:ru,useValue:()=>fe(r),multi:!0},r)}const d=o.providers;if(null!=d&&!c){const g=e;_f(d,w=>{t(w,g)})}}}return r!==e&&void 0!==e.providers}function _f(e,t){for(let n of e)Qn(n)&&(n=n.\u0275providers),Array.isArray(n)?_f(n,t):t(n)}const Rb=et({provide:String,useValue:et});function vf(e){return null!==e&&"object"==typeof e&&Rb in e}function Ho(e){return"function"==typeof e}const yf=new ge("Set Injector scope."),$c={},Ob={};let wf;function Gc(){return void 0===wf&&(wf=new gf),wf}class _i{}class qc extends _i{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Df(t,a=>this.processProvider(a)),this.records.set($_,Ua(void 0,this)),r.has("environment")&&this.records.set(_i,Ua(void 0,this));const o=this.records.get(yf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(G_.multi,qe,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ui(this),i=hn(void 0);try{return t()}finally{ui(n),hn(i)}}get(t,n=yr,i=Ne.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($s))return t[$s](this);i=Us(i);const o=ui(this),a=hn(void 0);try{if(!(i&Ne.SkipSelf)){let d=this.records.get(t);if(void 0===d){const g=function Ub(e){return"function"==typeof e||"object"==typeof e&&e instanceof ge}(t)&&_r(t);d=g&&this.injectableDefInScope(g)?Ua(Mf(t),$c):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(i&Ne.Self?Gc():this.parent).get(t,n=i&Ne.Optional&&n===yr?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[Xi]=c[Xi]||[]).unshift(Ae(t)),o)throw c;return function wr(e,t,n,i){const r=e[Xi];throw t[Jn]&&r.unshift(t[Jn]),e.message=function Al(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Ae(t);if(Array.isArray(t))r=t.map(Ae).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];o.push(a+":"+("string"==typeof c?JSON.stringify(c):Ae(c)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(To,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Xi]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{hn(a),ui(o)}}resolveInjectorInitializers(){const t=ui(this),n=hn(void 0);try{const r=this.get(ru.multi,qe,Ne.Self);for(const o of r)o()}finally{ui(t),hn(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Ae(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(t){let n=Ho(t=de(t))?t:de(t&&t.provide);const i=function Bb(e){return vf(e)?Ua(void 0,e.useValue):Ua(function X_(e,t,n){let i;if(Ho(e)){const r=de(e);return os(r)||Mf(r)}if(vf(e))i=()=>de(e.useValue);else if(function Y_(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...zs(e.deps||[]));else if(function W_(e){return!(!e||!e.useExisting)}(e))i=()=>fe(de(e.useExisting));else{const r=de(e&&(e.useClass||e.provide));if(!function jb(e){return!!e.deps}(e))return os(r)||Mf(r);i=()=>new r(...zs(e.deps))}return i}(e),$c)}(t);if(Ho(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=Ua(void 0,$c,!0),r.factory=()=>zs(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===$c&&(n.value=Ob,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Hb(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=de(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Mf(e){const t=_r(e),n=null!==t?t.factory:os(e);if(null!==n)return n;if(e instanceof ge)throw new J(204,!1);if(e instanceof Function)return function Fb(e){const t=e.length;if(t>0)throw function Yl(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new J(204,!1);const n=function xl(e){return e&&(e[Ge]||e[en])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new J(204,!1)}function Ua(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Df(e,t){for(const n of e)Array.isArray(n)?Df(n,t):n&&Qn(n)?Df(n.\u0275providers,t):t(n)}const Zc=new ge("AppId",{providedIn:"root",factory:()=>zb}),zb="ng",Q_=new ge("Platform Initializer"),Uo=new ge("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K_=new ge("CSP nonce",{providedIn:"root",factory:()=>function ja(){if(void 0!==uf)return uf;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ev=(e,t,n)=>null;function xf(e,t,n=!1){return ev(e,t,n)}class Kb{}class iv{}class e1{resolveComponentFactory(t){throw function Jb(e){const t=Error(`No component factory found for ${Ae(e)}.`);return t.ngComponent=e,t}(t)}}let Jc=(()=>{class t{}return t.NULL=new e1,t})();function t1(){return Va(wn(),X())}function Va(e,t){return new Js(In(e,t))}let Js=(()=>{class t{constructor(i){this.nativeElement=i}}return t.__NG_ELEMENT_ID__=t1,t})();class sv{}let r1=(()=>{var e;class t{}return(e=t).\u0275prov=_e({token:e,providedIn:"root",factory:()=>null}),t})();class th{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const s1=new th("16.2.0"),Af={};function uv(e,t=null,n=null,i){const r=cv(e,t,n,i);return r.resolveInjectorInitializers(),r}function cv(e,t=null,n=null,i,r=new Set){const o=[n||qe,Nb(e)];return i=i||("object"==typeof e?void 0:Ae(e)),new qc(o,t||Gc(),i||null,r)}let Oi=(()=>{var e;class t{static create(i,r){if(Array.isArray(i))return uv({name:""},r,i,"");{const o=i.name??"";return uv({name:o},i.parent,i.providers,o)}}}return(e=t).THROW_IF_NOT_FOUND=yr,e.NULL=new gf,e.\u0275prov=_e({token:e,providedIn:"any",factory:()=>fe($_)}),e.__NG_ELEMENT_ID__=-1,t})();function ds(e){return e instanceof Function?e():e}let kf=(()=>{var e;class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new J(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const i of this.callbacks)i.invoke()}finally{this.runningCallbacks=!1;for(const i of this.deferredCallbacks)this.callbacks.add(i);this.deferredCallbacks.clear()}}register(i){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(i)}unregister(i){this.callbacks.delete(i),this.deferredCallbacks.delete(i)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(e=t).\u0275prov=_e({token:e,providedIn:"root",factory:()=>new e}),t})();function lu(e){for(;e;){e[we]|=64;const t=Kl(e);if(Ro(e)&&!t)return e;e=t}return null}function Of(e){return e.ngOriginalError}class zo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Of(t);for(;n&&Of(n);)n=Of(n);return n||null}}const gv=new ge("",{providedIn:"root",factory:()=>!1});class yv extends oc{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){lu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,i){const r=Zt(this);this.trackingVersion++;try{t(n,i)}finally{Zt(r)}}destroy(){this.trackingVersion++}}let ih=null;function wv(){return ih??=new yv,ih}function Mv(e,t){return e[t]??wv()}function Dv(e,t){const n=wv();n.hasReadASignal&&(e[t]=ih,n.lView=e,ih=new yv)}const ke={};function Te(e,t=Ne.Default){const n=X();return null===n?fe(e,t):Hm(wn(),n,de(e),t)}function rh(e,t,n,i,r,o,a,c,d,g,w){const E=t.blueprint.slice();return E[gt]=r,E[we]=140|i,(null!==g||e&&2048&e[we])&&(E[we]|=2048),P(E),E[ft]=E[l]=e,E[yt]=n,E[rr]=a||e&&e[rr],E[Se]=c||e&&e[Se],E[pi]=d||e&&e[pi]||null,E[Ht]=o,E[N]=function kE(){return RE++}(),E[Y]=w,E[j]=g,E[h]=2==t.type?e[h]:E,E}function qa(e,t,n,i,r){let o=e.data[t];if(null===o)o=function Ff(e,t,n,i,r){const o=Mm(),a=Td(),d=e.data[t]=function x1(e,t,n,i,r,o){let a=t?t.injectorIndex:-1,c=0;return function He(){return null!==U.skipHydrationRootTNode}()&&(c|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=d),null!==o&&(a?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d,d.prev=o)),d}(e,t,n,i,r),function RC(){return U.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const a=function Vl(){const e=U.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return Sr(o,!0),o}function uu(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function bv(e,t,n,i,r){const o=Mv(t,ae),a=function Un(){return U.lFrame.selectedIndex}(),c=2&i;try{if(Fo(-1),c&&t.length>ue&&function Cv(e,t,n,i){if(!i)if(3==(3&t[we])){const o=e.preOrderCheckHooks;null!==o&&_c(t,o,n)}else{const o=e.preOrderHooks;null!==o&&vc(t,o,0,n)}Fo(n)}(e,t,ue,!1),Ni(c?2:0,r),c)o.runInContext(n,i,r);else{const g=Zt(null);try{n(i,r)}finally{Zt(g)}}}finally{c&&null===t[ae]&&Dv(t,ae),Fo(a),Ni(c?3:1,r)}}function Bf(e,t,n){if(wt(t)){const i=Zt(null);try{const o=t.directiveEnd;for(let a=t.directiveStart;a<o;a++){const c=e.data[a];c.contentQueries&&c.contentQueries(1,n[a],a)}}finally{Zt(i)}}}function Iv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Uf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Uf(e,t,n,i,r,o,a,c,d,g,w){const E=ue+i,x=E+r,A=function C1(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:ke);return n}(E,x),F="function"==typeof g?g():g;return A[se]={type:e,blueprint:A,template:n,queries:null,viewQuery:c,declTNode:t,data:A.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:d,consts:F,incompleteFirstPass:!1,ssrId:w}}let Sv=e=>null;function Tv(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const o=e[r];null===i?xv(n,t,r,o):i.hasOwnProperty(r)&&xv(n,t,i[r],o)}return n}function xv(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function Lv(e,t,n,i,r,o){for(let g=0;g<i.length;g++)Hd(wc(n,t),e,i[g].type);!function U1(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let g=0;g<i.length;g++){const w=i[g];w.providersResolver&&w.providersResolver(w)}let a=!1,c=!1,d=uu(e,t,i.length,null);for(let g=0;g<i.length;g++){const w=i[g];n.mergedAttrs=Qr(n.mergedAttrs,w.hostAttrs),z1(e,n,t,d,w),H1(d,w,r),null!==w.contentQueries&&(n.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(n.flags|=64);const E=w.type.prototype;!a&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),a=!0),!c&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}!function L1(e,t,n){const r=t.directiveEnd,o=e.data,a=t.attrs,c=[];let d=null,g=null;for(let w=t.directiveStart;w<r;w++){const E=o[w],x=n?n.get(E):null,F=x?x.outputs:null;d=Tv(E.inputs,w,d,x?x.inputs:null),g=Tv(E.outputs,w,g,F);const $=null===d||null===a||qs(t)?null:G1(d,w,a);c.push($)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=d,t.outputs=g}(e,n,o)}function Pv(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,a=function OC(){return U.lFrame.currentDirectiveIndex}();try{Fo(o);for(let c=i;c<r;c++){const d=e.data[c],g=t[c];Ld(c),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&F1(d,g)}}finally{Fo(-1),Ld(a)}}function F1(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Vf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function H1(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;jn(t)&&(n[""]=e)}}function z1(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=os(r.type)),a=new $l(o,jn(r),Te);e.blueprint[i]=a,n[i]=a,function R1(e,t,n,i,r){const o=r.hostBindings;if(o){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const c=~t.index;(function k1(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=c&&a.push(c),a.push(n,i,o)}}(e,t,i,uu(e,n,r.hostVars,ke),r)}function $1(e,t,n,i,r,o){const a=o[t];if(null!==a)for(let c=0;c<a.length;)Av(i,n,a[c++],a[c++],a[c++])}function Av(e,t,n,i,r){const o=Zt(null);try{const a=e.inputTransforms;null!==a&&a.hasOwnProperty(i)&&(r=a[i].call(t,r)),null!==e.setInput?e.setInput(t,r,n,i):t[i]=r}finally{Zt(o)}}function G1(e,t,n){let i=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===i&&(i=[]);const a=e[o];for(let c=0;c<a.length;c+=2)if(a[c]===t){i.push(o,a[c+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Rv(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const o=n[i+1];if(-1!==o){const a=e.data[o];Ad(n[i]),a.contentQueries(2,t[o],o)}}}function sh(e,t){return e[ns]?e[s][Bn]=t:e[ns]=t,e[s]=t,t}function Gf(e,t,n){Ad(0);const i=Zt(null);try{t(e,n)}finally{Zt(i)}}function Bv(e,t){const n=e[pi],i=n?n.get(zo,null):null;i&&i.handleError(t)}function qf(e,t,n,i,r){for(let o=0;o<n.length;){const a=n[o++],c=n[o++];Av(e.data[a],t[a],i,c,r)}}function q1(e,t){const n=M(t,e),i=n[se];!function Z1(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n);const r=n[gt];null!==r&&null===n[Y]&&(n[Y]=xf(r,n[pi])),Zf(i,n,n[yt])}function Zf(e,t,n){Nd(t);try{const i=e.viewQuery;null!==i&&Gf(1,i,n);const r=e.template;null!==r&&bv(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rv(e,t),e.staticViewQueries&&Gf(2,e.viewQuery,n);const o=e.components;null!==o&&function W1(e,t){for(let n=0;n<t.length;n++)q1(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[we]&=-5,Rd()}}let jv=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(i,r,o){const a=typeof Zone>"u"?null:Zone.current,c=new Md(i,w=>{this.all.has(w)&&this.queue.set(w,a)},o);let d;this.all.add(c),c.notify();const g=()=>{c.cleanup(),d?.(),this.all.delete(c),this.queue.delete(c)};return d=r?.onDestroy(g),{destroy:g}}flush(){if(0!==this.queue.size)for(const[i,r]of this.queue)this.queue.delete(i),r?r.run(()=>i.run()):i.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=_e({token:e,providedIn:"root",factory:()=>new e}),t})();function oh(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?o=c:1==o?r=Zi(r,c):2==o&&(i=Zi(i,c+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function cu(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(mt(o)),nn(o)){for(let c=zt;c<o.length;c++){const d=o[c],g=d[se].firstChild;null!==g&&cu(d[se],d,g,i)}o[Ut]!==o[gt]&&i.push(o[Ut])}const a=n.type;if(8&a)cu(e,t,n.child,i);else if(32&a){const c=Kd(n,t);let d;for(;d=c();)i.push(d)}else if(16&a){const c=I_(t,n);if(Array.isArray(c))i.push(...c);else{const d=Kl(t[h]);cu(d[se],d,c,i,!0)}}n=r?n.projectionNext:n.next}return i}function ah(e,t,n,i=!0){const r=t[rr],o=r.rendererFactory,a=r.afterRenderEventManager;o.begin?.(),a?.begin();try{Hv(e,t,e.template,n)}catch(d){throw i&&Bv(t,d),d}finally{o.end?.(),r.effectManager?.flush(),a?.end()}}function Hv(e,t,n,i){const r=t[we];if(256!=(256&r)){t[rr].effectManager?.flush(),Nd(t);try{P(t),function Cm(e){return U.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&bv(e,t,n,2,i);const a=3==(3&r);if(a){const g=e.preOrderCheckHooks;null!==g&&_c(t,g,null)}else{const g=e.preOrderHooks;null!==g&&vc(t,g,0,null),kd(t,0)}if(function Q1(e){for(let t=p_(e);null!==t;t=g_(t)){if(!t[is])continue;const n=t[rs];for(let i=0;i<n.length;i++){R(n[i])}}}(t),Uv(t,2),null!==e.contentQueries&&Rv(e,t),a){const g=e.contentCheckHooks;null!==g&&_c(t,g)}else{const g=e.contentHooks;null!==g&&vc(t,g,1),kd(t,1)}!function D1(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const i=Mv(t,pe);try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Fo(~o);else{const a=o,c=n[++r],d=n[++r];kC(c,a),i.runInContext(d,2,t[a])}}}finally{null===t[pe]&&Dv(t,pe),Fo(-1)}}(e,t);const c=e.components;null!==c&&Vv(t,c,0);const d=e.viewQuery;if(null!==d&&Gf(2,d,i),a){const g=e.viewCheckHooks;null!==g&&_c(t,g)}else{const g=e.viewHooks;null!==g&&vc(t,g,2),kd(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[we]&=-73,H(t)}finally{Rd()}}}function Uv(e,t){for(let n=p_(e);null!==n;n=g_(n))for(let i=zt;i<n.length;i++)zv(n[i],t)}function K1(e,t,n){zv(M(t,e),n)}function zv(e,t){if(!function b(e){return 128==(128&e[we])}(e))return;const n=e[se];if(80&e[we]&&0===t||1024&e[we]||2===t)Hv(n,e,n.template,e[yt]);else if(e[Er]>0){Uv(e,1);const r=e[se].components;null!==r&&Vv(e,r,1)}}function Vv(e,t,n){for(let i=0;i<t.length;i++)K1(e,t[i],n)}class hu{get rootNodes(){const t=this._lView,n=t[se];return cu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[yt]}set context(t){this._lView[yt]=t}get destroyed(){return 256==(256&this._lView[we])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ft];if(nn(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(Oc(t,i),Ec(n,i))}this._attachedToViewContainer=!1}ef(this._lView[se],this._lView)}onDestroy(t){!function q(e,t){if(256==(256&e[we]))throw new J(911,!1);null===e[z]&&(e[z]=[]),e[z].push(t)}(this._lView,t)}markForCheck(){lu(this._cdRefInjectingView||this._lView)}detach(){this._lView[we]&=-129}reattach(){this._lView[we]|=128}detectChanges(){ah(this._lView[se],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function YE(e,t){eu(e,t,t[Se],2,null,null)}(this._lView[se],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=t}}class J1 extends hu{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ah(t[se],t,t[yt],!1)}checkNoChanges(){}get context(){return null}}class $v extends Jc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Qe(t);return new du(n,this.ngModule)}}function Gv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class tI{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=Us(i);const r=this.injector.get(t,Af,i);return r!==Af||n===Af?r:this.parentInjector.get(t,n,i)}}class du extends iv{get inputs(){const t=this.componentDef,n=t.inputTransforms,i=Gv(t.inputs);if(null!==n)for(const r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return Gv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Nl(e){return e.map(Jr).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=(r=r||this.ngModule)instanceof _i?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new tI(t,o):t,c=a.get(sv,null);if(null===c)throw new J(407,!1);const E={rendererFactory:c,sanitizer:a.get(r1,null),effectManager:a.get(jv,null),afterRenderEventManager:a.get(kf,null)},x=c.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",F=i?function E1(e,t,n,i){const o=i.get(gv,!1)||n===Gt.ShadowDom,a=e.selectRootElement(t,o);return function b1(e){Sv(e)}(a),a}(x,i,this.componentDef.encapsulation,a):kc(x,A,function eI(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(A)),K=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let V=null;null!==F&&(V=xf(F,a,!0));const me=Uf(0,null,null,1,0,null,null,null,null,null,null),he=rh(null,me,null,K,null,null,E,x,a,null,V);let Ue,Mn;Nd(he);try{const Mi=this.componentDef;let ta,gd=null;Mi.findHostDirectiveDefs?(ta=[],gd=new Map,Mi.findHostDirectiveDefs(Mi,ta,gd),ta.push(Mi)):ta=[Mi];const u2=function iI(e,t){const n=e[se],i=ue;return e[i]=t,qa(n,i,2,"#host",null)}(he,F),c2=function rI(e,t,n,i,r,o,a){const c=r[se];!function sI(e,t,n,i){for(const r of e)t.mergedAttrs=Qr(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(oh(t,t.mergedAttrs,!0),null!==n&&L_(i,n,t))}(i,e,t,a);let d=null;null!==t&&(d=xf(t,r[pi]));const g=o.rendererFactory.createRenderer(t,n);let w=16;n.signals?w=4096:n.onPush&&(w=64);const E=rh(r,Iv(n),null,w,r[e.index],e,o,g,null,null,d);return c.firstCreatePass&&Vf(c,e,i.length-1),sh(r,E),r[e.index]=E}(u2,F,Mi,ta,he,E,x);Mn=function f(e,t){return e.data[t]}(me,ue),F&&function aI(e,t,n,i){if(i)On(e,n,["ng-version",s1.full]);else{const{attrs:r,classes:o}=function va(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!fn(r))break;r=o}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&On(e,n,r),o&&o.length>0&&x_(e,n,o.join(" "))}}(x,Mi,F,i),void 0!==n&&function lI(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const o=n[r];i.push(null!=o?Array.from(o):null)}}(Mn,this.ngContentSelectors,n),Ue=function oI(e,t,n,i,r,o){const a=wn(),c=r[se],d=In(a,r);Lv(c,r,a,n,null,i);for(let w=0;w<n.length;w++)Sn(Bo(r,c,a.directiveStart+w,a),r);Pv(c,r,a),d&&Sn(d,r);const g=Bo(r,c,a.directiveStart+a.componentOffset,a);if(e[yt]=r[yt]=g,null!==o)for(const w of o)w(g,t);return Bf(c,a,e),g}(c2,Mi,ta,gd,he,[uI]),Zf(me,he,null)}finally{Rd()}return new nI(this.componentType,Ue,Va(Mn,he),he,Mn)}}class nI extends Kb{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new J1(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;qf(o[se],o,r,t,n),this.previousInputValues.set(t,n),lu(M(this._tNode.index,o))}}get injector(){return new zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function uI(){const e=wn();mc(X()[se],e)}function tp(e,t,n,i,r){const a=r?"class":"style";qf(e,n,t.inputs[a],a,i)}function ph(e,t,n,i){const r=X(),o=We(),a=ue+e,c=r[Se],d=o.firstCreatePass?function $I(e,t,n,i,r,o){const a=t.consts,d=qa(t,e,2,i,C(a,r));return function zf(e,t,n,i){if(it()){const r=null===i?null:{"":-1},o=function B1(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let o=0;o<n.length;o++){const a=n[o];if(hi(t,a.selectors,!1))if(i||(i=[]),jn(a))if(null!==a.findHostDirectiveDefs){const c=[];r=r||new Map,a.findHostDirectiveDefs(a,c,r),i.unshift(...c,a),Vf(e,t,c.length)}else i.unshift(a),Vf(e,t,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(e,n);let a,c;null===o?a=c=null:[a,c]=o,null!==a&&Lv(e,t,n,a,r,c),r&&function j1(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const o=n[t[r+1]];if(null==o)throw new J(-301,!1);i.push(t[r],o)}}}(n,i,r)}n.mergedAttrs=Qr(n.mergedAttrs,n.attrs)}(t,n,d,C(a,o)),null!==d.attrs&&oh(d,d.attrs,!1),null!==d.mergedAttrs&&oh(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(a,o,r,t,n,i):o.data[a],g=fy(o,r,d,c,t,e);r[a]=g;const w=Ws(d);return Sr(d,!0),L_(c,g,d),32!=(32&d.flags)&&function gc(){return Am}()&&Bc(o,r,g,d),0===function ve(){return U.lFrame.elementDepthCount}()&&Sn(g,r),function Oe(){U.lFrame.elementDepthCount++}(),w&&(function jf(e,t,n){it()&&(function O1(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;ni(n)&&function V1(e,t,n){const i=In(t,e),r=Iv(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const c=sh(e,rh(e,r,null,a,i,t,null,e[rr].rendererFactory.createRenderer(i,n),null,null,null));e[t.index]=c}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||wc(n,t),Sn(i,t);const a=n.initialInputs;for(let c=r;c<o;c++){const d=e.data[c],g=Bo(t,e,c,n);Sn(g,t),null!==a&&$1(0,c-r,g,d,0,a),jn(d)&&(M(n.index,t)[yt]=Bo(t,e,c,n))}}(e,t,n,In(n,t)),64==(64&n.flags)&&Pv(e,t,n))}(o,r,d),Bf(o,d,r)),null!==i&&function Hf(e,t,n=In){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],c=-1===a?n(t,e):e[a];e[r++]=c}}}(r,d),ph}function gh(){let e=wn();Td()?function xd(){U.lFrame.isParent=!1}():(e=e.parent,Sr(e,!1));const t=e;(function rt(e){return U.skipHydrationRootTNode===e})(t)&&function ls(){U.skipHydrationRootTNode=null}(),function Ze(){U.lFrame.elementDepthCount--}();const n=We();return n.firstCreatePass&&(mc(n,e),wt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ZC(e){return 0!=(8&e.flags)}(t)&&tp(n,t,X(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function WC(e){return 0!=(16&e.flags)}(t)&&tp(n,t,X(),t.stylesWithoutHost,!1),gh}function np(e,t,n,i){return ph(e,t,n,i),gh(),np}let fy=(e,t,n,i,r,o)=>(function Xs(e){Am=e}(!0),kc(i,r,function Pm(){return U.lFrame.currentNamespace}()));function mh(e){return!!e&&"function"==typeof e.then}function my(e){return!!e&&"function"==typeof e.subscribe}function _h(e,t,n,i){const r=X(),o=We(),a=wn();return function vy(e,t,n,i,r,o,a){const c=Ws(i),g=e.firstCreatePass&&function Ov(e){return e.cleanup||(e.cleanup=[])}(e),w=t[yt],E=function kv(e){return e[ir]||(e[ir]=[])}(t);let x=!0;if(3&i.type||a){const $=In(i,t),Z=a?a($):$,K=E.length,V=a?he=>a(mt(he[i.index])):i.index;let me=null;if(!a&&c&&(me=function QI(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===n&&r[o+1]===i){const c=t[ir],d=r[o+2];return c.length>d?c[d]:null}"string"==typeof a&&(o+=2)}return null}(e,t,r,i.index)),null!==me)(me.__ngLastListenerFn__||me).__ngNextListenerFn__=o,me.__ngLastListenerFn__=o,x=!1;else{o=wy(i,t,w,o,!1);const he=n.listen(Z,r,o);E.push(o,he),g&&g.push(r,V,K,K+1)}}else o=wy(i,t,w,o,!1);const A=i.outputs;let F;if(x&&null!==A&&(F=A[r])){const $=F.length;if($)for(let Z=0;Z<$;Z+=2){const Ue=t[F[Z]][F[Z+1]].subscribe(o),Mn=E.length;E.push(o,Ue),g&&g.push(r,i.index,Mn,-(Mn+1))}}}(o,r,r[Se],a,e,t,i),_h}function yy(e,t,n,i){try{return Ni(6,t,n),!1!==n(i)}catch(r){return Bv(e,r),!1}finally{Ni(7,t,n)}}function wy(e,t,n,i,r){return function o(a){if(a===Function)return i;lu(e.componentOffset>-1?M(e.index,t):t);let d=yy(t,n,i,a),g=o.__ngNextListenerFn__;for(;g;)d=yy(t,n,g,a)&&d,g=g.__ngNextListenerFn__;return r&&!1===d&&a.preventDefault(),d}}const rl="en-US";let g0=rl;class qo{}class U0{}class _p extends qo{constructor(t,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $v(this);const r=yn(t);this._bootstrapComponents=ds(r.bootstrap),this._r3Injector=cv(t,n,[{provide:qo,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver},...i],Ae(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vp extends U0{constructor(t){super(),this.moduleType=t}create(t){return new _p(this.moduleType,t,[])}}class z0 extends qo{constructor(t){super(),this.componentFactoryResolver=new $v(this),this.instance=null;const n=new qc([...t.providers,{provide:qo,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],t.parent||Gc(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function yp(e,t,n=null){return new z0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let YT=(()=>{var e;class t{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const r=q_(0,i.type),o=r.length>0?yp([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=_e({token:e,providedIn:"environment",factory:()=>new e(fe(_i))}),t})();function V0(e){e.getStandaloneInjector=t=>t.get(YT).getOrCreateStandaloneInjector(e)}function Mp(e){return t=>{setTimeout(e,void 0,t)}}const $n=class Mx extends Je{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,o=n||(()=>null),a=i;if(t&&"object"==typeof t){const d=t;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=Mp(o),r&&(r=Mp(r)),a&&(a=Mp(a)));const c=super.subscribe({next:r,error:o,complete:a});return t instanceof B&&t.add(c),c}};function Ex(e,t,n,i=!0){const r=t[se];if(function QE(e,t,n,i){const r=zt+i,o=n.length;i>0&&(n[r-1][Bn]=t),i<o-zt?(t[Bn]=n[r],Zm(n,zt+i,t)):(n.push(t),t[Bn]=null),t[ft]=n;const a=t[m];null!==a&&n!==a&&function KE(e,t){const n=e[rs];t[h]!==t[ft][ft][h]&&(e[is]=!0),null===n?e[rs]=[t]:n.push(t)}(a,t);const c=t[S];null!==c&&c.insertView(e),t[we]|=128}(r,t,e,n),i){const o=sf(n,e),a=t[Se],c=Fc(a,e[Ut]);null!==c&&function WE(e,t,n,i,r,o){i[gt]=r,i[Ht]=t,eu(e,i,n,1,r,o)}(r,e[Ht],a,t,c,o)}}let ar=(()=>{class t{}return t.__NG_ELEMENT_ID__=Nx,t})();function Nx(){return function aw(e,t){let n;const i=t[e.index];return nn(i)?n=i:(n=function Nv(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null,null]}(i,t,null,e),t[e.index]=n,sh(t,n)),lw(n,t,e,i),new sw(n,e,t)}(wn(),X())}const Rx=ar,sw=class extends Rx{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Va(this._hostTNode,this._hostLView)}get injector(){return new zn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Mc(this._hostTNode,this._hostLView);if(Fd(t)){const n=ql(t,this._hostLView),i=Gl(t);return new zn(n[se].data[i+8],n)}return new zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ow(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(t,n,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const c=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(c,r,false),c}createComponent(t,n,i,r,o){const a=t&&!function Wl(e){return"function"==typeof e}(t);let c;if(a)c=n;else{const $=n||{};c=$.index,i=$.injector,r=$.projectableNodes,o=$.environmentInjector||$.ngModuleRef}const d=a?t:new du(Qe(t)),g=i||this.parentInjector;if(!o&&null==d.ngModule){const Z=(a?g:this.parentInjector).get(_i,null);Z&&(o=Z)}Qe(d.componentType??{});const A=d.create(g,r,null,o);return this.insertImpl(A.hostView,c,false),A}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,i){const r=t._lView;if(function I(e){return nn(e[ft])}(r)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const g=r[ft],w=new sw(g,g[Ht],g[ft]);w.detach(w.indexOf(t))}}const a=this._adjustIndex(n),c=this._lContainer;return Ex(c,r,a,!i),t.attachToViewContainerRef(),Zm(Cp(c),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ow(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Oc(this._lContainer,n);i&&(Ec(Cp(this._lContainer),n),ef(i[se],i))}detach(t){const n=this._adjustIndex(t,-1),i=Oc(this._lContainer,n);return i&&null!=Ec(Cp(this._lContainer),n)?new hu(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function ow(e){return e[8]}function Cp(e){return e[8]||(e[8]=[])}let lw=function uw(e,t,n,i){if(e[Ut])return;let r;r=8&n.type?mt(i):function kx(e,t){const n=e[Se],i=n.createComment(""),r=In(t,e);return jo(n,Fc(n,r),i,function nb(e,t){return e.nextSibling(t)}(n,r),!1),i}(t,n),e[Ut]=r};const Rp=new ge("Application Initializer");let kp=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=le(Rp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const o of this.appInits){const a=o();if(mh(a))i.push(a);else if(my(a)){const c=new Promise((d,g)=>{a.subscribe({complete:d,error:g})});i.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),0===i.length&&r(),this.initialized=!0}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Rw=(()=>{var e;class t{log(i){console.log(i)}warn(i){console.warn(i)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const gs=new ge("LocaleId",{providedIn:"root",factory:()=>le(gs,Ne.Optional|Ne.SkipSelf)||function dL(){return typeof $localize<"u"&&$localize.locale||rl}()});let Sh=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lt(!1)}add(){this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class gL{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let kw=(()=>{var e;class t{compileModuleSync(i){return new vp(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const r=this.compileModuleSync(i),a=ds(yn(i).declarations).reduce((c,d)=>{const g=Qe(d);return g&&c.push(new du(g)),c},[]);return new gL(r,a)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function jw(...e){}class Nt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $n(!1),this.onMicrotaskEmpty=new $n(!1),this.onStable=new $n(!1),this.onError=new $n(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function kL(){const e="function"==typeof tt.requestAnimationFrame;let t=tt[e?"requestAnimationFrame":"setTimeout"],n=tt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function BL(e){const t=()=>{!function FL(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(tt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,jp(e),e.isCheckStableRunning=!0,Bp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),jp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,a,c)=>{try{return Hw(e),n.invokeTask(r,o,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Uw(e)}},onInvoke:(n,i,r,o,a,c,d)=>{try{return Hw(e),n.invoke(r,o,a,c,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),Uw(e)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,jp(e),Bp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nt.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(Nt.isInAngularZone())throw new J(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,OL,jw,jw);try{return o.runTask(a,n,i)}finally{o.cancelTask(a)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const OL={};function Bp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Hw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Uw(e){e._nesting--,Bp(e)}class jL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $n,this.onMicrotaskEmpty=new $n,this.onStable=new $n,this.onError=new $n}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const zw=new ge("",{providedIn:"root",factory:Vw});function Vw(){const e=le(Nt);let t=!0;return function ha(...e){const t=Hr(e),n=function ua(e,t){return"number"==typeof fo(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?ai(i[0]):Ii(n)(ut(i,t)):Kt}(new Ve(r=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{r.next(t),r.complete()})}),new Ve(r=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const a=e.onUnstable.subscribe(()=>{Nt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),a.unsubscribe()}}).pipe(Xe()))}const $w=new ge(""),xh=new ge("");let zp,Hp=(()=>{var e;class t{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zp||(function HL(e){zp=e}(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(i)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==a),i(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:i,timeoutId:a,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(Nt),fe(Up),fe(xh))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})(),Up=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return zp?.findTestabilityInTree(this,i,r)??null}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),to=null;const Gw=new ge("AllowMultipleToken"),Vp=new ge("PlatformDestroyListeners"),$p=new ge("appBootstrapListener");class Zw{constructor(t,n){this.name=t,this.token=n}}function Yw(e,t,n=[]){const i=`Platform: ${t}`,r=new ge(i);return(o=[])=>{let a=Gp();if(!a||a.injector.get(Gw,!1)){const c=[...n,...o,{provide:r,useValue:!0}];e?e(c):function VL(e){if(to&&!to.get(Gw,!1))throw new J(400,!1);(function qw(){!function ac(e){Ul=e}(()=>{throw new J(600,!1)})})(),to=e;const t=e.get(Qw);(function Ww(e){e.get(Q_,null)?.forEach(n=>n())})(e)}(function Xw(e=[],t){return Oi.create({name:t,providers:[{provide:yf,useValue:"platform"},{provide:Vp,useValue:new Set([()=>to=null])},...e]})}(c,i))}return function GL(e){const t=Gp();if(!t)throw new J(401,!1);return t}()}}function Gp(){return to?.get(Qw)??null}let Qw=(()=>{var e;class t{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){const o=function qL(e="zone.js",t){return"noop"===e?new jL:"zone.js"===e?new Nt(t):e}(r?.ngZone,function Kw(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const a=function WT(e,t,n){return new _p(e,t,n)}(i.moduleType,this.injector,function iM(e){return[{provide:Nt,useFactory:e},{provide:ru,multi:!0,useFactory:()=>{const t=le(WL,{optional:!0});return()=>t.initialize()}},{provide:nM,useFactory:ZL},{provide:zw,useFactory:Vw}]}(()=>o)),c=a.injector.get(zo,null);return o.runOutsideAngular(()=>{const d=o.onError.subscribe({next:g=>{c.handleError(g)}});a.onDestroy(()=>{Lh(this._modules,a),d.unsubscribe()})}),function Jw(e,t,n){try{const i=n();return mh(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(c,o,()=>{const d=a.injector.get(kp);return d.runInitializers(),d.donePromise.then(()=>(function m0(e){Pt(e,"Expected localeId to be defined"),"string"==typeof e&&(g0=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(gs,rl)||rl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(i,r=[]){const o=eM({},r);return function UL(e,t,n){const i=new vp(n);return Promise.resolve(i)}(0,0,i).then(a=>this.bootstrapModuleFactory(a,o))}_moduleDoBootstrap(i){const r=i.injector.get(al);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!i.instance.ngDoBootstrap)throw new J(-403,!1);i.instance.ngDoBootstrap(r)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const i=this._injector.get(Vp,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(Oi))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function eM(e,t){return Array.isArray(t)?t.reduce(eM,e):{...e,...t}}let al=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=le(nM),this.zoneIsStable=le(zw),this.componentTypes=[],this.components=[],this.isStable=le(Sh).hasPendingTasks.pipe(Jt(i=>i?Ce(!1):this.zoneIsStable),function pr(e,t=Cn){return e=e??qi,Le((n,i)=>{let r,o=!0;n.subscribe(new Re(i,a=>{const c=t(a);(o||!e(r,c))&&(o=!1,r=c,i.next(a))}))})}(),Xe()),this._injector=le(_i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){const o=i instanceof iv;if(!this._injector.get(kp).done)throw!o&&function nr(e){const t=Qe(e)||vt(e)||qt(e);return null!==t&&t.standalone}(i),new J(405,!1);let c;c=o?i:this._injector.get(Jc).resolveComponentFactory(i),this.componentTypes.push(c.componentType);const d=function zL(e){return e.isBoundToModule}(c)?void 0:this._injector.get(qo),w=c.create(Oi.NULL,[],r||c.selector,d),E=w.location.nativeElement,x=w.injector.get($w,null);return x?.registerApplication(E),w.onDestroy(()=>{this.detachView(w.hostView),Lh(this.components,w),x?.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1}}attachView(i){const r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){const r=i;Lh(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const r=this._injector.get($p,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Lh(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new J(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Lh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const nM=new ge("",{providedIn:"root",factory:()=>le(zo).handleError.bind(void 0)});function ZL(){const e=le(Nt),t=le(zo);return n=>e.runOutsideAngular(()=>t.handleError(n))}let WL=(()=>{var e;class t{constructor(){this.zone=le(Nt),this.applicationRef=le(al)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();let qp=(()=>{class t{}return t.__NG_ELEMENT_ID__=XL,t})();function XL(e){return function QL(e,t,n){if(ni(e)&&!n){const i=M(e.index,t);return new hu(i,i)}return 47&e.type?new hu(t[h],t):null}(wn(),X(),16==(16&e))}const cP=Yw(null,"core",[]);let hP=(()=>{var e;class t{constructor(i){}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(al))},e.\u0275mod=vn({type:e}),e.\u0275inj=Rn({}),t})(),Jp=null;function ll(){return Jp}class bP{}const yi=new ge("DocumentToken");let eg=(()=>{var e;class t{historyGo(i){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:function(){return le(SP)},providedIn:"platform"}),t})();const IP=new ge("Location Initialized");let SP=(()=>{var e;class t extends eg{constructor(){super(),this._doc=le(yi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ll().getBaseHref(this._doc)}onPopState(i){const r=ll().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=ll().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function tg(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function wM(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ms(e){return e&&"?"!==e[0]?"?"+e:e}let Wo=(()=>{var e;class t{historyGo(i){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:function(){return le(DM)},providedIn:"root"}),t})();const MM=new ge("appBaseHref");let DM=(()=>{var e;class t extends Wo{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??le(yi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return tg(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+ms(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,a){const c=this.prepareExternalUrl(o+ms(a));this._platformLocation.pushState(i,r,c)}replaceState(i,r,o,a){const c=this.prepareExternalUrl(o+ms(a));this._platformLocation.replaceState(i,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(eg),fe(MM,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),TP=(()=>{var e;class t extends Wo{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=tg(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,a){let c=this.prepareExternalUrl(o+ms(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(i,r,c)}replaceState(i,r,o,a){let c=this.prepareExternalUrl(o+ms(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(eg),fe(MM,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})(),ng=(()=>{var e;class t{constructor(i){this._subject=new $n,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function PP(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(wM(CM(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ms(r))}normalize(i){return t.stripTrailingSlash(function LP(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,CM(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ms(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ms(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}}return(e=t).normalizeQueryParams=ms,e.joinWithSlash=tg,e.stripTrailingSlash=wM,e.\u0275fac=function(i){return new(i||e)(fe(Wo))},e.\u0275prov=_e({token:e,factory:function(){return function xP(){return new ng(fe(Wo))}()},providedIn:"root"}),t})();function CM(e){return e.replace(/\/index.html$/,"")}function AM(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,o]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let GA=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=Rn({}),t})();function HM(e){return"server"===e}let YA=(()=>{var e;class t{}return(e=t).\u0275prov=_e({token:e,providedIn:"root",factory:()=>new XA(fe(yi),window)}),t})();class XA{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function QA(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class UM{}class wN extends bP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class yg extends wN{static makeCurrent(){!function EP(e){Jp||(Jp=e)}(new yg)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function MN(){return Pu=Pu||document.querySelector("base"),Pu?Pu.getAttribute("href"):null}();return null==n?null:function DN(e){Zh=Zh||document.createElement("a"),Zh.setAttribute("href",e);const t=Zh.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Pu=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return AM(document.cookie,t)}}let Zh,Pu=null,EN=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();const wg=new ge("EventManagerPlugins");let qM=(()=>{var e;class t{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(a=>a.supports(i)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(wg),fe(Nt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();class ZM{constructor(t){this._doc=t}}const Mg="ng-app-id";let WM=(()=>{var e;class t{constructor(i,r,o,a={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=HM(a),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${Mg}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){const o=this.styleRef;if(o.has(i)){const a=o.get(i);return a.usage+=r,a.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const o=this.styleNodesInDOM,a=o?.get(r);if(a?.parentNode===i)return o.delete(r),a.removeAttribute(Mg),a;{const c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Mg,this.appId),c}}addStyleToHost(i,r){const o=this.getStyleElement(i,r);i.appendChild(o);const a=this.styleRef,c=a.get(r)?.elements;c?c.push(o):a.set(r,{elements:[o],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(yi),fe(Zc),fe(K_,8),fe(Uo))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();const Dg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cg=/%COMP%/g,TN=new ge("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function XM(e,t){return t.map(n=>n.replace(Cg,e))}let QM=(()=>{var e;class t{constructor(i,r,o,a,c,d,g,w=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=a,this.doc=c,this.platformId=d,this.ngZone=g,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=HM(d),this.defaultRenderer=new Eg(i,c,g,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gt.ShadowDom&&(r={...r,encapsulation:Gt.Emulated});const o=this.getOrCreateRenderer(i,r);return o instanceof JM?o.applyToHost(i):o instanceof bg&&o.applyStyles(),o}getOrCreateRenderer(i,r){const o=this.rendererByCompId;let a=o.get(r.id);if(!a){const c=this.doc,d=this.ngZone,g=this.eventManager,w=this.sharedStylesHost,E=this.removeStylesOnCompDestroy,x=this.platformIsServer;switch(r.encapsulation){case Gt.Emulated:a=new JM(g,w,r,this.appId,E,c,d,x);break;case Gt.ShadowDom:return new AN(g,w,i,r,c,d,this.nonce,x);default:a=new bg(g,w,r,E,c,d,x)}o.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(qM),fe(WM),fe(Zc),fe(TN),fe(yi),fe(Uo),fe(Nt),fe(K_))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();class Eg{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Dg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(KM(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(KM(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new J(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const o=Dg[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=Dg[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Qs.DashCase|Qs.Important)?t.style.setProperty(n,i,r&Qs.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Qs.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){if("string"==typeof t&&!(t=ll().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function KM(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class AN extends Eg{constructor(t,n,i,r,o,a,c,d){super(t,o,a,d),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=XM(r.id,r.styles);for(const w of g){const E=document.createElement("style");c&&E.setAttribute("nonce",c),E.textContent=w,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bg extends Eg{constructor(t,n,i,r,o,a,c,d){super(t,o,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=d?XM(d,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class JM extends bg{constructor(t,n,i,r,o,a,c,d){const g=r+"-"+i.id;super(t,n,i,o,a,c,d,g),this.contentAttr=function xN(e){return"_ngcontent-%COMP%".replace(Cg,e)}(g),this.hostAttr=function LN(e){return"_nghost-%COMP%".replace(Cg,e)}(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let NN=(()=>{var e;class t extends ZM{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(yi))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();const eD=["alt","control","meta","shift"],RN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ON=(()=>{var e;class t extends ZM{constructor(i){super(i)}supports(i){return null!=t.parseEventName(i)}addEventListener(i,r,o){const a=t.parseEventName(r),c=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ll().onAndCancel(i,a.domEventName,c))}static parseEventName(i){const r=i.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const a=t._normalizeKey(r.pop());let c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),eD.forEach(w=>{const E=r.indexOf(w);E>-1&&(r.splice(E,1),c+=w+".")}),c+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=o,g.fullKey=c,g}static matchEventFullKeyCode(i,r){let o=RN[i.key]||i.key,a="";return r.indexOf("code.")>-1&&(o=i.code,a="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eD.forEach(c=>{c!==o&&(0,kN[c])(i)&&(a+=c+".")}),a+=o,a===r)}static eventCallback(i,r,o){return a=>{t.matchEventFullKeyCode(a,i)&&o.runGuarded(()=>r(a))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(yi))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();const HN=Yw(cP,"browser",[{provide:Uo,useValue:"browser"},{provide:Q_,useValue:function FN(){yg.makeCurrent()},multi:!0},{provide:yi,useFactory:function jN(){return function cb(e){uf=e}(document),document},deps:[]}]),UN=new ge(""),iD=[{provide:xh,useClass:class CN{addToWindow(t){tt.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new J(5103,!1);return o},tt.getAllAngularTestabilities=()=>t.getAllTestabilities(),tt.getAllAngularRootElements=()=>t.getAllRootElements(),tt.frameworkStabilizers||(tt.frameworkStabilizers=[]),tt.frameworkStabilizers.push(i=>{const r=tt.getAllAngularTestabilities();let o=r.length,a=!1;const c=function(d){a=a||d,o--,0==o&&i(a)};r.forEach(d=>{d.whenStable(c)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?ll().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:$w,useClass:Hp,deps:[Nt,Up,xh]},{provide:Hp,useClass:Hp,deps:[Nt,Up,xh]}],rD=[{provide:yf,useValue:"root"},{provide:zo,useFactory:function BN(){return new zo},deps:[]},{provide:wg,useClass:NN,multi:!0,deps:[yi,Nt,Uo]},{provide:wg,useClass:ON,multi:!0,deps:[yi]},QM,WM,qM,{provide:sv,useExisting:QM},{provide:UM,useClass:EN,deps:[]},[]];let zN=(()=>{var e;class t{constructor(i){}static withServerTransition(i){return{ngModule:t,providers:[{provide:Zc,useValue:i.appId}]}}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(UN,12))},e.\u0275mod=vn({type:e}),e.\u0275inj=Rn({providers:[...rD,...iD],imports:[GA,hP]}),t})(),sD=(()=>{var e;class t{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(yi))},e.\u0275prov=_e({token:e,factory:function(i){let r=null;return r=i?new i:function $N(){return new sD(fe(yi))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:XN}=Array,{getPrototypeOf:QN,prototype:KN,keys:JN}=Object;const{isArray:nR}=Array;function Sg(...e){const t=Hr(e),n=function po(e){return ze(fo(e))?e.pop():void 0}(e),{args:i,keys:r}=function eR(e){if(1===e.length){const t=e[0];if(XN(t))return{args:t,keys:null};if(function tR(e){return e&&"object"==typeof e&&QN(e)===KN}(t)){const n=JN(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return ut([],t);const o=new Ve(function oR(e,t,n=Cn){return i=>{uD(t,()=>{const{length:r}=e,o=new Array(r);let a=r,c=r;for(let d=0;d<r;d++)uD(t,()=>{const g=ut(e[d],t);let w=!1;g.subscribe(new Re(i,E=>{o[d]=E,w||(w=!0,c--),c||i.next(n(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>function sR(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}(r,a):Cn));return n?o.pipe(function rR(e){return Pe(t=>function iR(e,t){return nR(t)?e(...t):e(t)}(e,t))}(n)):o}function uD(e,t,n){e?Pn(n,e,t):t()}const Wh=_(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Tg(...e){return function aR(){return Ii(1)}()(ut(e,Hr(e)))}function cD(e){return new Ve(t=>{ai(e()).subscribe(t)})}function Au(e,t){const n=ze(e)?e:()=>e,i=r=>r.error(n());return new Ve(t?r=>t.schedule(i,0,r):i)}function xg(){return Le((e,t)=>{let n=null;e._refCount++;const i=new Re(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class hD extends Ve{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,st(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new B;const n=this.getSubject();t.add(this.source.subscribe(new Re(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=B.EMPTY)}return t}refCount(){return xg()(this)}}function ys(e,t){return Le((n,i)=>{let r=0;n.subscribe(new Re(i,o=>e.call(t,o,r++)&&i.next(o)))})}function Yh(e){return Le((t,n)=>{let i=!1;t.subscribe(new Re(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function dD(e=uR){return Le((t,n)=>{let i=!1;t.subscribe(new Re(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function uR(){return new Wh}function Yo(e,t){const n=arguments.length>=2;return i=>i.pipe(e?ys((r,o)=>e(r,o,i)):Cn,An(1),n?Yh(t):dD(()=>new Wh))}function cl(e,t){return ze(t)?It(e,t,1):It(e,1)}function Zn(e,t,n){const i=ze(e)||t||n?{next:e,error:t,complete:n}:e;return i?Le((r,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let c=!0;r.subscribe(new Re(o,d=>{var g;null===(g=i.next)||void 0===g||g.call(i,d),o.next(d)},()=>{var d;c=!1,null===(d=i.complete)||void 0===d||d.call(i),o.complete()},d=>{var g;c=!1,null===(g=i.error)||void 0===g||g.call(i,d),o.error(d)},()=>{var d,g;c&&(null===(d=i.unsubscribe)||void 0===d||d.call(i)),null===(g=i.finalize)||void 0===g||g.call(i)}))}):Cn}function Xo(e){return Le((t,n)=>{let o,i=null,r=!1;i=t.subscribe(new Re(n,void 0,void 0,a=>{o=ai(e(a,Xo(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function Lg(e){return e<=0?()=>Kt:Le((t,n)=>{let i=[];t.subscribe(new Re(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Nu(e){return Le((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Be="primary",Ru=Symbol("RouteTitle");class pR{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function hl(e){return new pR(e)}function gR(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],c=e[o];if(a.startsWith(":"))r[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Nr(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!fD(e[r],t[r]))return!1;return!0}function fD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}return e===t}function pD(e){return e.length>0?e[e.length-1]:null}function io(e){return function YN(e){return!!e&&(e instanceof Ve||ze(e.lift)&&ze(e.subscribe))}(e)?e:mh(e)?ut(Promise.resolve(e)):Ce(e)}const _R={exact:function _D(e,t,n){if(!Qo(e.segments,t.segments)||!Xh(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!_D(e.children[i],t.children[i],n))return!1;return!0},subset:vD},gD={exact:function vR(e,t){return Nr(e,t)},subset:function yR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>fD(e[n],t[n]))},ignored:()=>!0};function mD(e,t,n){return _R[n.paths](e.root,t.root,n.matrixParams)&&gD[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function vD(e,t,n){return yD(e,t,t.segments,n)}function yD(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!Qo(r,n)||t.hasChildren()||!Xh(r,n,i))}if(e.segments.length===n.length){if(!Qo(e.segments,n)||!Xh(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!vD(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(Qo(e.segments,r)&&Xh(e.segments,r,i)&&e.children[Be])&&yD(e.children[Be],t,o,i)}}function Xh(e,t,n){return t.every((i,r)=>gD[n](e[r].parameters,i.parameters))}class dl{constructor(t=new pt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return DR.serialize(this)}}class pt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qh(this)}}class ku{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=hl(this.parameters)),this._parameterMap}toString(){return DD(this)}}function Qo(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let Ou=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:function(){return new Pg},providedIn:"root"}),t})();class Pg{parse(t){const n=new NR(t);return new dl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Fu(t.root,!0)}`,i=function bR(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${Kh(n)}=${Kh(r)}`).join("&"):`${Kh(n)}=${Kh(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function CR(e){return encodeURI(e)}(t.fragment)}`:""}`}}const DR=new Pg;function Qh(e){return e.segments.map(t=>DD(t)).join("/")}function Fu(e,t){if(!e.hasChildren())return Qh(e);if(t){const n=e.children[Be]?Fu(e.children[Be],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==Be&&i.push(`${r}:${Fu(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function MR(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===Be&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==Be&&(n=n.concat(t(r,i)))}),n}(e,(i,r)=>r===Be?[Fu(e.children[Be],!1)]:[`${r}:${Fu(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Be]?`${Qh(e)}/${n[0]}`:`${Qh(e)}/(${n.join("//")})`}}function wD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kh(e){return wD(e).replace(/%3B/gi,";")}function Ag(e){return wD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jh(e){return decodeURIComponent(e)}function MD(e){return Jh(e.replace(/\+/g,"%20"))}function DD(e){return`${Ag(e.path)}${function ER(e){return Object.keys(e).map(t=>`;${Ag(t)}=${Ag(e[t])}`).join("")}(e.parameters)}`}const IR=/^[^\/()?;#]+/;function Ng(e){const t=e.match(IR);return t?t[0]:""}const SR=/^[^\/()?;=#]+/,xR=/^[^=?&#]+/,PR=/^[^&#]+/;class NR{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pt([],{}):new pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[Be]=new pt(t,n)),i}parseSegment(){const t=Ng(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(t),new ku(Jh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function TR(e){const t=e.match(SR);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=Ng(this.remaining);r&&(i=r,this.capture(i))}t[Jh(n)]=Jh(i)}parseQueryParam(t){const n=function LR(e){const t=e.match(xR);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const a=function AR(e){const t=e.match(PR);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=MD(n),o=MD(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ng(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new J(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Be);const a=this.parseChildren();n[o]=1===Object.keys(a).length?a[Be]:new pt([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new J(4011,!1)}}function CD(e){return e.segments.length>0?new pt([],{[Be]:e}):e}function ED(e){const t={};for(const i of Object.keys(e.children)){const o=ED(e.children[i]);if(i===Be&&0===o.segments.length&&o.hasChildren())for(const[a,c]of Object.entries(o.children))t[a]=c;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function RR(e){if(1===e.numberOfChildren&&e.children[Be]){const t=e.children[Be];return new pt(e.segments.concat(t.segments),t.children)}return e}(new pt(e.segments,t))}function Ko(e){return e instanceof dl}function bD(e){let t;const r=CD(function n(o){const a={};for(const d of o.children){const g=n(d);a[d.outlet]=g}const c=new pt(o.url,a);return o===e&&(t=c),c}(e.root));return t??r}function ID(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(0===t.length)return Rg(r,r,r,n,i);const o=function OR(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new TD(!0,0,e);let t=0,n=!1;const i=e.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([d,g])=>{c[d]="string"==typeof g?g.split("/"):g}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((c,d)=>{0==d&&"."===c||(0==d&&""===c?n=!0:".."===c?t++:""!=c&&r.push(c))}),r):[...r,o]},[]);return new TD(n,t,i)}(t);if(o.toRoot())return Rg(r,r,new pt([],{}),n,i);const a=function FR(e,t,n){if(e.isAbsolute)return new td(t,!0,0);if(!n)return new td(t,!1,NaN);if(null===n.parent)return new td(n,!0,0);const i=ed(e.commands[0])?0:1;return function BR(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new J(4005,!1);r=i.segments.length}return new td(i,!1,r-o)}(n,n.segments.length-1+i,e.numberOfDoubleDots)}(o,r,e),c=a.processChildren?ju(a.segmentGroup,a.index,o.commands):xD(a.segmentGroup,a.index,o.commands);return Rg(r,a.segmentGroup,c,n,i)}function ed(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Bu(e){return"object"==typeof e&&null!=e&&e.outlets}function Rg(e,t,n,i,r){let a,o={};i&&Object.entries(i).forEach(([d,g])=>{o[d]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),a=e===t?n:SD(e,t,n);const c=CD(ED(a));return new dl(c,o,r)}function SD(e,t,n){const i={};return Object.entries(e.children).forEach(([r,o])=>{i[r]=o===t?n:SD(o,t,n)}),new pt(e.segments,i)}class TD{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&ed(i[0]))throw new J(4003,!1);const r=i.find(Bu);if(r&&r!==pD(i))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class td{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function xD(e,t,n){if(e||(e=new pt([],{})),0===e.segments.length&&e.hasChildren())return ju(e,t,n);const i=function HR(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const a=e.segments[r],c=n[i];if(Bu(c))break;const d=`${c}`,g=i<n.length-1?n[i+1]:null;if(r>0&&void 0===d)break;if(d&&g&&"object"==typeof g&&void 0===g.outlets){if(!PD(d,g,a))return o;i+=2}else{if(!PD(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const o=new pt(e.segments.slice(0,i.pathIndex),{});return o.children[Be]=new pt(e.segments.slice(i.pathIndex),e.children),ju(o,0,r)}return i.match&&0===r.length?new pt(e.segments,{}):i.match&&!e.hasChildren()?kg(e,t,n):i.match?ju(e,0,r):kg(e,t,n)}function ju(e,t,n){if(0===n.length)return new pt(e.segments,{});{const i=function jR(e){return Bu(e[0])?e[0].outlets:{[Be]:e}}(n),r={};if(!i[Be]&&e.children[Be]&&1===e.numberOfChildren&&0===e.children[Be].segments.length){const o=ju(e.children[Be],t,n);return new pt(e.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(r[o]=xD(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{void 0===i[o]&&(r[o]=a)}),new pt(e.segments,r)}}function kg(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const o=n[r];if(Bu(o)){const d=UR(o.outlets);return new pt(i,d)}if(0===r&&ed(n[0])){i.push(new ku(e.segments[t].path,LD(n[0]))),r++;continue}const a=Bu(o)?o.outlets[Be]:`${o}`,c=r<n.length-1?n[r+1]:null;a&&c&&ed(c)?(i.push(new ku(a,LD(c))),r+=2):(i.push(new ku(a,{})),r++)}return new pt(i,{})}function UR(e){const t={};return Object.entries(e).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[n]=kg(new pt([],{}),0,i))}),t}function LD(e){const t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function PD(e,t,n){return e==n.path&&Nr(t,n.parameters)}const Hu="imperative";class Rr{constructor(t,n){this.id=t,this.url=n}}class Og extends Rr{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jo extends Rr{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nd extends Rr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Uu extends Rr{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=16}}class Fg extends Rr{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zR extends Rr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VR extends Rr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $R extends Rr{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class GR extends Rr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qR extends Rr{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZR{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class WR{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YR{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XR{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QR{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KR{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AD{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class JR{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zu,this.attachRef=null}}let zu=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new JR,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class ND{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Bg(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=Bg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=jg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return jg(t,this._root).map(n=>n.value)}}function Bg(e,t){if(e===t.value)return t;for(const n of t.children){const i=Bg(e,n);if(i)return i}return null}function jg(e,t){if(e===t.value)return[t];for(const n of t.children){const i=jg(e,n);if(i.length)return i.unshift(t),i}return[]}class ws{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function fl(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class RD extends ND{constructor(t,n){super(t),this.snapshot=n,Hg(this,t)}toString(){return this.snapshot.toString()}}function kD(e,t){const n=function ek(e,t){const a=new id([],{},{},"",{},Be,t,null,{});return new FD("",new ws(a,[]))}(0,t),i=new lt([new ku("",{})]),r=new lt({}),o=new lt({}),a=new lt({}),c=new lt(""),d=new pl(i,r,a,c,o,Be,t,n.root);return d.snapshot=n.root,new RD(new ws(d,[]),n)}class pl{constructor(t,n,i,r,o,a,c,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(Pe(g=>g[Ru]))??Ce(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pe(t=>hl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pe(t=>hl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OD(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function tk(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class id{get title(){return this.data?.[Ru]}constructor(t,n,i,r,o,a,c,d,g){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=c,this.routeConfig=d,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FD extends ND{constructor(t,n){super(n),this.url=t,Hg(this,n)}toString(){return BD(this._root)}}function Hg(e,t){t.value._routerState=e,t.children.forEach(n=>Hg(e,n))}function BD(e){const t=e.children.length>0?` { ${e.children.map(BD).join(", ")} } `:"";return`${e.value}${t}`}function Ug(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Nr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Nr(t.params,n.params)||e.paramsSubject.next(n.params),function mR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Nr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Nr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function zg(e,t){const n=Nr(e.params,t.params)&&function wR(e,t){return Qo(e,t)&&e.every((n,i)=>Nr(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||zg(e.parent,t.parent))}let jD=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new $n,this.deactivateEvents=new $n,this.attachEvents=new $n,this.detachEvents=new $n,this.parentContexts=le(zu),this.location=le(ar),this.changeDetector=le(qp),this.environmentInjector=le(_i),this.inputBinder=le(rd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=i;const o=this.location,c=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,g=new nk(i,d,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275dir=tn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[as]}),t})();class nk{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===pl?this.route:t===zu?this.childContexts:this.parent.get(t,n)}}const rd=new ge("");let HD=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,o=Sg([r.queryParams,r.params,r.data]).pipe(Jt(([a,c,d],g)=>(d={...a,...c,...d},0===g?Ce(d):Promise.resolve(d)))).subscribe(a=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const c=function CP(e){const t=Qe(e);if(!t)return null;const n=new du(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(c)for(const{templateName:d}of c.inputs)i.activatedComponentRef.setInput(d,a[d]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,o)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();function Vu(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function rk(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Vu(e,i,r);return Vu(e,i)})}(e,t,n);return new ws(i,r)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>Vu(e,c)),a}}const i=function sk(e){return new pl(new lt(e.url),new lt(e.params),new lt(e.queryParams),new lt(e.fragment),new lt(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(o=>Vu(e,o));return new ws(i,r)}}const Vg="ngNavigationCancelingError";function UD(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=Ko(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=zD(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function zD(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[Vg]=!0,i.cancellationCode=t,n&&(i.url=n),i}function VD(e){return $D(e)&&Ko(e.url)}function $D(e){return e&&e[Vg]}let GD=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Po({type:e,selectors:[["ng-component"]],standalone:!0,features:[V0],decls:1,vars:0,template:function(i,r){1&i&&np(0,"router-outlet")},dependencies:[jD],encapsulation:2}),t})();function $g(e){const t=e.children&&e.children.map($g),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Be&&(n.component=GD),n}function cr(e){return e.outlet||Be}function $u(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class dk{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),Ug(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=fl(n);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=fl(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=fl(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){const r=fl(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new KR(o.value.snapshot))}),t.children.length&&this.forwardEvent(new XR(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,o=n?n.value:null;if(Ug(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Ug(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=$u(r.snapshot);a.attachRef=null,a.route=r,a.injector=c,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class qD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sd{constructor(t,n){this.component=t,this.route=n}}function fk(e,t,n){const i=e._root;return Gu(i,t?t._root:null,n,[i.value])}function gl(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function Mo(e){return null!==_r(e)}(e)?t.get(e):e:i}function Gu(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=fl(t);return e.children.forEach(a=>{(function gk(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=t?t.value:null,c=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const d=function mk(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Qo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Qo(e.url,t.url)||!Nr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zg(e,t)||!Nr(e.queryParams,t.queryParams);default:return!zg(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new qD(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Gu(e,t,o.component?c?c.children:null:n,i,r),d&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new sd(c.outlet.component,a))}else a&&qu(t,c,r),r.canActivateChecks.push(new qD(i)),Gu(e,null,o.component?c?c.children:null:n,i,r)})(a,o[a.value.outlet],n,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,c])=>qu(c,n.getContext(a),r)),r}function qu(e,t,n){const i=fl(e),r=e.value;Object.entries(i).forEach(([o,a])=>{qu(a,r.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new sd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Zu(e){return"function"==typeof e}function ZD(e){return e instanceof Wh||"EmptyError"===e?.name}const od=Symbol("INITIAL_VALUE");function ml(){return Jt(e=>Sg(e.map(t=>t.pipe(An(1),function lR(...e){const t=Hr(e);return Le((n,i)=>{(t?Tg(e,n,t):Tg(e,n)).subscribe(i)})}(od)))).pipe(Pe(t=>{for(const n of t)if(!0!==n){if(n===od)return od;if(!1===n||n instanceof dl)return n}return!0}),ys(t=>t!==od),An(1)))}function WD(e){return function Wn(...e){return oo(e)}(Zn(t=>{if(Ko(t))throw UD(0,t)}),Pe(t=>!0===t))}class ad{constructor(t){this.segmentGroup=t||null}}class YD{constructor(t){this.urlTree=t}}function _l(e){return Au(new ad(e))}function XD(e){return Au(new YD(e))}class Ok{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new J(4002,!1)}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ce(i);if(r.numberOfChildren>1||!r.children[Be])return Au(new J(4e3,!1));r=r.children[Be]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const o=this.createSegmentGroup(t,n.root,i,r);return new dl(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);i[r]=n[c]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){const o=this.createSegments(t,n.segments,i,r);let a={};return Object.entries(n.children).forEach(([c,d])=>{a[c]=this.createSegmentGroup(t,d,i,r)}),new pt(o,a)}createSegments(t,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new J(4001,!1);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}const Gg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fk(e,t,n,i,r){const o=qg(e,t,n);return o.matched?(i=function ok(e,t){return e.providers&&!e._injector&&(e._injector=yp(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,i),function Nk(e,t,n,i){const r=t.canMatch;return r&&0!==r.length?Ce(r.map(a=>{const c=gl(a,e);return io(function Dk(e){return e&&Zu(e.canMatch)}(c)?c.canMatch(t,n):e.runInContext(()=>c(t,n)))})).pipe(ml(),WD()):Ce(!0)}(i,t,n).pipe(Pe(a=>!0===a?o:{...Gg}))):Ce(o)}function qg(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Gg}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||gR)(n,e,t);if(!r)return{...Gg};const o={};Object.entries(r.posParams??{}).forEach(([c,d])=>{o[c]=d.path});const a=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function QD(e,t,n,i){return n.length>0&&function Hk(e,t,n){return n.some(i=>ld(e,t,i)&&cr(i)!==Be)}(e,n,i)?{segmentGroup:new pt(t,jk(i,new pt(n,e.children))),slicedSegments:[]}:0===n.length&&function Uk(e,t,n){return n.some(i=>ld(e,t,i))}(e,n,i)?{segmentGroup:new pt(e.segments,Bk(e,0,n,i,e.children)),slicedSegments:n}:{segmentGroup:new pt(e.segments,e.children),slicedSegments:n}}function Bk(e,t,n,i,r){const o={};for(const a of i)if(ld(e,n,a)&&!r[cr(a)]){const c=new pt([],{});o[cr(a)]=c}return{...r,...o}}function jk(e,t){const n={};n[Be]=t;for(const i of e)if(""===i.path&&cr(i)!==Be){const r=new pt([],{});n[cr(i)]=r}return n}function ld(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class Gk{constructor(t,n,i,r,o,a,c){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new Ok(this.urlSerializer,this.urlTree)}noMatchError(t){return new J(4002,!1)}recognize(){const t=QD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Be).pipe(Xo(n=>{if(n instanceof YD)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof ad?this.noMatchError(n):n}),Pe(n=>{const i=new id([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Be,this.rootComponentType,null,{}),r=new ws(i,n),o=new FD("",r),a=function kR(e,t,n=null,i=null){return ID(bD(e),t,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(o._root),{state:o,tree:a}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Be).pipe(Xo(i=>{throw i instanceof ad?this.noMatchError(i):i}))}inheritParamsAndData(t){const n=t.value,i=OD(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r,!0)}processChildren(t,n,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return ut(r).pipe(cl(o=>{const a=i.children[o],c=function ck(e,t){const n=e.filter(i=>cr(i)===t);return n.push(...e.filter(i=>cr(i)!==t)),n}(n,o);return this.processSegmentGroup(t,c,a,o)}),function hR(e,t){return Le(function cR(e,t,n,i,r){return(o,a)=>{let c=n,d=t,g=0;o.subscribe(new Re(a,w=>{const E=g++;d=c?e(d,w,E):(c=!0,w),i&&a.next(d)},r&&(()=>{c&&a.next(d),a.complete()})))}}(e,t,arguments.length>=2,!0))}((o,a)=>(o.push(...a),o)),Yh(null),function dR(e,t){const n=arguments.length>=2;return i=>i.pipe(e?ys((r,o)=>e(r,o,i)):Cn,Lg(1),n?Yh(t):dD(()=>new Wh))}(),It(o=>{if(null===o)return _l(i);const a=KD(o);return function qk(e){e.sort((t,n)=>t.value.outlet===Be?-1:n.value.outlet===Be?1:t.value.outlet.localeCompare(n.value.outlet))}(a),Ce(a)}))}processSegment(t,n,i,r,o,a){return ut(n).pipe(cl(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,i,r,o,a).pipe(Xo(d=>{if(d instanceof ad)return Ce(null);throw d}))),Yo(c=>!!c),Xo(c=>{if(ZD(c))return function Vk(e,t,n){return 0===t.length&&!e.children[n]}(i,r,o)?Ce([]):_l(i);throw c}))}processSegmentAgainstRoute(t,n,i,r,o,a,c){return function zk(e,t,n,i){return!!(cr(e)===i||i!==Be&&ld(t,n,e))&&("**"===e.path||qg(t,e,n).matched)}(i,r,o,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,a,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,a):_l(r):_l(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?XD(o):this.applyRedirects.lineralizeSegments(i,o).pipe(It(a=>{const c=new pt(a,{});return this.processSegment(t,n,c,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,o,a){const{matched:c,consumedSegments:d,remainingSegments:g,positionalParamSegments:w}=qg(n,r,o);if(!c)return _l(n);const E=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,w);return r.redirectTo.startsWith("/")?XD(E):this.applyRedirects.lineralizeSegments(r,E).pipe(It(x=>this.processSegment(t,i,n,x.concat(g),a,!1)))}matchSegmentAgainstRoute(t,n,i,r,o,a){let c;if("**"===i.path){const d=r.length>0?pD(r).parameters:{};c=Ce({snapshot:new id(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JD(i),cr(i),i.component??i._loadedComponent??null,i,eC(i)),consumedSegments:[],remainingSegments:[]}),n.children={}}else c=Fk(n,i,r,t).pipe(Pe(({matched:d,consumedSegments:g,remainingSegments:w,parameters:E})=>d?{snapshot:new id(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,JD(i),cr(i),i.component??i._loadedComponent??null,i,eC(i)),consumedSegments:g,remainingSegments:w}:null));return c.pipe(Jt(d=>null===d?_l(n):this.getChildConfig(t=i._injector??t,i,r).pipe(Jt(({routes:g})=>{const w=i._loadedInjector??t,{snapshot:E,consumedSegments:x,remainingSegments:A}=d,{segmentGroup:F,slicedSegments:$}=QD(n,x,A,g);if(0===$.length&&F.hasChildren())return this.processChildren(w,g,F).pipe(Pe(K=>null===K?null:[new ws(E,K)]));if(0===g.length&&0===$.length)return Ce([new ws(E,[])]);const Z=cr(i)===o;return this.processSegment(w,g,F,$,Z?Be:o,!0).pipe(Pe(K=>[new ws(E,K)]))}))))}getChildConfig(t,n,i){return n.children?Ce({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Ce({routes:n._loadedRoutes,injector:n._loadedInjector}):function Ak(e,t,n,i){const r=t.canLoad;return void 0===r||0===r.length?Ce(!0):Ce(r.map(a=>{const c=gl(a,e);return io(function vk(e){return e&&Zu(e.canLoad)}(c)?c.canLoad(t,n):e.runInContext(()=>c(t,n)))})).pipe(ml(),WD())}(t,n,i).pipe(It(r=>r?this.configLoader.loadChildren(t,n).pipe(Zn(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function kk(e){return Au(zD(!1,3))}())):Ce({routes:[],injector:t})}}function Zk(e){const t=e.value.routeConfig;return t&&""===t.path}function KD(e){const t=[],n=new Set;for(const i of e){if(!Zk(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=KD(i.children);t.push(new ws(i.value,r))}return t.filter(i=>!n.has(i))}function JD(e){return e.data||{}}function eC(e){return e.resolve||{}}function tC(e){return"string"==typeof e.title||null===e.title}function Zg(e){return Jt(t=>{const n=e(t);return n?ut(n).pipe(Pe(()=>t)):Ce(t)})}const vl=new ge("ROUTES");let Wg=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=le(kw)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ce(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=io(i.loadComponent()).pipe(Pe(nC),Zn(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),Nu(()=>{this.componentLoaders.delete(i)})),o=new hD(r,()=>new Je).pipe(xg());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Pe(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,w;return Array.isArray(d)?w=d:(g=d.create(i).injector,w=g.get(vl,[],Ne.Self|Ne.Optional).flat()),{routes:w.map($g),injector:g}}),Nu(()=>{this.childrenLoaders.delete(r)})),c=new hD(a,()=>new Je).pipe(xg());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(i){return io(i()).pipe(Pe(nC),It(r=>r instanceof U0||Array.isArray(r)?Ce(r):ut(this.compiler.compileModuleAsync(r))))}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function nC(e){return function eO(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let ud=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.configLoader=le(Wg),this.environmentInjector=le(_i),this.urlSerializer=le(Ou),this.rootContexts=le(zu),this.inputBindingEnabled=null!==le(rd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ce(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new WR(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new ZR(o))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i){return this.transitions=new lt({id:0,currentUrlTree:i.currentUrlTree,currentRawUrl:i.currentUrlTree,extractedUrl:i.urlHandlingStrategy.extract(i.currentUrlTree),urlAfterRedirects:i.urlHandlingStrategy.extract(i.currentUrlTree),rawUrl:i.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hu,restoredState:null,currentSnapshot:i.routerState.snapshot,targetSnapshot:null,currentRouterState:i.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ys(r=>0!==r.id),Pe(r=>({...r,extractedUrl:i.urlHandlingStrategy.extract(r.rawUrl)})),Jt(r=>{let o=!1,a=!1;return Ce(r).pipe(Zn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jt(c=>{const d=i.browserUrlTree.toString(),g=!i.navigated||c.extractedUrl.toString()!==d||d!==i.currentUrlTree.toString();if(!g&&"reload"!==(c.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const E="";return this.events.next(new Uu(c.id,i.serializeUrl(r.rawUrl),E,0)),i.rawUrlTree=c.rawUrl,c.resolve(null),Kt}if(i.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return iC(c.source)&&(i.browserUrlTree=c.extractedUrl),Ce(c).pipe(Jt(E=>{const x=this.transitions?.getValue();return this.events.next(new Og(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),x!==this.transitions?.getValue()?Kt:Promise.resolve(E)}),function Wk(e,t,n,i,r,o){return It(a=>function $k(e,t,n,i,r,o,a="emptyOnly"){return new Gk(e,t,n,i,r,a,o).recognize()}(e,t,n,i,a.extractedUrl,r,o).pipe(Pe(({state:c,tree:d})=>({...a,targetSnapshot:c,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),Zn(E=>{if(r.targetSnapshot=E.targetSnapshot,r.urlAfterRedirects=E.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},"eager"===i.urlUpdateStrategy){if(!E.extras.skipLocationChange){const A=i.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);i.setBrowserUrl(A,E)}i.browserUrlTree=E.urlAfterRedirects}const x=new zR(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(x)}));if(g&&i.urlHandlingStrategy.shouldProcessUrl(i.rawUrlTree)){const{id:E,extractedUrl:x,source:A,restoredState:F,extras:$}=c,Z=new Og(E,this.urlSerializer.serialize(x),A,F);this.events.next(Z);const K=kD(0,this.rootComponentType).snapshot;return Ce(r={...c,targetSnapshot:K,urlAfterRedirects:x,extras:{...$,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new Uu(c.id,i.serializeUrl(r.extractedUrl),E,1)),i.rawUrlTree=c.rawUrl,c.resolve(null),Kt}}),Zn(c=>{const d=new VR(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Pe(c=>r={...c,guards:fk(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Ek(e,t){return It(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?Ce({...n,guardsResult:!0}):function bk(e,t,n,i){return ut(e).pipe(It(r=>function Pk(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ce(o.map(c=>{const d=$u(t)??r,g=gl(c,d);return io(function Mk(e){return e&&Zu(e.canDeactivate)}(g)?g.canDeactivate(e,t,n,i):d.runInContext(()=>g(e,t,n,i))).pipe(Yo())})).pipe(ml()):Ce(!0)}(r.component,r.route,n,t,i)),Yo(r=>!0!==r,!0))}(a,i,r,e).pipe(It(c=>c&&function _k(e){return"boolean"==typeof e}(c)?function Ik(e,t,n,i){return ut(t).pipe(cl(r=>Tg(function Tk(e,t){return null!==e&&t&&t(new YR(e)),Ce(!0)}(r.route.parent,i),function Sk(e,t){return null!==e&&t&&t(new QR(e)),Ce(!0)}(r.route,i),function Lk(e,t,n){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function pk(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>cD(()=>Ce(a.guards.map(d=>{const g=$u(a.node)??n,w=gl(d,g);return io(function wk(e){return e&&Zu(e.canActivateChild)}(w)?w.canActivateChild(i,e):g.runInContext(()=>w(i,e))).pipe(Yo())})).pipe(ml())));return Ce(o).pipe(ml())}(e,r.path,n),function xk(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ce(!0);const r=i.map(o=>cD(()=>{const a=$u(t)??n,c=gl(o,a);return io(function yk(e){return e&&Zu(e.canActivate)}(c)?c.canActivate(t,e):a.runInContext(()=>c(t,e))).pipe(Yo())}));return Ce(r).pipe(ml())}(e,r.route,n))),Yo(r=>!0!==r,!0))}(i,o,e,t):Ce(c)),Pe(c=>({...n,guardsResult:c})))})}(this.environmentInjector,c=>this.events.next(c)),Zn(c=>{if(r.guardsResult=c.guardsResult,Ko(c.guardsResult))throw UD(0,c.guardsResult);const d=new $R(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),ys(c=>!!c.guardsResult||(i.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Zg(c=>{if(c.guards.canActivateChecks.length)return Ce(c).pipe(Zn(d=>{const g=new GR(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}),Jt(d=>{let g=!1;return Ce(d).pipe(function Yk(e,t){return It(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Ce(n);let o=0;return ut(r).pipe(cl(a=>function Xk(e,t,n,i){const r=e.routeConfig,o=e._resolve;return void 0!==r?.title&&!tC(r)&&(o[Ru]=r.title),function Qk(e,t,n,i){const r=function Kk(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return Ce({});const o={};return ut(r).pipe(It(a=>function Jk(e,t,n,i){const r=$u(t)??i,o=gl(e,r);return io(o.resolve?o.resolve(t,n):r.runInContext(()=>o(t,n)))}(e[a],t,n,i).pipe(Yo(),Zn(c=>{o[a]=c}))),Lg(1),function fR(e){return Pe(()=>e)}(o),Xo(a=>ZD(a)?Kt:Au(a)))}(o,e,t,i).pipe(Pe(a=>(e._resolvedData=a,e.data=OD(e,n).resolve,r&&tC(r)&&(e.data[Ru]=r.title),null)))}(a.route,i,e,t)),Zn(()=>o++),Lg(1),It(a=>o===r.length?Ce(n):Kt))})}(i.paramsInheritanceStrategy,this.environmentInjector),Zn({next:()=>g=!0,complete:()=>{g||(i.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),Zn(d=>{const g=new qR(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}))}),Zg(c=>{const d=g=>{const w=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(g.routeConfig).pipe(Zn(E=>{g.component=E}),Pe(()=>{})));for(const E of g.children)w.push(...d(E));return w};return Sg(d(c.targetSnapshot.root)).pipe(Yh(),An(1))}),Zg(()=>this.afterPreactivation()),Pe(c=>{const d=function ik(e,t,n){const i=Vu(e,t._root,n?n._root:void 0);return new RD(i,t)}(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:d}}),Zn(c=>{i.currentUrlTree=c.urlAfterRedirects,i.rawUrlTree=i.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),i.routerState=c.targetRouterState,"deferred"===i.urlUpdateStrategy&&(c.extras.skipLocationChange||i.setBrowserUrl(i.rawUrlTree,c),i.browserUrlTree=c.urlAfterRedirects)}),((e,t,n,i)=>Pe(r=>(new dk(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)))(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),An(1),Zn({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,i.navigated=!0,this.events.next(new Jo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(i.currentUrlTree))),i.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Nu(()=>{o||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xo(c=>{if(a=!0,$D(c)){VD(c)||(i.navigated=!0,i.restoreHistory(r,!0));const d=new nd(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(d),VD(c)){const g=i.urlHandlingStrategy.merge(c.url,i.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===i.urlUpdateStrategy||iC(r.source)};i.scheduleNavigation(g,Hu,null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{i.restoreHistory(r,!0);const d=new Fg(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(d);try{r.resolve(i.errorHandler(c))}catch(g){r.reject(g)}}return Kt}))}))}cancelNavigationTransition(i,r,o){const a=new nd(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(a),i.resolve(!1)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function iC(e){return e!==Hu}let rC=(()=>{var e;class t{buildTitle(i){let r,o=i.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(a=>a.outlet===Be);return r}getResolvedTitleForRoute(i){return i.data[Ru]}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:function(){return le(tO)},providedIn:"root"}),t})(),tO=(()=>{var e;class t extends rC{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(sD))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nO=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:function(){return le(rO)},providedIn:"root"}),t})();class iO{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let rO=(()=>{var e;class t extends iO{}return(e=t).\u0275fac=function(){let n;return function(r){return(n||(n=function $m(e){return dn(()=>{const t=e.prototype.constructor,n=t[bn]||Ud(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const o=r[bn]||Ud(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}(e)))(r||e)}}(),e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const cd=new ge("",{providedIn:"root",factory:()=>({})});let sO=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:function(){return le(oO)},providedIn:"root"}),t})(),oO=(()=>{var e;class t{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Wu=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Wu||{});function sC(e,t){e.events.pipe(ys(n=>n instanceof Jo||n instanceof nd||n instanceof Fg||n instanceof Uu),Pe(n=>n instanceof Jo||n instanceof Uu?Wu.COMPLETE:n instanceof nd&&(0===n.code||1===n.code)?Wu.REDIRECTING:Wu.FAILED),ys(n=>n!==Wu.REDIRECTING),An(1)).subscribe(()=>{t()})}function aO(e){throw e}function lO(e,t,n){return t.parse("/")}const uO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=le(Rw),this.isNgZoneEnabled=!1,this.options=le(cd,{optional:!0})||{},this.pendingTasks=le(Sh),this.errorHandler=this.options.errorHandler||aO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=le(sO),this.routeReuseStrategy=le(nO),this.titleStrategy=le(rC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=le(vl,{optional:!0})?.flat()??[],this.navigationTransitions=le(ud),this.urlSerializer=le(Ou),this.location=le(ng),this.componentInputBindingEnabled=!!le(rd,{optional:!0}),this.isNgZoneEnabled=le(Nt)instanceof Nt&&Nt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kD(0,null),this.navigationTransitions.setupNavigations(this).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId??0},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hu,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,o){const a={replaceUrl:!0},c=o?.navigationId?o:null;if(o){const g={...o};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const d=this.parseUrl(i);this.scheduleNavigation(d,r,c,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map($g),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,r={}){const{relativeTo:o,queryParams:a,fragment:c,queryParamsHandling:d,preserveFragment:g}=r,w=g?this.currentUrlTree.fragment:c;let x,E=null;switch(d){case"merge":E={...this.currentUrlTree.queryParams,...a};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=a||null}null!==E&&(E=this.removeEmptyProps(E));try{x=bD(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),x=this.currentUrlTree.root}return ID(x,i,E,w??null)}navigateByUrl(i,r={skipLocationChange:!1}){const o=Ko(i)?i:this.parseUrl(i),a=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(a,Hu,null,r)}navigate(i,r={skipLocationChange:!1}){return function hO(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new J(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,i)}return r}isActive(i,r){let o;if(o=!0===r?{...uO}:!1===r?{...cO}:r,Ko(i))return mD(this.currentUrlTree,i,o);const a=this.parseUrl(i);return mD(this.currentUrlTree,a,o)}removeEmptyProps(i){return Object.keys(i).reduce((r,o)=>{const a=i[o];return null!=a&&(r[o]=a),r},{})}scheduleNavigation(i,r,o,a,c){if(this.disposed)return Promise.resolve(!1);let d,g,w;c?(d=c.resolve,g=c.reject,w=c.promise):w=new Promise((x,A)=>{d=x,g=A});const E=this.pendingTasks.add();return sC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(E))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:a,resolve:d,reject:g,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(x=>Promise.reject(x))}setBrowserUrl(i,r){const o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",c)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",a)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class oC{}let pO=(()=>{var e;class t{constructor(i,r,o,a,c){this.router=i,this.injector=o,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ys(i=>i instanceof Jo),cl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const o=[];for(const a of r){a.providers&&!a._injector&&(a._injector=yp(a.providers,i,`Route: ${a.path}`));const c=a._injector??i,d=a._loadedInjector??c;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&o.push(this.preloadConfig(c,a)),(a.children||a._loadedRoutes)&&o.push(this.processRoutes(d,a.children??a._loadedRoutes))}return ut(o).pipe(Ii())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):Ce(null);const a=o.pipe(It(c=>null===c?Ce(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));return r.loadComponent&&!r._loadedComponent?ut([a,this.loader.loadComponent(r)]).pipe(Ii()):a})}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(Hi),fe(kw),fe(_i),fe(oC),fe(Wg))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Xg=new ge("");let aC=(()=>{var e;class t{constructor(i,r,o,a,c={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=a,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Og?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Jo?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Uu&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof AD&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AD(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(i){!function Ev(){throw new Error("invalid")}()},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();function Ms(e,t){return{\u0275kind:e,\u0275providers:t}}function uC(){const e=le(Oi);return t=>{const n=e.get(al);if(t!==n.components[0])return;const i=e.get(Hi),r=e.get(cC);1===e.get(Qg)&&i.initialNavigation(),e.get(hC,null,Ne.Optional)?.setUpPreloading(),e.get(Xg,null,Ne.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const cC=new ge("",{factory:()=>new Je}),Qg=new ge("",{providedIn:"root",factory:()=>1}),hC=new ge("");function vO(e){return Ms(0,[{provide:hC,useExisting:pO},{provide:oC,useExisting:e}])}const dC=new ge("ROUTER_FORROOT_GUARD"),wO=[ng,{provide:Ou,useClass:Pg},Hi,zu,{provide:pl,useFactory:function lC(e){return e.routerState.root},deps:[Hi]},Wg,[]];function MO(){return new Zw("Router",Hi)}let fC=(()=>{var e;class t{constructor(i){}static forRoot(i,r){return{ngModule:t,providers:[wO,[],{provide:vl,multi:!0,useValue:i},{provide:dC,useFactory:bO,deps:[[Hi,new Ic,new Sc]]},{provide:cd,useValue:r||{}},r?.useHash?{provide:Wo,useClass:TP}:{provide:Wo,useClass:DM},{provide:Xg,useFactory:()=>{const e=le(YA),t=le(Nt),n=le(cd),i=le(ud),r=le(Ou);return n.scrollOffset&&e.setOffset(n.scrollOffset),new aC(r,i,e,t,n)}},r?.preloadingStrategy?vO(r.preloadingStrategy).\u0275providers:[],{provide:Zw,multi:!0,useFactory:MO},r?.initialNavigation?IO(r):[],r?.bindToComponentInputs?Ms(8,[HD,{provide:rd,useExisting:HD}]).\u0275providers:[],[{provide:pC,useFactory:uC},{provide:$p,multi:!0,useExisting:pC}]]}}static forChild(i){return{ngModule:t,providers:[{provide:vl,multi:!0,useValue:i}]}}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(dC,8))},e.\u0275mod=vn({type:e}),e.\u0275inj=Rn({}),t})();function bO(e){return"guarded"}function IO(e){return["disabled"===e.initialNavigation?Ms(3,[{provide:Rp,multi:!0,useFactory:()=>{const t=le(Hi);return()=>{t.setUpLocationChangeListener()}}},{provide:Qg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ms(2,[{provide:Qg,useValue:0},{provide:Rp,multi:!0,deps:[Oi],useFactory:t=>{const n=t.get(IP,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=t.get(Hi),o=t.get(cC);sC(r,()=>{i(!0)}),t.get(ud).afterPreactivation=()=>(i(!0),o.closed?Ce(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const pC=new ge(""),TO=[];let xO=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=Rn({imports:[fC.forRoot(TO),fC]}),t})();var be=ne(433),LO=ne(991);ne(946),ne(115);class PO extends be.Control{onAdd(t){let n=be.DomUtil.create("img");return n.src="assets/images/logo.jfif",n.style.width="80px",n}onRemove(t){}constructor(t){super(t)}}class hd{}class dd{}class kr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),o=r.toLowerCase(),a=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof kr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new kr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof kr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,n);const r=("a"===t.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(n);if(!a)return;a=a.filter(c=>-1===o.indexOf(c)),0===a.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class AO{encodeKey(t){return gC(t)}encodeValue(t){return gC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const RO=/%(\d[a-f0-9])/gi,kO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gC(e){return encodeURIComponent(e).replace(RO,(t,n)=>kO[n]??t)}function fd(e){return`${e}`}class ro{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new AO,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function NO(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,c]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],d=n.get(a)||[];d.push(c),n.set(a,d)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const i=t.fromObject[n],r=Array.isArray(i)?i.map(fd):[fd(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new ro({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(fd(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(fd(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class OO{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function mC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function _C(e){return typeof Blob<"u"&&e instanceof Blob}function vC(e){return typeof FormData<"u"&&e instanceof FormData}class Yu{constructor(t,n,i,r){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function FO(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new kr),this.context||(this.context=new OO),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{const c=n.indexOf("?");this.urlWithParams=n+(-1===c?"?":c<n.length-1?"&":"")+a}}else this.params=new ro,this.urlWithParams=n}serializeBody(){return null===this.body?null:mC(this.body)||_C(this.body)||vC(this.body)||function BO(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ro?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vC(this.body)?null:_C(this.body)?this.body.type||null:mC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ro?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,c=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let d=t.headers||this.headers,g=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(d=Object.keys(t.setHeaders).reduce((E,x)=>E.set(x,t.setHeaders[x]),d)),t.setParams&&(g=Object.keys(t.setParams).reduce((E,x)=>E.set(x,t.setParams[x]),g)),new Yu(n,i,o,{params:g,headers:d,context:w,reportProgress:c,responseType:r,withCredentials:a})}}var yl=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(yl||{});class Kg{constructor(t,n=200,i="OK"){this.headers=t.headers||new kr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Jg extends Kg{constructor(t={}){super(t),this.type=yl.ResponseHeader}clone(t={}){return new Jg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wl extends Kg{constructor(t={}){super(t),this.type=yl.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class yC extends Kg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function em(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let wC=(()=>{var e;class t{constructor(i){this.handler=i}request(i,r,o={}){let a;if(i instanceof Yu)a=i;else{let g,w;g=o.headers instanceof kr?o.headers:new kr(o.headers),o.params&&(w=o.params instanceof ro?o.params:new ro({fromObject:o.params})),a=new Yu(i,r,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:w,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const c=Ce(a).pipe(cl(g=>this.handler.handle(g)));if(i instanceof Yu||"events"===o.observe)return c;const d=c.pipe(ys(g=>g instanceof wl));switch(o.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return d.pipe(Pe(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return d.pipe(Pe(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return d.pipe(Pe(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return d.pipe(Pe(g=>g.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:(new ro).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,em(o,r))}post(i,r,o={}){return this.request("POST",i,em(o,r))}put(i,r,o={}){return this.request("PUT",i,em(o,r))}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(hd))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();function CC(e,t){return t(e)}function HO(e,t){return(n,i)=>t.intercept(n,{handle:r=>e(r,i)})}const zO=new ge(""),Xu=new ge(""),EC=new ge("");function VO(){let e=null;return(t,n)=>{null===e&&(e=(le(zO,{optional:!0})??[]).reduceRight(HO,CC));const i=le(Sh),r=i.add();return e(t,n).pipe(Nu(()=>i.remove(r)))}}let bC=(()=>{var e;class t extends hd{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=le(Sh)}handle(i){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Xu),...this.injector.get(EC,[])]));this.chain=o.reduceRight((a,c)=>function UO(e,t,n){return(i,r)=>n.runInContext(()=>t(i,o=>e(o,r)))}(a,c,this.injector),CC)}const r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Nu(()=>this.pendingTasks.remove(r)))}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(dd),fe(_i))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();const ZO=/^\)\]\}',?\n/;let SC=(()=>{var e;class t{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new J(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?ut(r.\u0275loadImpl()):Ce(null)).pipe(Jt(()=>new Ve(a=>{const c=r.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((Z,K)=>c.setRequestHeader(Z,K.join(","))),i.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const Z=i.detectContentTypeHeader();null!==Z&&c.setRequestHeader("Content-Type",Z)}if(i.responseType){const Z=i.responseType.toLowerCase();c.responseType="json"!==Z?Z:"text"}const d=i.serializeBody();let g=null;const w=()=>{if(null!==g)return g;const Z=c.statusText||"OK",K=new kr(c.getAllResponseHeaders()),V=function WO(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(c)||i.url;return g=new Jg({headers:K,status:c.status,statusText:Z,url:V}),g},E=()=>{let{headers:Z,status:K,statusText:V,url:me}=w(),he=null;204!==K&&(he=typeof c.response>"u"?c.responseText:c.response),0===K&&(K=he?200:0);let Ue=K>=200&&K<300;if("json"===i.responseType&&"string"==typeof he){const Mn=he;he=he.replace(ZO,"");try{he=""!==he?JSON.parse(he):null}catch(Mi){he=Mn,Ue&&(Ue=!1,he={error:Mi,text:he})}}Ue?(a.next(new wl({body:he,headers:Z,status:K,statusText:V,url:me||void 0})),a.complete()):a.error(new yC({error:he,headers:Z,status:K,statusText:V,url:me||void 0}))},x=Z=>{const{url:K}=w(),V=new yC({error:Z,status:c.status||0,statusText:c.statusText||"Unknown Error",url:K||void 0});a.error(V)};let A=!1;const F=Z=>{A||(a.next(w()),A=!0);let K={type:yl.DownloadProgress,loaded:Z.loaded};Z.lengthComputable&&(K.total=Z.total),"text"===i.responseType&&c.responseText&&(K.partialText=c.responseText),a.next(K)},$=Z=>{let K={type:yl.UploadProgress,loaded:Z.loaded};Z.lengthComputable&&(K.total=Z.total),a.next(K)};return c.addEventListener("load",E),c.addEventListener("error",x),c.addEventListener("timeout",x),c.addEventListener("abort",x),i.reportProgress&&(c.addEventListener("progress",F),null!==d&&c.upload&&c.upload.addEventListener("progress",$)),c.send(d),a.next({type:yl.Sent}),()=>{c.removeEventListener("error",x),c.removeEventListener("abort",x),c.removeEventListener("load",E),c.removeEventListener("timeout",x),i.reportProgress&&(c.removeEventListener("progress",F),null!==d&&c.upload&&c.upload.removeEventListener("progress",$)),c.readyState!==c.DONE&&c.abort()}})))}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(UM))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();const tm=new ge("XSRF_ENABLED"),TC=new ge("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),xC=new ge("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class LC{}let QO=(()=>{var e;class t{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=AM(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return(e=t).\u0275fac=function(i){return new(i||e)(fe(yi),fe(Uo),fe(TC))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),t})();function KO(e,t){const n=e.url.toLowerCase();if(!le(tm)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const i=le(LC).getToken(),r=le(xC);return null!=i&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}var so=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(so||{});function ea(e,t){return{\u0275kind:e,\u0275providers:t}}function JO(...e){const t=[wC,SC,bC,{provide:hd,useExisting:bC},{provide:dd,useExisting:SC},{provide:Xu,useValue:KO,multi:!0},{provide:tm,useValue:!0},{provide:LC,useClass:QO}];for(const n of e)t.push(...n.\u0275providers);return function mf(e){return{\u0275providers:e}}(t)}const PC=new ge("LEGACY_INTERCEPTOR_FN");let t2=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=Rn({providers:[JO(ea(so.LegacyInterceptors,[{provide:PC,useFactory:VO},{provide:Xu,useExisting:PC,multi:!0}]))]}),t})();const nm=LO.default;let a2=(()=>{var e;class t{constructor(i){this.http=i,this.title="upes",this.once=!0,this.limit=[],this.trans={inverse:r=>r,forward:r=>r},this.options={layers:[be.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"..."})],zoom:7,center:be.latLng(47.482019,-1)},this.apiUrl="https://ngs.pythonanywhere.com/track",this.drawOptions={position:"topright",draw:{marker:{icon:be.icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png"})},polygon:!1,circlemarker:!1}},nm.defs("EPSG:3346","+proj=tmerc +lat_0=0 +lon_0=24 +k=0.9998 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"),this.trans=nm("EPSG:3346","EPSG:4326"),be.Icon.Default.imagePath="assets/images/"}onMapReady(i){console.log("onMapReady",i)}atgal(i){let r=(new Date).getTime(),o=nm("EPSG:4326","EPSG:27700");for(let a=0;a<i.features.length;a++){let d=i.features[a].geometry;for(let g=0;g<d.coordinates.length;g++){let w=d.coordinates[g];d.coordinates[g]=o.inverse([w[1],w[0]])}}console.log("atgal",(new Date).getTime()-r)}swap(i){let r=(new Date).getTime();for(let o=0;o<i.features.length;o++){let c=i.features[o].geometry;for(let d=0;d<c.coordinates.length;d++){let g=c.coordinates[d];c.coordinates[d]=[g[1],g[0]]}}console.log("atgal",(new Date).getTime()-r)}swapCoordinatesIfNeeded(i){i.crs&&i.crs.properties&&"urn:ogc:def:crs:OGC:1.3:CRS84"!==i.crs.properties.name&&i.features.forEach(r=>{let o=r.geometry;"Point"===o.type?o.coordinates=[o.coordinates[1],o.coordinates[0]]:"LineString"===o.type||"Polygon"===o.type?o.coordinates=o.coordinates.map(a=>[a[1],a[0]]):("MultiLineString"===o.type||"MultiPolygon"===o.type)&&(o.coordinates=o.coordinates.map(a=>a.map(c=>[c[1],c[0]])))})}manoLayer(i){let o=0,a=["purple","black","magenta","green","red","yellow"],c={pointToLayer:(w,E)=>be.marker(E).bindPopup(w.properties.name||"nerasta"),onEachFeature:(w,E)=>{E.bindPopup("<b>Key:</b> "+w.geometry.properties.prt+"<br><b>Location:</b> "+w.geometry.properties.name+"<br><b>Sub:</b> "+w.geometry.properties.id+"<br><a href='"+w.geometry.properties.ogr_fid+"'>More info</a>",{closeButton:!0,offset:be.point(0,-20)}),E.on("click",()=>{E.openPopup()})},style:w=>({color:a[o++%a.length]})};const g=(i.crs&&i.crs.properties&&"urn:ogc:def:crs:EPSG::3346"==i.crs.properties.name?be.Proj.geoJson:be.geoJSON)(i,c).addTo(this.map);this.layers=g,this.addCirclesToStartOfLineString(g)}calculateAngle(i,r){return Math.atan2(r[1]-i[1],r[0]-i[0])*(180/Math.PI)}calcMiddleLatLng(i,r,o){const a=i.project(r),c=i.project(o);return i.unproject(a._add(c)._divideBy(2))}createMiddleMarkers(i){const r={radius:2,fillColor:"#ff7800",color:"#000",weight:1,opacity:1,fillOpacity:.8};let o=i.getLatLngs();for(let a=1;a<o.length;a++){let c=o[a-1],g=this.calcMiddleLatLng(this.map,c,c);r.color=i.options.color,r.fillColor=i.options.color,be.circleMarker(g,r).addTo(this.map);break}}addCirclesToStartOfLineString(i){be.divIcon({className:"arrow-icon",html:"\u2192",iconSize:[20,20],iconAnchor:[10,10]}),i.eachLayer(o=>{"Polyline"===this.getLayerTypeName(o)&&this.createMiddleMarkers(o)})}ngOnInit(){this.http.get(`${this.apiUrl}/geojson`).subscribe(i=>{console.log(new Array(100).join("*"),i),this.data=i}),this.loadMap()}ngAfterViewInit(){}getCurrentPosition(){return new Ve(i=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(r=>{i.next({latitude:r.coords.latitude,longitude:r.coords.longitude}),i.complete()},r=>{i.next({latitude:55.686416,longitude:21.181716}),i.complete(),console.log(r)}):i.error()})}loadMap(){this.map=be.map("map",{center:[0,0],zoom:1}).on("load",this.onMapLoad).setView([0,0],1),be.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:"OSM"}).addTo(this.map),this.addLeafletExtras(),this.getCurrentPosition().subscribe(i=>{this.map.flyTo([i.latitude,i.longitude],13),this.map.on("zoomend",this.onFlyToEnd,this),this.position=i})}onFlyToEnd(){this.map.off("zoomend",this.onFlyToEnd,this),this.map.on("zoomend",()=>{console.log("callback zoomend")}),this.activateLayer()}activateLayer(){be.icon({iconUrl:"assets/images/marker-icon.png",shadowUrl:"assets/images/marker-shadow.png",popupAnchor:[13,0]});const r=this.position;be.circleMarker([r.latitude,r.longitude]).bindPopup("Angular Leaflet").addTo(this.map),this.manoLayer(this.data)}orPointLine(i){console.log(this.limit),(0==this.limit.length||1==this.limit.length)&&this.limit.push(i.latlng),2==this.limit.length&&(0==this.limit[0].distanceTo(this.limit[1])?be.marker(i,{draggable:!0}).addTo(this.drawnItems):be.polyline(this.limit).on("click",()=>{}).addTo(this.drawnItems),this.limit=[])}addMarker(i){let r=be.marker(i.latlng,{draggable:!0}).addTo(this.drawnItems);return r.on("drag",o=>{}),r.on("dragstart",o=>{console.log("marker dragstart event",o)}),r.on("dragend",o=>{console.log("marker dragend event",this.getLayerTypeName(o.target),this.getLayerTypeName(o.sourceTarget)),2==this.limit.length&&(console.log("distance",this.limit[0].getLatLng().distanceTo(this.limit[1].getLatLng())),this.getLength2(o.target))}),r}getLayerTypeName(i){return i instanceof be.Marker?"Marker":i instanceof be.circleMarker?"circleMarker":i instanceof be.Polyline?"Polyline":i instanceof be.Circle?"Circle":i instanceof be.Rectangle?"Rectangle":i instanceof be.Polygon?"Polygon":i instanceof be.Layer?"Layer":i instanceof be.LatLng?"LatLng":"Unknown"}addLeafletExtras(){new PO({position:"bottomleft"}).addTo(this.map),this.map.on("contextmenu",o=>{console.log(this.limit),(0==this.limit.length||1==this.limit.length)&&this.limit.push(this.addMarker(o)),2==this.limit.length&&(console.log("distance",this.limit[0].getLatLng().distanceTo(this.limit[1].getLatLng())),this.getLength2(this.limit[1]))}),this.map.on(be.Draw.Event.CREATED,o=>{let a=o.layer;this.drawnItems.addLayer(a),a instanceof be.Polyline&&this.getLength2(a),a instanceof be.Polygon&&console.log(this.toWKT(a)),a instanceof be.Marker&&this.map.locate({setView:!0,watch:!0}).on("locationfound",c=>{console.log(c);var d=be.marker([c.latitude,c.longitude]).bindPopup("Your are here :)"),g=be.circle([c.latitude,c.longitude],c.accuracy/2,{weight:1,color:"blue",fillColor:"#cacaca",fillOpacity:.2});this.map.addLayer(d),this.map.addLayer(g)}).on("locationerror",c=>{console.log(c),alert("Location access denied.")})}),this.map.on(be.Draw.Event.DELETED,o=>{this.drawnItems.removeLayer(o.layer),this.limit.length=0}),this.map.on(be.Draw.Event.EDITED,o=>{o.layers.eachLayer(c=>{console.log("layer",this.getLayerTypeName(c)),c instanceof be.Polyline&&this.getLength2(c),console.log(this.toWKT(c))})}),this.drawnItems=new be.FeatureGroup,this.minija=new be.FeatureGroup,this.map.addLayer(this.drawnItems);let i=new be.Control.Draw({position:"topright",edit:{featureGroup:this.drawnItems,remove:!0},draw:{polygon:!1,circlemarker:!1,rectangle:!1,marker:!1,circle:!1}});this.map.addControl(i);const r=be.Control.extend({options:{position:"topright"},onAdd:o=>{var a=be.DomUtil.create("div","leaflet-bar"),c=be.DomUtil.create("a","",a);return c.innerHTML="#",c.title="Find ogr_fid",c.href="#",c.onclick=()=>{let d=prompt("Enter the ogr_fid to search:");return d&&parseInt(d)&&this.zoomToFeatureByOgrFid(parseInt(d)),!1},a}});this.map.addControl(new r)}onMapLoad(){console.log("map loaded")}onDrawReady(i){console.log("onDrawReady",i)}geoJSONToWKT(i){let r="";switch("Feature"===i.type&&(i=i.geometry),i.type){case"Point":r="POINT("+i.coordinates.join(" ")+")";break;case"LineString":r="LINESTRING("+i.coordinates.map(o=>o.join(" ")).join(", ")+")";break;case"Polygon":r="POLYGON(("+i.coordinates[0].map(o=>o.join(" ")).join(", ")+"))"}return r}toWKT(i){let r=this.trans,o=a=>r.inverse(a).join(" ");if(i instanceof be.Polygon||i instanceof be.Polyline){let a=i.toGeoJSON();console.log(a);let c=a.geometry.coordinates.map(o);if(i instanceof be.Polygon)return"POLYGON(("+c.join(",")+"))";if(i instanceof be.Polyline)return"LINESTRING("+c.join(",")+")"}else if(i instanceof be.Marker){let a=i.getLatLng();return"POINT("+o([a.lng,a.lat])+")"}}getLength2(i){let r;r=i instanceof be.Polyline?new URLSearchParams({line:this.toWKT(i)}):new URLSearchParams({start:this.toWKT(this.limit[0]),end:this.toWKT(this.limit[1])}),fetch(`${this.apiUrl}/geojson`,{method:"POST",body:r,headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(o=>o.json()).then(o=>{console.log("data",o),this.popupLength2(o,i)}).catch(o=>console.log("error",o))}popupLength2(i,r){var o="<b>Atstumas:</b> "+i.Distance+"<br><b>Minija:</b> "+i.Segment+"<br><b>Skirtumas:</b> "+(i.Segment-i.Distance)+"<br><a href='#"+i.labas+"'>Daugiau</a>";r?r.bindPopup(o,{closeButton:!0}).openPopup():2==this.limit.length&&be.popup().setLatLng(this.calcMiddleLatLng(this.map,this.limit[0].getLatLng(),this.limit[1].getLatLng())).setContent(o).openOn(this.map)}zoomToFeatureByOgrFid(i){this.layers.eachLayer(r=>{r.feature&&r.feature.geometry&&r.feature.geometry.properties.ogr_fid==i&&(this.map.fitBounds(r.getBounds()),r.openPopup())})}}return(e=t).\u0275fac=function(i){return new(i||e)(Te(wC))},e.\u0275cmp=Po({type:e,selectors:[["app-root"]],decls:1,vars:0,consts:[["leaflet","","id","map",3,"leafletMapReady"]],template:function(i,r){1&i&&(ph(0,"div",0),_h("leafletMapReady",function(a){return r.onMapReady(a)}),gh())},styles:["#map[_ngcontent-%COMP%]{height:100%;width:100%}.arrow-icon[_ngcontent-%COMP%]{transform:rotate(0);font-size:16px;color:red}"]}),t})(),l2=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=vn({type:e,bootstrap:[a2]}),e.\u0275inj=Rn({imports:[zN,xO,t2]}),t})();HN().bootstrapModule(l2).catch(e=>console.error(e))},115:()=>{var Di,Dn,_;Di=window,Dn=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(_,D){this._map=_,this._container=_._container,this._overlayPane=_._panes.overlayPane,this._popupPane=_._panes.popupPane,D&&D.shapeOptions&&(D.shapeOptions=L.Util.extend({},this.options.shapeOptions,D.shapeOptions)),L.setOptions(this,D);var T=L.version.split(".");1===parseInt(T[0],10)&&parseInt(T[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var _=this._map;_&&(L.DomUtil.disableTextSelection(),_.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(_){L.setOptions(this,_)},_fireCreatedEvent:function(_){this._map.fire(L.Draw.Event.CREATED,{layer:_,layerType:this.type})},_cancelDrawing:function(_){27===_.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(_,D){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,D&&D.drawError&&(D.drawError=L.Util.extend({},this.options.drawError,D.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,_,D)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var _=this._markers.pop(),D=this._poly,T=D.getLatLngs(),B=T.splice(-1,1)[0];this._poly.setLatLngs(T),this._markerGroup.removeLayer(_),D.getLatLngs().length<2&&this._map.removeLayer(D),this._vertexChanged(B,!1)}},addVertex:function(_){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(_)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(_)),this._poly.addLatLng(_),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(_,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var _=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),D=this._poly.newLatLngIntersects(_[_.length-1]);!this.options.allowIntersection&&D||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(_){var D=this._map.mouseEventToLayerPoint(_.originalEvent),T=this._map.layerPointToLatLng(D);this._currentLatLng=T,this._updateTooltip(T),this._updateGuide(D),this._mouseMarker.setLatLng(T),L.DomEvent.preventDefault(_.originalEvent)},_vertexChanged:function(_,D){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(_,D),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(_){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(_),this._clickHandled=!0,this._disableNewMarkers();var D=_.originalEvent;this._startPoint.call(this,D.clientX,D.clientY)}},_startPoint:function(_,D){this._mouseDownOrigin=L.point(_,D)},_onMouseUp:function(_){var D=_.originalEvent;this._endPoint.call(this,D.clientX,D.clientY,_),this._clickHandled=null},_endPoint:function(_,D,T){if(this._mouseDownOrigin){var B=L.point(_,D).distanceTo(this._mouseDownOrigin),O=this._calculateFinishDistance(T.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(T.latlng),this._finishShape()):O<10&&L.Browser.touch?this._finishShape():Math.abs(B)<9*(Di.devicePixelRatio||1)&&this.addVertex(T.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(_){var D,T,B=_.originalEvent;!B.touches||!B.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(D=B.touches[0].clientX,T=B.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,D,T),this._endPoint.call(this,D,T,_),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(_){var D;if(this._markers.length>0){var T;if(this.type===L.Draw.Polyline.TYPE)T=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;T=this._markers[0]}var B=this._map.latLngToContainerPoint(T.getLatLng()),O=new L.Marker(_,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),G=this._map.latLngToContainerPoint(O.getLatLng());D=B.distanceTo(G)}else D=1/0;return D},_updateFinishHandler:function(){var _=this._markers.length;_>1&&this._markers[_-1].on("click",this._finishShape,this),_>2&&this._markers[_-2].off("click",this._finishShape,this)},_createMarker:function(_){var D=new L.Marker(_,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(D),D},_updateGuide:function(_){var D=this._markers?this._markers.length:0;D>0&&(_=_||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[D-1].getLatLng()),_))},_updateTooltip:function(_){var D=this._getTooltipText();_&&this._tooltip.updatePosition(_),this._errorShown||this._tooltip.updateContent(D)},_drawGuide:function(_,D){var T,B,O,G=Math.floor(Math.sqrt(Math.pow(D.x-_.x,2)+Math.pow(D.y-_.y,2))),te=this.options.maxGuideLineLength,De=G>te?G-te:this.options.guidelineDistance;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));De<G;De+=this.options.guidelineDistance)T=De/G,B={x:Math.floor(_.x*(1-T)+T*D.x),y:Math.floor(_.y*(1-T)+T*D.y)},(O=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(O,B)},_updateGuideColor:function(_){if(this._guidesContainer)for(var D=0,T=this._guidesContainer.childNodes.length;D<T;D++)this._guidesContainer.childNodes[D].style.backgroundColor=_},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var _,D;return 0===this._markers.length?_={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(D=this.options.showLength?this._getMeasurementString():"",_=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:D}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:D}),_},_updateRunningMeasure:function(_,D){var T,B,O=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(T=O-(D?2:1),B=L.GeometryUtil.isVersion07x()?_.distanceTo(this._markers[T].getLatLng())*(this.options.factor||1):this._map.distance(_,this._markers[T].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=B*(D?1:-1))},_getMeasurementString:function(){var _,D=this._currentLatLng,T=this._markers[this._markers.length-1].getLatLng();return _=L.GeometryUtil.isVersion07x()?T&&D&&D.distanceTo?this._measurementRunningTotal+D.distanceTo(T)*(this.options.factor||1):this._measurementRunningTotal||0:T&&D?this._measurementRunningTotal+this._map.distance(D,T)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(_,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var _=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,_)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(_,D){L.Draw.Polyline.prototype.initialize.call(this,_,D),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var _=this._markers.length;1===_&&this._markers[0].on("click",this._finishShape,this),_>2&&(this._markers[_-1].on("dblclick",this._finishShape,this),_>3&&this._markers[_-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var _,D;return 0===this._markers.length?_=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(_=L.drawLocal.draw.handlers.polygon.tooltip.cont,D=this._getMeasurementString()):(_=L.drawLocal.draw.handlers.polygon.tooltip.end,D=this._getMeasurementString()),{text:_,subtext:D}},_getMeasurementString:function(){var _=this._area,D="";return _||this.options.showLength?(this.options.showLength&&(D=L.Draw.Polyline.prototype._getMeasurementString.call(this)),_&&(D+="<br>"+L.GeometryUtil.readableArea(_,this.options.metric,this.options.precision)),D):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(_,D){var T;!this.options.allowIntersection&&this.options.showArea&&(T=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(T)),L.Draw.Polyline.prototype._vertexChanged.call(this,_,D)},_cleanUpShape:function(){var _=this._markers.length;_>0&&(this._markers[0].off("click",this._finishShape,this),_>2&&this._markers[_-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(_,D){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,_,D)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),Dn.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(Dn,"mouseup",this._onMouseUp,this),L.DomEvent.off(Dn,"touchend",this._onMouseUp,this),Dn.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(_){this._isDrawing=!0,this._startLatLng=_.latlng,L.DomEvent.on(Dn,"mouseup",this._onMouseUp,this).on(Dn,"touchend",this._onMouseUp,this).preventDefault(_.originalEvent)},_onMouseMove:function(_){var D=_.latlng;this._tooltip.updatePosition(D),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(D))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(_,D){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,_,D)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(_){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function ze(_,D){for(;(_=_.parentElement)&&!_.classList.contains(D););return _}(_.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(_){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,_)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,_),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var _=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,_)},_getTooltipText:function(){var _,D,T,B=L.Draw.SimpleShape.prototype._getTooltipText.call(this),G=this.options.showArea;return this._shape&&(_=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),D=L.GeometryUtil.geodesicArea(_),T=G?L.GeometryUtil.readableArea(D,this.options.metric):""),{text:B.text,subtext:T}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(_,D){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,_,D)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(_){var D=_.latlng;this._tooltip.updatePosition(D),this._mouseMarker.setLatLng(D),this._marker?(D=this._mouseMarker.getLatLng(),this._marker.setLatLng(D)):(this._marker=this._createMarker(D),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(_){return new L.Marker(_,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(_){this._onMouseMove(_),this._onClick()},_fireCreatedEvent:function(){var _=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,_)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(_,D){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,_,D)},_fireCreatedEvent:function(){var _=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,_)},_createMarker:function(_){return new L.CircleMarker(_,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(_,D){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,_,D)},_drawShape:function(_){if(L.GeometryUtil.isVersion07x())var D=this._startLatLng.distanceTo(_);else D=this._map.distance(this._startLatLng,_);this._shape?this._shape.setRadius(D):(this._shape=new L.Circle(this._startLatLng,D,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var _=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,_)},_onMouseMove:function(_){var D,T=_.latlng,B=this.options.showRadius,O=this.options.metric;if(this._tooltip.updatePosition(T),this._isDrawing){this._drawShape(T),D=this._shape.getRadius().toFixed(1);var G="";B&&(G=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(D,O,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:G})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(_,D){this._marker=_,L.setOptions(this,D)},addHooks:function(){var _=this._marker;_.dragging.enable(),_.on("dragend",this._onDragEnd,_),this._toggleMarkerHighlight()},removeHooks:function(){var _=this._marker;_.dragging.disable(),_.off("dragend",this._onDragEnd,_),this._toggleMarkerHighlight()},_onDragEnd:function(_){var D=_.target;D.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:D})},_toggleMarkerHighlight:function(){var _=this._marker._icon;_&&(_.style.display="none",L.DomUtil.hasClass(_,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(_,"leaflet-edit-marker-selected"),this._offsetMarker(_,-4)):(L.DomUtil.addClass(_,"leaflet-edit-marker-selected"),this._offsetMarker(_,4)),_.style.display="")},_offsetMarker:function(_,D){var T=parseInt(_.style.marginTop,10)-D,B=parseInt(_.style.marginLeft,10)-D;_.style.marginTop=T+"px",_.style.marginLeft=B+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(_){this.latlngs=[_._latlngs],_._holes&&(this.latlngs=this.latlngs.concat(_._holes)),this._poly=_,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(_){for(var D=0;D<this._verticesHandlers.length;D++)_(this._verticesHandlers[D])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(_){_.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(_){_.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(_){_.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var _=0;_<this.latlngs.length;_++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[_],this._poly.options.poly))},_updateLatLngs:function(_){this.latlngs=[_.layer._latlngs],_.layer._holes&&(this.latlngs=this.latlngs.concat(_.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(_,D,T){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=_,T&&T.drawError&&(T.drawError=L.Util.extend({},this.options.drawError,T.drawError)),this._latlngs=D,L.setOptions(this,T)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var _=this._poly,D=_._path;_ instanceof L.Polygon||(_.options.fill=!1,_.options.editing&&(_.options.editing.fill=!1)),D&&_.options.editing&&_.options.editing.className&&(_.options.original.className&&_.options.original.className.split(" ").forEach(function(T){L.DomUtil.removeClass(D,T)}),_.options.editing.className.split(" ").forEach(function(T){L.DomUtil.addClass(D,T)})),_.setStyle(_.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var _=this._poly,D=_._path;D&&_.options.editing&&_.options.editing.className&&(_.options.editing.className.split(" ").forEach(function(T){L.DomUtil.removeClass(D,T)}),_.options.original.className&&_.options.original.className.split(" ").forEach(function(T){L.DomUtil.addClass(D,T)})),_.setStyle(_.options.original),_._map&&(_._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var _,D,T,B,G,W,O=this._defaultShape();for(_=0,T=O.length;_<T;_++)(B=this._createMarker(O[_],_)).on("click",this._onMarkerClick,this),B.on("contextmenu",this._onContextMenu,this),this._markers.push(B);for(_=0,D=T-1;_<T;D=_++)(0!==_||L.Polygon&&this._poly instanceof L.Polygon)&&(this._createMiddleMarker(G=this._markers[D],W=this._markers[_]),this._updatePrevNext(G,W))},_createMarker:function(_,D){var T=new L.Marker.Touch(_,{draggable:!0,icon:this.options.icon});return T._origLatLng=_,T._index=D,T.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(T),T},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var _=this._defaultShape(),D=[].splice.apply(_,arguments);return this._poly._convertLatLngs(_,!0),this._poly.redraw(),D},_removeMarker:function(_){var D=_._index;this._markerGroup.removeLayer(_),this._markers.splice(D,1),this._spliceLatLngs(D,1),this._updateIndexes(D,-1),_.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(_){var D=_.target,T=this._poly,B=L.LatLngUtil.cloneLatLng(D._origLatLng);if(L.extend(D._origLatLng,D._latlng),T.options.poly){var O=T._map._editTooltip;if(!T.options.poly.allowIntersection&&T.intersects()){L.extend(D._origLatLng,B),D.setLatLng(B);var G=T.options.color;T.setStyle({color:this.options.drawError.color}),O&&O.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){T.setStyle({color:G}),O&&O.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}D._middleLeft&&D._middleLeft.setLatLng(this._getMiddleLatLng(D._prev,D)),D._middleRight&&D._middleRight.setLatLng(this._getMiddleLatLng(D,D._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var W=this._poly.getLatLngs();this._poly._convertLatLngs(W,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(_){var D=L.Polygon&&this._poly instanceof L.Polygon?4:3,T=_.target;this._defaultShape().length<D||(this._removeMarker(T),this._updatePrevNext(T._prev,T._next),T._middleLeft&&this._markerGroup.removeLayer(T._middleLeft),T._middleRight&&this._markerGroup.removeLayer(T._middleRight),T._prev&&T._next?this._createMiddleMarker(T._prev,T._next):T._prev?T._next||(T._prev._middleRight=null):T._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(_){this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:_.target,layers:this._markerGroup,poly:this._poly}),L},_onTouchMove:function(_){var D=this._map.mouseEventToLayerPoint(_.originalEvent.touches[0]),T=this._map.layerPointToLatLng(D),B=_.target;L.extend(B._origLatLng,T),B._middleLeft&&B._middleLeft.setLatLng(this._getMiddleLatLng(B._prev,B)),B._middleRight&&B._middleRight.setLatLng(this._getMiddleLatLng(B,B._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(_,D){this._markerGroup.eachLayer(function(T){T._index>_&&(T._index+=D)})},_createMiddleMarker:function(_,D){var T,B,O,G=this._getMiddleLatLng(_,D),W=this._createMarker(G);W.setOpacity(.6),_._middleRight=D._middleLeft=W,B=function(){W.off("touchmove",B,this);var te=D._index;W._index=te,W.off("click",T,this).on("click",this._onMarkerClick,this),G.lat=W.getLatLng().lat,G.lng=W.getLatLng().lng,this._spliceLatLngs(te,0,G),this._markers.splice(te,0,W),W.setOpacity(1),this._updateIndexes(te,1),D._index++,this._updatePrevNext(_,W),this._updatePrevNext(W,D),this._poly.fire("editstart")},O=function(){W.off("dragstart",B,this),W.off("dragend",O,this),W.off("touchmove",B,this),this._createMiddleMarker(_,W),this._createMiddleMarker(W,D)},W.on("click",T=function(){B.call(this),O.call(this),this._fireEdit()},this).on("dragstart",B,this).on("dragend",O,this).on("touchmove",B,this),this._markerGroup.addLayer(W)},_updatePrevNext:function(_,D){_&&(_._next=D),D&&(D._prev=_)},_getMiddleLatLng:function(_,D){var T=this._poly._map,B=T.project(_.getLatLng()),O=T.project(D.getLatLng());return T.unproject(B._add(O)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(_,D){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=_,L.Util.setOptions(this,D)},addHooks:function(){var _=this._shape;this._shape._map&&(this._map=this._shape._map,_.setStyle(_.options.editing),_._map&&(this._map=_._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var _=this._shape;if(_.setStyle(_.options.original),_._map){this._unbindMarker(this._moveMarker);for(var D=0,T=this._resizeMarkers.length;D<T;D++)this._unbindMarker(this._resizeMarkers[D]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(_,D){var T=new L.Marker.Touch(_,{draggable:!0,icon:D,zIndexOffset:10});return this._bindMarker(T),this._markerGroup.addLayer(T),T},_bindMarker:function(_){_.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(_){_.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(_){_.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(_){var D=_.target,T=D.getLatLng();D===this._moveMarker?this._move(T):this._resize(T),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(_){_.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(_){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,_),"function"==typeof this._getCorners){var D=this._getCorners(),T=_.target,B=T._cornerIndex;T.setOpacity(0),this._oppositeCorner=D[(B+2)%4],this._toggleCornerMarkers(0,B)}this._shape.fire("editstart")},_onTouchMove:function(_){var D=this._map.mouseEventToLayerPoint(_.originalEvent.touches[0]),T=this._map.layerPointToLatLng(D);return _.target===this._moveMarker?this._move(T):this._resize(T),this._shape.redraw(),!1},_onTouchEnd:function(_){_.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var D=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(D,this.options.moveIcon)},_createResizeMarker:function(){var _=this._getCorners();this._resizeMarkers=[];for(var D=0,T=_.length;D<T;D++)this._resizeMarkers.push(this._createMarker(_[D],this.options.resizeIcon)),this._resizeMarkers[D]._cornerIndex=D},_onMarkerDragStart:function(_){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,_);var D=this._getCorners(),B=_.target._cornerIndex;this._oppositeCorner=D[(B+2)%4],this._toggleCornerMarkers(0,B)},_onMarkerDragEnd:function(_){var T,B=_.target;B===this._moveMarker&&(T=this._shape.getBounds().getCenter(),B.setLatLng(T)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,_)},_move:function(_){for(var D,T=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),O=this._shape.getBounds().getCenter(),G=[],W=0,te=T.length;W<te;W++)G.push([_.lat+(D=[T[W].lat-O.lat,T[W].lng-O.lng])[0],_.lng+D[1]]);this._shape.setLatLngs(G),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(_){var D;this._shape.setBounds(L.latLngBounds(_,this._oppositeCorner)),D=this._shape.getBounds(),this._moveMarker.setLatLng(D.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var _=this._shape.getBounds();return[_.getNorthWest(),_.getNorthEast(),_.getSouthEast(),_.getSouthWest()]},_toggleCornerMarkers:function(_){for(var D=0,T=this._resizeMarkers.length;D<T;D++)this._resizeMarkers[D].setOpacity(_)},_repositionCornerMarkers:function(){for(var _=this._getCorners(),D=0,T=this._resizeMarkers.length;D<T;D++)this._resizeMarkers[D].setLatLng(_[D])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var _=this._shape.getLatLng();this._moveMarker=this._createMarker(_,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(_){if(this._resizeMarkers.length){var D=this._getResizeMarkerPoint(_);this._resizeMarkers[0].setLatLng(D)}this._shape.setLatLng(_),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var _=this._shape.getLatLng(),D=this._getResizeMarkerPoint(_);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(D,this.options.resizeIcon))},_getResizeMarkerPoint:function(_){var D=this._shape._radius*Math.cos(Math.PI/4),T=this._map.project(_);return this._map.unproject([T.x+D,T.y-D])},_resize:function(_){var D=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=D.distanceTo(_):radius=this._map.distance(D,_),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(_){this._map=_,this._container=_._container,this._pane=_._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(_,D){var T={};if(void 0!==_.touches){if(!_.touches.length)return;T=_.touches[0]}else if("touch"!==_.pointerType||(T=_,!this._filterClick(_)))return;var B=this._map.mouseEventToContainerPoint(T),O=this._map.mouseEventToLayerPoint(T),G=this._map.layerPointToLatLng(O);this._map.fire(D,{latlng:G,layerPoint:O,containerPoint:B,pageX:T.pageX,pageY:T.pageY,originalEvent:_})},_filterClick:function(_){var D=_.timeStamp||_.originalEvent.timeStamp,T=L.DomEvent._lastClick&&D-L.DomEvent._lastClick;return T&&T>100&&T<500||_.target._simulatedClick&&!_._simulated?(L.DomEvent.stop(_),!1):(L.DomEvent._lastClick=D,!0)},_onTouchStart:function(_){this._map._loaded&&this._touchEvent(_,"touchstart")},_onTouchEnd:function(_){this._map._loaded&&this._touchEvent(_,"touchend")},_onTouchCancel:function(_){if(this._map._loaded){var D="touchcancel";this._detectIE()&&(D="pointercancel"),this._touchEvent(_,D)}},_onTouchLeave:function(_){this._map._loaded&&this._touchEvent(_,"touchleave")},_onTouchMove:function(_){this._map._loaded&&this._touchEvent(_,"touchmove")},_detectIE:function(){var _=Di.navigator.userAgent,D=_.indexOf("MSIE ");if(D>0)return parseInt(_.substring(D+5,_.indexOf(".",D)),10);if(_.indexOf("Trident/")>0){var T=_.indexOf("rv:");return parseInt(_.substring(T+3,_.indexOf(".",T)),10)}var B=_.indexOf("Edge/");return B>0&&parseInt(_.substring(B+5,_.indexOf(".",B)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var _=this._icon,D=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];D.concat(this._detectIE?["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]:["touchcancel"]),L.DomUtil.addClass(_,"leaflet-clickable"),L.DomEvent.on(_,"click",this._onMouseClick,this),L.DomEvent.on(_,"keypress",this._onKeyPress,this);for(var T=0;T<D.length;T++)L.DomEvent.on(_,D[T],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var _=Di.navigator.userAgent,D=_.indexOf("MSIE ");if(D>0)return parseInt(_.substring(D+5,_.indexOf(".",D)),10);if(_.indexOf("Trident/")>0){var T=_.indexOf("rv:");return parseInt(_.substring(T+3,_.indexOf(".",T)),10)}var B=_.indexOf("Edge/");return B>0&&parseInt(_.substring(B+5,_.indexOf(".",B)),10)}}),L.LatLngUtil={cloneLatLngs:function(_){for(var D=[],T=0,B=_.length;T<B;T++)Array.isArray(_[T])?D.push(L.LatLngUtil.cloneLatLngs(_[T])):D.push(this.cloneLatLng(_[T]));return D},cloneLatLng:function(_){return L.latLng(_.lat,_.lng)}},_={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(D){var T,B,O=D.length,G=0,W=Math.PI/180;if(O>2){for(var te=0;te<O;te++)G+=((B=D[(te+1)%O]).lng-(T=D[te]).lng)*W*(2+Math.sin(T.lat*W)+Math.sin(B.lat*W));G=6378137*G*6378137/2}return Math.abs(G)},formattedNumber:function(D,T){var B=parseFloat(D).toFixed(T),O=L.drawLocal.format&&L.drawLocal.format.numeric,G=O&&O.delimiters,W=G&&G.thousands,te=G&&G.decimal;if(W||te){var De=B.split(".");B=W?De[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+W):De[0],te=te||".",De.length>1&&(B=B+te+De[1])}return B},readableArea:function(D,T,W){var O,G;return W=L.Util.extend({},_,W),T?(G=["ha","m"],type=typeof T,"string"===type?G=[T]:"boolean"!==type&&(G=T),O=D>=1e6&&-1!==G.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*D,W.km)+" km\xb2":D>=1e4&&-1!==G.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*D,W.ha)+" ha":L.GeometryUtil.formattedNumber(D,W.m)+" m\xb2"):O=(D/=.836127)>=3097600?L.GeometryUtil.formattedNumber(D/3097600,W.mi)+" mi\xb2":D>=4840?L.GeometryUtil.formattedNumber(D/4840,W.ac)+" acres":L.GeometryUtil.formattedNumber(D,W.yd)+" yd\xb2",O},readableDistance:function(D,T,B,O,te){var W;switch(te=L.Util.extend({},_,te),T?"string"==typeof T?T:"metric":B?"feet":O?"nauticalMile":"yards"){case"metric":W=D>1e3?L.GeometryUtil.formattedNumber(D/1e3,te.km)+" km":L.GeometryUtil.formattedNumber(D,te.m)+" m";break;case"feet":D*=3.28083,W=L.GeometryUtil.formattedNumber(D,te.ft)+" ft";break;case"nauticalMile":D*=.53996,W=L.GeometryUtil.formattedNumber(D/1e3,te.nm)+" nm";break;default:W=(D*=1.09361)>1760?L.GeometryUtil.formattedNumber(D/1760,te.mi)+" miles":L.GeometryUtil.formattedNumber(D,te.yd)+" yd"}return W},isVersion07x:function(){var D=L.version.split(".");return 0===parseInt(D[0],10)&&7===parseInt(D[1],10)}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(_,D,T,B){return this._checkCounterclockwise(_,T,B)!==this._checkCounterclockwise(D,T,B)&&this._checkCounterclockwise(_,D,T)!==this._checkCounterclockwise(_,D,B)},_checkCounterclockwise:function(_,D,T){return(T.y-_.y)*(D.x-_.x)>(D.y-_.y)*(T.x-_.x)}}),L.Polyline.include({intersects:function(){var _,B=this._getProjectedPoints(),O=B?B.length:0;if(this._tooFewPointsForIntersection())return!1;for(_=O-1;_>=3;_--)if(this._lineSegmentsIntersectsRange(B[_-1],B[_],_-2))return!0;return!1},newLatLngIntersects:function(_,D){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(_),D)},newPointIntersects:function(_,D){var T=this._getProjectedPoints(),B=T?T.length:0,O=T?T[B-1]:null,G=B-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(O,_,G,D?1:0)},_tooFewPointsForIntersection:function(_){var D=this._getProjectedPoints(),T=D?D.length:0;return!D||(T+=_||0)<=3},_lineSegmentsIntersectsRange:function(_,D,T,B){var W=this._getProjectedPoints();B=B||0;for(var te=T;te>B;te--)if(L.LineUtil.segmentsIntersect(_,D,W[te-1],W[te]))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var _=[],D=this._defaultShape(),T=0;T<D.length;T++)_.push(this._map.latLngToLayerPoint(D[T]));return _}}),L.Polygon.include({intersects:function(){var _,O=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||this._lineSegmentsIntersectsRange(O[(_=O.length)-1],O[0],_-2,1))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(_){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var D;L.Control.prototype.initialize.call(this,_),this._toolbars={},L.DrawToolbar&&this.options.draw&&(D=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=D,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(D=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=D,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(_){var D,T=L.DomUtil.create("div","leaflet-draw"),B=!1;for(var O in this._toolbars)this._toolbars.hasOwnProperty(O)&&(D=this._toolbars[O].addToolbar(_))&&(B||(L.DomUtil.hasClass(D,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(D.childNodes[0],"leaflet-draw-toolbar-top"),B=!0),T.appendChild(D));return T},onRemove:function(){for(var _ in this._toolbars)this._toolbars.hasOwnProperty(_)&&this._toolbars[_].removeToolbar()},setDrawingOptions:function(_){for(var D in this._toolbars)this._toolbars[D]instanceof L.DrawToolbar&&this._toolbars[D].setOptions(_)},_toolbarEnabled:function(_){var D=_.target;for(var T in this._toolbars)this._toolbars[T]!==D&&this._toolbars[T].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(_){L.setOptions(this,_),this._modes={},this._actionButtons=[],this._activeMode=null;var D=L.version.split(".");1===parseInt(D[0],10)&&parseInt(D[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(_){var D,T=L.DomUtil.create("div","leaflet-draw-section"),B=0,O=this._toolbarClass||"",G=this.getModeHandlers(_);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=_,D=0;D<G.length;D++)G[D].enabled&&this._initModeHandler(G[D].handler,this._toolbarContainer,B++,O,G[D].title);if(B)return this._lastButtonIndex=--B,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),T.appendChild(this._toolbarContainer),T.appendChild(this._actionsContainer),T},removeToolbar:function(){for(var _ in this._modes)this._modes.hasOwnProperty(_)&&(this._disposeButton(this._modes[_].button,this._modes[_].handler.enable,this._modes[_].handler),this._modes[_].handler.disable(),this._modes[_].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var D=0,T=this._actionButtons.length;D<T;D++)this._disposeButton(this._actionButtons[D].button,this._actionButtons[D].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(_,D,T,B,O){var G=_.type;this._modes[G]={},this._modes[G].handler=_,this._modes[G].button=this._createButton({type:G,title:O,className:B+"-"+G,container:D,callback:this._modes[G].handler.enable,context:this._modes[G].handler}),this._modes[G].buttonIndex=T,this._modes[G].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!Di.MSStream},_createButton:function(_){var D=L.DomUtil.create("a",_.className||"",_.container),T=L.DomUtil.create("span","sr-only",_.container);D.href="#",D.appendChild(T),_.title&&(D.title=_.title,T.innerHTML=_.title),_.text&&(D.innerHTML=_.text,T.innerHTML=_.text);var B=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(D,"click",L.DomEvent.stopPropagation).on(D,"mousedown",L.DomEvent.stopPropagation).on(D,"dblclick",L.DomEvent.stopPropagation).on(D,"touchstart",L.DomEvent.stopPropagation).on(D,"click",L.DomEvent.preventDefault).on(D,B,_.callback,_.context),D},_disposeButton:function(_,D){var T=this._detectIOS()?"touchstart":"click";L.DomEvent.off(_,"click",L.DomEvent.stopPropagation).off(_,"mousedown",L.DomEvent.stopPropagation).off(_,"dblclick",L.DomEvent.stopPropagation).off(_,"touchstart",L.DomEvent.stopPropagation).off(_,"click",L.DomEvent.preventDefault).off(_,T,D)},_handlerActivated:function(_){this.disable(),this._activeMode=this._modes[_.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(_){var D,T,B,O,G=this._actionsContainer,W=this.getActions(_),te=W.length;for(T=0,B=this._actionButtons.length;T<B;T++)this._disposeButton(this._actionButtons[T].button,this._actionButtons[T].callback);for(this._actionButtons=[];G.firstChild;)G.removeChild(G.firstChild);for(var De=0;De<te;De++)"enabled"in W[De]&&!W[De].enabled||(D=L.DomUtil.create("li","",G),O=this._createButton({title:W[De].title,text:W[De].text,container:D,callback:W[De].callback,context:W[De].context}),this._actionButtons.push({button:O,callback:W[De].callback}))},_showActionsToolbar:function(){var _=this._activeMode.buttonIndex,D=this._lastButtonIndex,T=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=T+"px",0===_&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),_===D&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(_){this._map=_,this._popupPane=_._panes.popupPane,this._visible=!1,this._container=_.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(_){return this._container?(_.subtext=_.subtext||"",0!==_.subtext.length||this._singleLineLabel?_.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(_.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+_.subtext+"</span><br />":"")+"<span>"+_.text+"</span>",_.text||_.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(_){var D=this._map.latLngToLayerPoint(_),T=this._container;return this._container&&(this._visible&&(T.style.visibility="inherit"),L.DomUtil.setPosition(T,D)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(_){for(var D in this.options)this.options.hasOwnProperty(D)&&_[D]&&(_[D]=L.extend({},this.options[D],_[D]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,_)},getModeHandlers:function(_){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(_,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(_,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(_,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(_,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(_,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(_,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(_){return[{enabled:_.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:_.completeShape,context:_},{enabled:_.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:_.deleteLastVertex,context:_},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(_){for(var D in L.setOptions(this,_),this._modes)this._modes.hasOwnProperty(D)&&_.hasOwnProperty(D)&&this._modes[D].handler.setOptions(_[D])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(_){_.edit&&(void 0===_.edit.selectedPathOptions&&(_.edit.selectedPathOptions=this.options.edit.selectedPathOptions),_.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,_.edit.selectedPathOptions)),_.remove&&(_.remove=L.extend({},this.options.remove,_.remove)),_.poly&&(_.poly=L.extend({},this.options.poly,_.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,_),this._selectedFeatureCount=0},getModeHandlers:function(_){var D=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(_,{featureGroup:D,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(_,{featureGroup:D}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(_){var D=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return _.removeAllLayers&&D.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),D},addToolbar:function(_){var D=L.Toolbar.prototype.addToolbar.call(this,_);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),D},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var _,T=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(_=this._modes[L.EditToolbar.Edit.TYPE].button,T?L.DomUtil.removeClass(_,"leaflet-disabled"):L.DomUtil.addClass(_,"leaflet-disabled"),_.setAttribute("title",T?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(_=this._modes[L.EditToolbar.Delete.TYPE].button,T?L.DomUtil.removeClass(_,"leaflet-disabled"):L.DomUtil.addClass(_,"leaflet-disabled"),_.setAttribute("title",T?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(_,D){if(L.Handler.prototype.initialize.call(this,_),L.setOptions(this,D),this._featureGroup=D.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var T=L.version.split(".");1===parseInt(T[0],10)&&parseInt(T[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var _=this._map;_&&(_.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),_._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(_){this._revertLayer(_)},this)},save:function(){var _=new L.LayerGroup;this._featureGroup.eachLayer(function(D){D.edited&&(_.addLayer(D),D.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:_})},_backupLayer:function(_){var D=L.Util.stamp(_);this._uneditedLayerProps[D]||(_ instanceof L.Polyline||_ instanceof L.Polygon||_ instanceof L.Rectangle?this._uneditedLayerProps[D]={latlngs:L.LatLngUtil.cloneLatLngs(_.getLatLngs())}:_ instanceof L.Circle?this._uneditedLayerProps[D]={latlng:L.LatLngUtil.cloneLatLng(_.getLatLng()),radius:_.getRadius()}:(_ instanceof L.Marker||_ instanceof L.CircleMarker)&&(this._uneditedLayerProps[D]={latlng:L.LatLngUtil.cloneLatLng(_.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(_){var D=L.Util.stamp(_);_.edited=!1,this._uneditedLayerProps.hasOwnProperty(D)&&(_ instanceof L.Polyline||_ instanceof L.Polygon||_ instanceof L.Rectangle?_.setLatLngs(this._uneditedLayerProps[D].latlngs):_ instanceof L.Circle?(_.setLatLng(this._uneditedLayerProps[D].latlng),_.setRadius(this._uneditedLayerProps[D].radius)):(_ instanceof L.Marker||_ instanceof L.CircleMarker)&&_.setLatLng(this._uneditedLayerProps[D].latlng),_.fire("revert-edited",{layer:_}))},_enableLayerEdit:function(_){var D,T,B=_.layer||_.target||_;this._backupLayer(B),this.options.poly&&(T=L.Util.extend({},this.options.poly),B.options.poly=T),this.options.selectedPathOptions&&((D=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(D.color=B.options.color,D.fillColor=B.options.fillColor),B.options.original=L.extend({},B.options),B.options.editing=D),B instanceof L.Marker?(B.editing&&B.editing.enable(),B.dragging.enable(),B.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):B.editing.enable()},_disableLayerEdit:function(_){var D=_.layer||_.target||_;D.edited=!1,D.editing&&D.editing.disable(),delete D.options.editing,delete D.options.original,this._selectedPathOptions&&(D instanceof L.Marker?this._toggleMarkerHighlight(D):(D.setStyle(D.options.previousOptions),delete D.options.previousOptions)),D instanceof L.Marker?(D.dragging.disable(),D.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):D.editing.disable()},_onMouseMove:function(_){this._tooltip.updatePosition(_.latlng)},_onMarkerDragEnd:function(_){var D=_.target;D.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:D})},_onTouchMove:function(_){var T=this._map.mouseEventToLayerPoint(_.originalEvent.changedTouches[0]),B=this._map.layerPointToLatLng(T);_.target.setLatLng(B)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(_,D){if(L.Handler.prototype.initialize.call(this,_),L.Util.setOptions(this,D),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var T=L.version.split(".");1===parseInt(T[0],10)&&parseInt(T[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var _=this._map;_&&(_.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(_){this._deletableLayers.addLayer(_),_.fire("revert-deleted",{layer:_})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(_){this._removeLayer({layer:_})},this),this.save()},_enableLayerDelete:function(_){(_.layer||_.target||_).on("click",this._removeLayer,this)},_disableLayerDelete:function(_){var D=_.layer||_.target||_;D.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(D)},_removeLayer:function(_){var D=_.layer||_.target||_;this._deletableLayers.removeLayer(D),this._deletedLayers.addLayer(D),D.fire("deleted")},_onMouseMove:function(_){this._tooltip.updatePosition(_.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},433:function(Di,Dn){!function(ne){"use strict";function _(s){var l,h,m,y;for(h=1,m=arguments.length;h<m;h++)for(l in y=arguments[h])s[l]=y[l];return s}var D=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function T(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var m=h.call(arguments,2);return function(){return s.apply(l,m.length?m.concat(h.call(arguments)):arguments)}}var B=0;function O(s){return s._leaflet_id=s._leaflet_id||++B,s._leaflet_id}function G(s,l,h){var m,y,S,N;return N=function(){m=!1,y&&(S.apply(h,y),y=!1)},S=function(){m?y=arguments:(s.apply(h,arguments),setTimeout(N,l),m=!0)},S}function W(s,l,h){var m=l[1],y=l[0],S=m-y;return s===m&&h?s:((s-y)%S+S)%S+y}function te(){return!1}function De(s,l){var h=Math.pow(10,void 0===l?6:l);return Math.round(s*h)/h}function Q(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Xt(s){return Q(s).split(/\s+/)}function nt(s,l){for(var h in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?D(s.options):{}),l)s.options[h]=l[h];return s.options}function na(s,l,h){var m=[];for(var y in s)m.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(l&&-1!==l.indexOf("?")?"&":"?")+m.join("&")}var oe=/\{ *([\w_-]+) *\}/g;function bt(s,l){return s.replace(oe,function(h,m){var y=l[m];if(void 0===y)throw new Error("No value provided for variable "+h);return"function"==typeof y&&(y=y(l)),y})}var ht=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Ye(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var Ci="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function dt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Bt=0;function Ds(s){var l=+new Date,h=Math.max(0,16-(l-Bt));return Bt=l+h,window.setTimeout(s,h)}var Or=window.requestAnimationFrame||dt("RequestAnimationFrame")||Ds,xn=window.cancelAnimationFrame||dt("CancelAnimationFrame")||dt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Rt(s,l,h){if(!h||Or!==Ds)return Or.call(window,T(s,l));s.call(l)}function $t(s){s&&xn.call(window,s)}var Cn={extend:_,create:D,bind:T,lastId:B,stamp:O,throttle:G,wrapNum:W,falseFn:te,formatNum:De,trim:Q,splitWords:Xt,setOptions:nt,getParamString:na,template:bt,isArray:ht,indexOf:Ye,emptyImageUrl:Ci,requestFn:Or,cancelFn:xn,requestAnimFrame:Rt,cancelAnimFrame:$t};function Wn(){}Wn.extend=function(s){var l=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,m=D(h);for(var y in m.constructor=l,l.prototype=m,this)Object.prototype.hasOwnProperty.call(this,y)&&"prototype"!==y&&"__super__"!==y&&(l[y]=this[y]);return s.statics&&(_(l,s.statics),delete s.statics),s.includes&&(function oo(s){if(!(typeof L>"u")&&L&&L.Mixin){s=ht(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(s.includes),_.apply(null,[m].concat(s.includes)),delete s.includes),m.options&&(s.options=_(D(m.options),s.options)),_(m,s),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,N=m._initHooks.length;S<N;S++)m._initHooks[S].call(this)}},l},Wn.include=function(s){return _(this.prototype,s),this},Wn.mergeOptions=function(s){return _(this.prototype.options,s),this},Wn.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h="function"==typeof s?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};var Ve={on:function(s,l,h){if("object"==typeof s)for(var m in s)this._on(m,s[m],l);else for(var y=0,S=(s=Xt(s)).length;y<S;y++)this._on(s[y],l,h);return this},off:function(s,l,h){if(s)if("object"==typeof s)for(var m in s)this._off(m,s[m],l);else for(var y=0,S=(s=Xt(s)).length;y<S;y++)this._off(s[y],l,h);else delete this._events;return this},_on:function(s,l,h){this._events=this._events||{};var m=this._events[s];m||(this._events[s]=m=[]),h===this&&(h=void 0);for(var y={fn:l,ctx:h},S=m,N=0,j=S.length;N<j;N++)if(S[N].fn===l&&S[N].ctx===h)return;S.push(y)},_off:function(s,l,h){var m,y,S;if(this._events&&(m=this._events[s])){if(!l){for(y=0,S=m.length;y<S;y++)m[y].fn=te;return void delete this._events[s]}if(h===this&&(h=void 0),m)for(y=0,S=m.length;y<S;y++){var N=m[y];if(N.ctx===h&&N.fn===l)return N.fn=te,this._firingCount&&(this._events[s]=m=m.slice()),void m.splice(y,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var m=_({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var S=0,N=y.length;S<N;S++){var j=y[S];j.fn.call(j.ctx||this,m)}this._firingCount--}}return h&&this._propagateEvent(m),this},listens:function(s,l){var h=this._events&&this._events[s];if(h&&h.length)return!0;if(l)for(var m in this._eventParents)if(this._eventParents[m].listens(s,l))return!0;return!1},once:function(s,l,h){if("object"==typeof s){for(var m in s)this.once(m,s[m],l);return this}var y=T(function(){this.off(s,l,h).off(s,y,h)},this);return this.on(s,l,h).on(s,y,h)},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[O(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[O(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,_({layer:s.target,propagatedFrom:s.target},s),!0)}};Ve.addEventListener=Ve.on,Ve.removeEventListener=Ve.clearAllEventListeners=Ve.off,Ve.addOneTimeEventListener=Ve.once,Ve.fireEvent=Ve.fire,Ve.hasEventListeners=Ve.listens;var Ui=Wn.extend(Ve);function Ie(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var ia=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};function Ke(s,l,h){return s instanceof Ie?s:ht(s)?new Ie(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new Ie(s.x,s.y):new Ie(s,l,h)}function Je(s,l){if(s)for(var h=l?[s,l]:s,m=0,y=h.length;m<y;m++)this.extend(h[m])}function Qt(s,l){return!s||s instanceof Je?s:new Je(s,l)}function lt(s,l){if(s)for(var h=l?[s,l]:s,m=0,y=h.length;m<y;m++)this.extend(h[m])}function st(s,l){return s instanceof lt?s:new lt(s,l)}function Le(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,void 0!==h&&(this.alt=+h)}function Re(s,l,h){return s instanceof Le?s:ht(s)&&"object"!=typeof s[0]?3===s.length?new Le(s[0],s[1],s[2]):2===s.length?new Le(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new Le(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===l?null:new Le(s,l,h)}Ie.prototype={clone:function(){return new Ie(this.x,this.y)},add:function(s){return this.clone()._add(Ke(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Ke(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new Ie(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new Ie(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ia(this.x),this.y=ia(this.y),this},distanceTo:function(s){var l=(s=Ke(s)).x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return(s=Ke(s)).x===this.x&&s.y===this.y},contains:function(s){return s=Ke(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+De(this.x)+", "+De(this.y)+")"}},Je.prototype={extend:function(s){return s=Ke(s),this.min||this.max?(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(s.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(s.y,this.max.y)):(this.min=s.clone(),this.max=s.clone()),this},getCenter:function(s){return new Ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return new Ie(this.min.x,this.max.y)},getTopRight:function(){return new Ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return(s="number"==typeof s[0]||s instanceof Ie?Ke(s):Qt(s))instanceof Je?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=Qt(s);var l=this.min,h=this.max,m=s.min,y=s.max;return y.x>=l.x&&m.x<=h.x&&y.y>=l.y&&m.y<=h.y},overlaps:function(s){s=Qt(s);var l=this.min,h=this.max,m=s.min,y=s.max;return y.x>l.x&&m.x<h.x&&y.y>l.y&&m.y<h.y},isValid:function(){return!(!this.min||!this.max)}},lt.prototype={extend:function(s){var m,y,l=this._southWest,h=this._northEast;if(s instanceof Le)m=s,y=s;else{if(!(s instanceof lt))return s?this.extend(Re(s)||st(s)):this;if(y=s._northEast,!(m=s._southWest)||!y)return this}return l||h?(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)):(this._southWest=new Le(m.lat,m.lng),this._northEast=new Le(y.lat,y.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,m=Math.abs(l.lat-h.lat)*s,y=Math.abs(l.lng-h.lng)*s;return new lt(new Le(l.lat-m,l.lng-y),new Le(h.lat+m,h.lng+y))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s="number"==typeof s[0]||s instanceof Le||"lat"in s?Re(s):st(s);var m,y,l=this._southWest,h=this._northEast;return s instanceof lt?(m=s.getSouthWest(),y=s.getNorthEast()):m=y=s,m.lat>=l.lat&&y.lat<=h.lat&&m.lng>=l.lng&&y.lng<=h.lng},intersects:function(s){s=st(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),y=s.getNorthEast();return y.lat>=l.lat&&m.lat<=h.lat&&y.lng>=l.lng&&m.lng<=h.lng},overlaps:function(s){s=st(s);var l=this._southWest,h=this._northEast,m=s.getSouthWest(),y=s.getNorthEast();return y.lat>l.lat&&m.lat<h.lat&&y.lng>l.lng&&m.lng<h.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return!!s&&(s=st(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l))},isValid:function(){return!(!this._southWest||!this._northEast)}},Le.prototype={equals:function(s,l){return!!s&&(s=Re(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===l?1e-9:l))},toString:function(s){return"LatLng("+De(this.lat,s)+", "+De(this.lng,s)+")"},distanceTo:function(s){return Yn.distance(this,Re(s))},wrap:function(){return Yn.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return st([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};var s,Pe={latLngToPoint:function(s,l){var h=this.projection.project(s),m=this.scale(l);return this.transformation._transform(h,m)},pointToLatLng:function(s,l){var h=this.scale(l),m=this.transformation.untransform(s,h);return this.projection.unproject(m)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s);return new Je(this.transformation.transform(l.min,h),this.transformation.transform(l.max,h))},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?W(s.lng,this.wrapLng,!0):s.lng;return new Le(this.wrapLat?W(s.lat,this.wrapLat,!0):s.lat,l,s.alt)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),m=l.lat-h.lat,y=l.lng-h.lng;if(0===m&&0===y)return s;var S=s.getSouthWest(),N=s.getNorthEast();return new lt(new Le(S.lat-m,S.lng-y),new Le(N.lat-m,N.lng-y))}},Yn=_({},Pe,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,m=s.lat*h,y=l.lat*h,S=Math.sin((l.lat-s.lat)*h/2),N=Math.sin((l.lng-s.lng)*h/2),j=S*S+Math.cos(m)*Math.cos(y)*N*N,z=2*Math.atan2(Math.sqrt(j),Math.sqrt(1-j));return this.R*z}}),En={R:6378137,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,m=Math.max(Math.min(h,s.lat),-h),y=Math.sin(m*l);return new Ie(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new Le((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(s=6378137*Math.PI,new Je([-s,-s],[s,s]))};function ra(s,l,h,m){if(ht(s))return this._a=s[0],this._b=s[1],this._c=s[2],void(this._d=s[3]);this._a=s,this._b=l,this._c=h,this._d=m}function Fr(s,l,h,m){return new ra(s,l,h,m)}ra.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return s.x=(l=l||1)*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return new Ie((s.x/(l=l||1)-this._b)/this._a,(s.y/l-this._d)/this._c)}};var mn=_({},Yn,{code:"EPSG:3857",projection:En,transformation:function(){var s=.5/(Math.PI*En.R);return Fr(s,.5,-s,.5)}()}),ao=_({},mn,{code:"EPSG:900913"});function sa(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Dl(s,l){var m,y,S,N,j,z,h="";for(m=0,S=s.length;m<S;m++){for(y=0,N=(j=s[m]).length;y<N;y++)h+=(y?"L":"M")+(z=j[y]).x+" "+z.y;h+=l?xs?"z":"x":""}return h||"M0 0"}var Cs=document.documentElement.style,lo="ActiveXObject"in window,zi=lo&&!document.addEventListener,Es="msLaunchUri"in navigator&&!("documentMode"in document),oa=Xn("webkit"),bs=Xn("android"),Is=Xn("android 2")||Xn("android 3"),Vi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),uo=bs&&Xn("Google")&&Vi<537&&!("AudioNode"in window),Ln=!!window.opera,$i=!Es&&Xn("chrome"),ce=Xn("gecko")&&!oa&&!Ln&&!lo,on=!$i&&Xn("safari"),Br=Xn("phantom"),Cl="OTransition"in Cs,El=0===navigator.platform.indexOf("Win"),aa=lo&&"transition"in Cs,Ss="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Is,co="MozPerspective"in Cs,_n=!window.L_DISABLE_3D&&(aa||Ss||co)&&!Cl&&!Br,Ei=typeof orientation<"u"||Xn("mobile"),la=Ei&&oa,Qu=Ei&&Ss,oi=!window.PointerEvent&&window.MSPointerEvent,an=!(!window.PointerEvent&&!oi),ln=!window.L_NO_TOUCH&&(an||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Ts=Ei&&Ln,ai=Ei&&ce,bi=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hr=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",te,l),window.removeEventListener("testPassiveEventSupport",te,l)}catch{}return s}(),xe=!!document.createElement("canvas").getContext,xs=!(!document.createElementNS||!sa("svg").createSVGRect),jr=!xs&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&"object"==typeof l.adj}catch{return!1}}();function Xn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var kt={ie:lo,ielt9:zi,edge:Es,webkit:oa,android:bs,android23:Is,androidStock:uo,opera:Ln,chrome:$i,gecko:ce,safari:on,phantom:Br,opera12:Cl,win:El,ie3d:aa,webkit3d:Ss,gecko3d:co,any3d:_n,mobile:Ei,mobileWebkit:la,mobileWebkit3d:Qu,msPointer:oi,pointer:an,touch:ln,mobileOpera:Ts,mobileGecko:ai,retina:bi,passiveEvents:hr,canvas:xe,svg:xs,vml:jr},Pn=oi?"MSPointerDown":"pointerdown",ho=oi?"MSPointerMove":"pointermove",It=oi?"MSPointerUp":"pointerup",Ii=oi?"MSPointerCancel":"pointercancel",Kt={},bl=!1;function dr(s,l,h,m){return"touchstart"===l?function fo(s,l,h){var m=T(function(y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&Nn(y),Ls(y,l)});s["_leaflet_touchstart"+h]=m,s.addEventListener(Pn,m,!1),bl||(document.addEventListener(Pn,po,!0),document.addEventListener(ho,Hr,!0),document.addEventListener(It,ua,!0),document.addEventListener(Ii,ua,!0),bl=!0)}(s,h,m):"touchmove"===l?function ca(s,l,h){var m=function(y){y.pointerType===(y.MSPOINTER_TYPE_MOUSE||"mouse")&&0===y.buttons||Ls(y,l)};s["_leaflet_touchmove"+h]=m,s.addEventListener(ho,m,!1)}(s,h,m):"touchend"===l&&function fr(s,l,h){var m=function(y){Ls(y,l)};s["_leaflet_touchend"+h]=m,s.addEventListener(It,m,!1),s.addEventListener(Ii,m,!1)}(s,h,m),this}function po(s){Kt[s.pointerId]=s}function Hr(s){Kt[s.pointerId]&&(Kt[s.pointerId]=s)}function ua(s){delete Kt[s.pointerId]}function Ls(s,l){for(var h in s.touches=[],Kt)s.touches.push(Kt[h]);s.changedTouches=[s],l(s)}var Si=oi?"MSPointerDown":an?"pointerdown":"touchstart",Ps=oi?"MSPointerUp":an?"pointerup":"touchend",Gi="_leaflet_";var J,Lt,Me,As,gr,mo=Wi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ut=Wi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ha="webkitTransition"===ut||"OTransition"===ut?ut+"End":"transitionend";function Ce(s){return"string"==typeof s?document.getElementById(s):s}function An(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||"auto"===h)&&document.defaultView){var m=document.defaultView.getComputedStyle(s,null);h=m?m[l]:null}return"auto"===h?null:h}function Xe(s,l,h){var m=document.createElement(s);return m.className=l||"",h&&h.appendChild(m),m}function ct(s){var l=s.parentNode;l&&l.removeChild(s)}function Jt(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function pr(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function qi(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function et(s,l){if(void 0!==s.classList)return s.classList.contains(l);var h=Ur(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Ee(s,l){if(void 0!==s.classList)for(var h=Xt(l),m=0,y=h.length;m<y;m++)s.classList.add(h[m]);else if(!et(s,l)){var S=Ur(s);Zi(s,(S?S+" ":"")+l)}}function Ae(s,l){void 0!==s.classList?s.classList.remove(l):Zi(s,Q((" "+Ur(s)+" ").replace(" "+l+" "," ")))}function Zi(s,l){void 0===s.className.baseVal?s.className=l:s.className.baseVal=l}function Ur(s){return s.correspondingElement&&(s=s.correspondingElement),void 0===s.className.baseVal?s.className:s.className.baseVal}function un(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&function de(s,l){var h=!1,m="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(m)}catch{if(1===l)return}l=Math.round(100*l),h?(h.Enabled=100!==l,h.Opacity=l):s.style.filter+=" progid:"+m+"(opacity="+l+")"}(s,l)}function Wi(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Qn(s,l,h){var m=l||new Ie(0,0);s.style[mo]=(aa?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(h?" scale("+h+")":"")}function St(s,l){s._leaflet_pos=l,_n?Qn(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function cn(s){return s._leaflet_pos||new Ie(0,0)}if("onselectstart"in document)J=function(){$e(window,"selectstart",Nn)},Lt=function(){Ct(window,"selectstart",Nn)};else{var Fe=Wi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);J=function(){if(Fe){var s=document.documentElement.style;Me=s[Fe],s[Fe]="none"}},Lt=function(){Fe&&(document.documentElement.style[Fe]=Me,Me=void 0)}}function _o(){$e(window,"dragstart",Nn)}function vo(){Ct(window,"dragstart",Nn)}function jt(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(Ns(),As=s,gr=s.style.outline,s.style.outline="none",$e(window,"keydown",Ns))}function Ns(){As&&(As.style.outline=gr,As=void 0,gr=void 0,Ct(window,"keydown",Ns))}function da(s){do{s=s.parentNode}while(!(s.offsetWidth&&s.offsetHeight||s===document.body));return s}function Rs(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Yi={TRANSFORM:mo,TRANSITION:ut,TRANSITION_END:ha,get:Ce,getStyle:An,create:Xe,remove:ct,empty:Jt,toFront:pr,toBack:qi,hasClass:et,addClass:Ee,removeClass:Ae,setClass:Zi,getClass:Ur,setOpacity:un,testProp:Wi,setTransform:Qn,setPosition:St,getPosition:cn,disableTextSelection:J,enableTextSelection:Lt,disableImageDrag:_o,enableImageDrag:vo,preventOutline:jt,restoreOutline:Ns,getSizedParentNode:da,getScale:Rs};function $e(s,l,h,m){if("object"==typeof l)for(var y in l)yo(s,y,l[y],h);else for(var S=0,N=(l=Xt(l)).length;S<N;S++)yo(s,l[S],h,m);return this}var Kn="_leaflet_events";function Ct(s,l,h,m){if("object"==typeof l)for(var y in l)wo(s,y,l[y],h);else if(l)for(var S=0,N=(l=Xt(l)).length;S<N;S++)wo(s,l[S],h,m);else{for(var j in s[Kn])wo(s,j,s[Kn][j]);delete s[Kn]}return this}function Tl(){if(an)return!(Es||on)}var ks={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yo(s,l,h,m){var y=l+O(h)+(m?"_"+O(m):"");if(s[Kn]&&s[Kn][y])return this;var S=function(j){return h.call(m||s,j||window.event)},N=S;an&&0===l.indexOf("touch")?dr(s,l,S,y):ln&&"dblclick"===l&&!Tl()?function go(s,l,h){var m,y,S=!1;function j(Y){if(an){if(!Y.isPrimary||"mouse"===Y.pointerType)return}else if(Y.touches.length>1)return;var ae=Date.now(),pe=ae-(m||ae);y=Y.touches?Y.touches[0]:Y,S=pe>0&&pe<=250,m=ae}function z(Y){if(S&&!y.cancelBubble){if(an){if("mouse"===Y.pointerType)return;var pe,ue,ae={};for(ue in y)ae[ue]=(pe=y[ue])&&pe.bind?pe.bind(y):pe;y=ae}y.type="dblclick",y.button=0,l(y),m=null}}return s[Gi+Si+h]=j,s[Gi+Ps+h]=z,s[Gi+"dblclick"+h]=l,s.addEventListener(Si,j,!!hr&&{passive:!1}),s.addEventListener(Ps,z,!!hr&&{passive:!1}),s.addEventListener("dblclick",l,!1),this}(s,S,y):"addEventListener"in s?"touchstart"===l||"touchmove"===l||"wheel"===l||"mousewheel"===l?s.addEventListener(ks[l]||l,S,!!hr&&{passive:!1}):"mouseenter"===l||"mouseleave"===l?s.addEventListener(ks[l],S=function(j){j=j||window.event,zr(s,j)&&N(j)},!1):s.addEventListener(l,N,!1):"attachEvent"in s&&s.attachEvent("on"+l,S),s[Kn]=s[Kn]||{},s[Kn][y]=S}function wo(s,l,h,m){var y=l+O(h)+(m?"_"+O(m):""),S=s[Kn]&&s[Kn][y];if(!S)return this;an&&0===l.indexOf("touch")?function Il(s,l,h){var m=s["_leaflet_"+l+h];return"touchstart"===l?s.removeEventListener(Pn,m,!1):"touchmove"===l?s.removeEventListener(ho,m,!1):"touchend"===l&&(s.removeEventListener(It,m,!1),s.removeEventListener(Ii,m,!1)),this}(s,l,y):ln&&"dblclick"===l&&!Tl()?function Sl(s,l){var m=s[Gi+Ps+l],y=s[Gi+"dblclick"+l];return s.removeEventListener(Si,s[Gi+Si+l],!!hr&&{passive:!1}),s.removeEventListener(Ps,m,!!hr&&{passive:!1}),s.removeEventListener("dblclick",y,!1),this}(s,y):"removeEventListener"in s?s.removeEventListener(ks[l]||l,S,!1):"detachEvent"in s&&s.detachEvent("on"+l,S),s[Kn][y]=null}function mr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,Mo(s),this}function Pt(s){return yo(s,"wheel",mr),this}function ye(s){return $e(s,"mousedown touchstart dblclick",mr),yo(s,"click",_r),this}function Nn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Ti(s){return Nn(s),mr(s),this}function fa(s,l){if(!l)return new Ie(s.clientX,s.clientY);var h=Rs(l),m=h.boundingClientRect;return new Ie((s.clientX-m.left)/h.x-l.clientLeft,(s.clientY-m.top)/h.y-l.clientTop)}var _e=El&&$i?2*window.devicePixelRatio:ce?window.devicePixelRatio:1;function pa(s){return Es?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/_e:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}var Rn={};function _r(s){Rn[s.type]=!0}function Mo(s){var l=Rn[s.type];return Rn[s.type]=!1,l}function zr(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var xl={on:$e,off:Ct,stopPropagation:mr,disableScrollPropagation:Pt,disableClickPropagation:ye,preventDefault:Nn,stop:Ti,getMousePosition:fa,getWheelDelta:pa,fakeStop:_r,skipped:Mo,isExternalTarget:zr,addListener:$e,removeListener:Ct},Vr=Ui.extend({run:function(s,l,h,m){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=cn(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Rt(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=1e3*this._duration;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),St(this._el,h),this.fire("step")},_complete:function(){$t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ge=Ui.extend({options:{crs:mn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=nt(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=T(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),void 0!==l.zoom&&(this._zoom=this._limitZoom(l.zoom)),l.center&&void 0!==l.zoom&&this.setView(Re(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ut&&_n&&!Ts&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$e(this._proxy,ha,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){return l=void 0===l?this._zoom:this._limitZoom(l),s=this._limitCenter(Re(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&!0!==h&&(void 0!==h.animate&&(h.zoom=_({animate:h.animate},h.zoom),h.pan=_({animate:h.animate,duration:h.duration},h.pan)),this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,l),this)},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return this.setZoom(this._zoom+(s=s||(_n?this.options.zoomDelta:1)),l)},zoomOut:function(s,l){return this.setZoom(this._zoom-(s=s||(_n?this.options.zoomDelta:1)),l)},setZoomAround:function(s,l,h){var m=this.getZoomScale(l),y=this.getSize().divideBy(2),N=(s instanceof Ie?s:this.latLngToContainerPoint(s)).subtract(y).multiplyBy(1-1/m),j=this.containerPointToLatLng(y.add(N));return this.setView(j,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():st(s);var h=Ke(l.paddingTopLeft||l.padding||[0,0]),m=Ke(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,h.add(m));if((y="number"==typeof l.maxZoom?Math.min(l.maxZoom,y):y)===1/0)return{center:s.getCenter(),zoom:y};var S=m.subtract(h).divideBy(2),N=this.project(s.getSouthWest(),y),j=this.project(s.getNorthEast(),y);return{center:this.unproject(N.add(j).divideBy(2).add(S),y),zoom:y}},fitBounds:function(s,l){if(!(s=st(s)).isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(l=l||{},!(s=Ke(s).round()).x&&!s.y)return this.fire("moveend");if(!0!==l.animate&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),!1!==l.animate){Ee(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(!1===(h=h||{}).animate||!_n)return this.setView(s,l,h);this._stop();var m=this.project(this.getCenter()),y=this.project(s),S=this.getSize(),N=this._zoom;s=Re(s),l=void 0===l?N:l;var j=Math.max(S.x,S.y),z=j*this.getZoomScale(N,l),Y=y.distanceTo(m)||1,ae=1.42,pe=ae*ae;function ue(wt){var ko=(z*z-j*j+(wt?-1:1)*pe*pe*Y*Y)/(2*(wt?z:j)*pe*Y),ya=Math.sqrt(ko*ko+1)-ko;return ya<1e-9?-18:Math.log(ya)}function Ai(wt){return(Math.exp(wt)-Math.exp(-wt))/2}function gi(wt){return(Math.exp(wt)+Math.exp(-wt))/2}var Ut=ue(0);function rs(wt){return j*(gi(Ut)*function is(wt){return Ai(wt)/gi(wt)}(Ut+ae*wt)-Ai(Ut))/pe}var zt=Date.now(),Ol=(ue(1)-Ut)/ae,pn=h.duration?1e3*h.duration:1e3*Ol*.8;return this._moveStart(!0,h.noMoveStart),function nn(){var wt=(Date.now()-zt)/pn,ni=function ss(wt){return 1-Math.pow(1-wt,1.5)}(wt)*Ol;wt<=1?(this._flyToFrame=Rt(nn,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(rs(ni)/Y)),N),this.getScaleZoom(j/function br(wt){return j*(gi(Ut)/gi(Ut+ae*wt))}(ni),N),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return(s=st(s)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),m=this._limitCenter(h,this._zoom,st(s));return h.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(s,l){var h=Ke((l=l||{}).paddingTopLeft||l.padding||[0,0]),m=Ke(l.paddingBottomRight||l.padding||[0,0]),y=this.getCenter(),S=this.project(y),N=this.project(s),j=this.getPixelBounds(),z=j.getSize().divideBy(2),Y=Qt([j.min.add(h),j.max.subtract(m)]);if(!Y.contains(N)){this._enforcingBounds=!0;var ae=S.subtract(N),pe=Ke(N.x+ae.x,N.y+ae.y);(N.x<Y.min.x||N.x>Y.max.x)&&(pe.x=S.x-ae.x,ae.x>0?pe.x+=z.x-h.x:pe.x-=z.x-m.x),(N.y<Y.min.y||N.y>Y.max.y)&&(pe.y=S.y-ae.y,ae.y>0?pe.y+=z.y-h.y:pe.y-=z.y-m.y),this.panTo(this.unproject(pe),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=_({animate:!1,pan:!0},!0===s?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),m=l.divideBy(2).round(),y=h.divideBy(2).round(),S=m.subtract(y);return S.x||S.y?(s.animate&&s.pan?this.panBy(S):(s.pan&&this._rawPanBy(S),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(T(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=_({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=T(this._handleGeolocationResponse,this),h=T(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){var l=s.code,h=s.message||(1===l?"permission denied":2===l?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})},_handleGeolocationResponse:function(s){var m=new Le(s.coords.latitude,s.coords.longitude),y=m.toBounds(2*s.coords.accuracy),S=this._locateOptions;if(S.setView){var N=this.getBoundsZoom(y);this.setView(m,S.maxZoom?Math.min(N,S.maxZoom):N)}var j={latlng:m,bounds:y,timestamp:s.timestamp};for(var z in s.coords)"number"==typeof s.coords[z]&&(j[z]=s.coords[z]);this.fire("locationfound",j)},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var s;for(s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ct(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&($t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)ct(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var m=Xe("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),l||this._mapPane);return s&&(this._panes[s]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new lt(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=st(s),h=Ke(h||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),S=this.getMaxZoom(),N=s.getNorthWest(),j=s.getSouthEast(),z=this.getSize().subtract(h),Y=Qt(this.project(j,m),this.project(N,m)).getSize(),ae=_n?this.options.zoomSnap:1,pe=z.x/Y.x,ue=z.y/Y.y,Ai=l?Math.max(pe,ue):Math.min(pe,ue);return m=this.getScaleZoom(Ai,m),ae&&(m=Math.round(m/(ae/100))*(ae/100),m=l?Math.ceil(m/ae)*ae:Math.floor(m/ae)*ae),Math.max(y,Math.min(S,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new Je(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=void 0===l?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs,m=h.zoom(s*h.scale(l=void 0===l?this._zoom:l));return isNaN(m)?1/0:m},project:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.latLngToPoint(Re(s),l)},unproject:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.pointToLatLng(Ke(s),l)},layerPointToLatLng:function(s){var l=Ke(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){return this.project(Re(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Re(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(st(s))},distance:function(s,l){return this.options.crs.distance(Re(s),Re(l))},containerPointToLayerPoint:function(s){return Ke(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Ke(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(Ke(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(s)))},mouseEventToContainerPoint:function(s){return fa(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Ce(s);if(!l)throw new Error("Map container not found.");if(l._leaflet_id)throw new Error("Map container is already initialized.");$e(l,"scroll",this._onScroll,this),this._containerId=O(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&_n,Ee(s,"leaflet-container"+(ln?" leaflet-touch":"")+(bi?" leaflet-retina":"")+(zi?" leaflet-oldie":"")+(on?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=An(s,"position");"absolute"!==l&&"relative"!==l&&"fixed"!==l&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),St(this._mapPane,new Ie(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ee(s.markerPane,"leaflet-zoom-hide"),Ee(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l){St(this._mapPane,new Ie(0,0));var h=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var m=this._zoom!==l;this._moveStart(m,!1)._move(s,l)._moveEnd(m),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h){void 0===l&&(l=this._zoom);var m=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),(m||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return $t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){St(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[O(this._container)]=this;var l=s?Ct:$e;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),_n&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){$t(this._resizeRequest),this._resizeRequest=Rt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var m,h=[],y="mouseout"===l||"mouseover"===l,S=s.target||s.srcElement,N=!1;S;){if((m=this._targets[O(S)])&&("click"===l||"preclick"===l)&&!s._simulated&&this._draggableMoved(m)){N=!0;break}if(m&&m.listens(l,!0)&&(y&&!zr(S,s)||(h.push(m),y))||S===this._container)break;S=S.parentNode}return!h.length&&!N&&!y&&zr(S,s)&&(h=[this]),h},_handleDOMEvent:function(s){if(this._loaded&&!Mo(s)){var l=s.type;("mousedown"===l||"keypress"===l||"keyup"===l||"keydown"===l)&&jt(s.target||s.srcElement),this._fireDOMEvent(s,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if("click"===s.type){var m=_({},s);m.type="preclick",this._fireDOMEvent(m,m.type,h)}if(!s._stopped&&(h=(h||[]).concat(this._findEventTargets(s,l))).length){var y=h[0];"contextmenu"===l&&y.listens(l,!0)&&Nn(s);var S={originalEvent:s};if("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type){var N=y.getLatLng&&(!y._radius||y._radius<=10);S.containerPoint=N?this.latLngToContainerPoint(y.getLatLng()):this.mouseEventToContainerPoint(s),S.layerPoint=this.containerPointToLayerPoint(S.containerPoint),S.latlng=N?y.getLatLng():this.layerPointToLatLng(S.layerPoint)}for(var j=0;j<h.length;j++)if(h[j].fire(l,S,!0),S.originalEvent._stopped||!1===h[j].options.bubblingMouseEvents&&-1!==Ye(this._mouseEvents,l))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return cn(this._mapPane)||new Ie(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){return(s&&void 0!==l?this._getNewPixelOrigin(s,l):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(s,l,h){var m=this._getNewPixelOrigin(h,l);return Qt([this.project(s.getSouthWest(),l)._subtract(m),this.project(s.getNorthWest(),l)._subtract(m),this.project(s.getSouthEast(),l)._subtract(m),this.project(s.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var m=this.project(s,l),y=this.getSize().divideBy(2),S=new Je(m.subtract(y),m.add(y)),N=this._getBoundsOffset(S,h,l);return N.round().equals([0,0])?s:this.unproject(m.add(N),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),m=new Je(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(s,l,h){var m=Qt(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=m.min.subtract(s.min),S=m.max.subtract(s.max);return new Ie(this._rebound(y.x,-S.x),this._rebound(y.y,-S.y))},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),m=_n?this.options.zoomSnap:1;return m&&(s=Math.round(s/m)*m),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return!(!0!==(l&&l.animate)&&!this.getSize().contains(h)||(this.panBy(h,l),0))},_createAnimProxy:function(){var s=this._proxy=Xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=mo,m=this._proxy.style[h];Qn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ct(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Qn(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||!1===h.animate||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/m);return!(!0!==h.animate&&!this.getSize().contains(y)||(Rt(function(){this._moveStart(!0,!1)._animateZoom(s,l,!0)},this),0))},_animateZoom:function(s,l,h,m){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,Ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:m}),setTimeout(T(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),Rt(function(){this._moveEnd(!0)},this))}});var en=Wn.extend({options:{position:"topright"},initialize:function(s){nt(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),m=s._controlCorners[h];return Ee(l,"leaflet-control"),-1!==h.indexOf("bottom")?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ct(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),$r=function(s){return new en(s)};Ge.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Xe("div",l+"control-container",this._container);function m(y,S){s[y+S]=Xe("div",l+y+" "+l+S,h)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)ct(this._controlCorners[s]);ct(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ne=en.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,m){return h<m?-1:m<h?1:0}},initialize:function(s,l,h){for(var m in nt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,s)this._addLayer(s[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return en.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(O(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Xe("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ye(l),Pt(l);var m=this._section=Xe("section",s+"-list");h&&(this._map.on("click",this.collapse,this),bs||$e(l,{mouseenter:this.expand,mouseleave:this.collapse},this));var y=this._layersLink=Xe("a",s+"-toggle",l);y.href="#",y.title="Layers",ln?($e(y,"click",Ti),$e(y,"click",this.expand,this)):$e(y,"focus",this.expand,this),h||this.expand(),this._baseLayersList=Xe("div",s+"-base",m),this._separator=Xe("div",s+"-separator",m),this._overlaysList=Xe("div",s+"-overlays",m),l.appendChild(m)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&O(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(T(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Jt(this._baseLayersList),Jt(this._overlaysList),this._layerControlInputs=[];var s,l,h,m,y=0;for(h=0;h<this._layers.length;h++)this._addItem(m=this._layers[h]),l=l||m.overlay,s=s||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&y>1)?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(O(s.target)),h=l.overlay?"add"===s.type?"overlayadd":"overlayremove":"add"===s.type?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=h,m.firstChild},_addItem:function(s){var m,l=document.createElement("label"),h=this._map.hasLayer(s.layer);s.overlay?((m=document.createElement("input")).type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=h):m=this._createRadioElement("leaflet-base-layers_"+O(this),h),this._layerControlInputs.push(m),m.layerId=O(s.layer),$e(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var S=document.createElement("div");return l.appendChild(S),S.appendChild(m),S.appendChild(y),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){var l,h,s=this._layerControlInputs,m=[],y=[];this._handlingClick=!0;for(var S=s.length-1;S>=0;S--)h=this._getLayer((l=s[S]).layerId).layer,l.checked?m.push(h):l.checked||y.push(h);for(S=0;S<y.length;S++)this._map.hasLayer(y[S])&&this._map.removeLayer(y[S]);for(S=0;S<m.length;S++)this._map.hasLayer(m[S])||this._map.addLayer(m[S]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var l,h,s=this._layerControlInputs,m=this._map.getZoom(),y=s.length-1;y>=0;y--)h=this._getLayer((l=s[y]).layerId).layer,l.disabled=void 0!==h.options.minZoom&&m<h.options.minZoom||void 0!==h.options.maxZoom&&m>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Fs=en.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Xe("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,m,y){var S=Xe("a",h,m);return S.innerHTML=s,S.href="#",S.title=l,S.setAttribute("role","button"),S.setAttribute("aria-label",l),ye(S),$e(S,"click",Ti),$e(S,"click",y,this),$e(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Ae(this._zoomInButton,l),Ae(this._zoomOutButton,l),(this._disabled||s._zoom===s.getMinZoom())&&Ee(this._zoomOutButton,l),(this._disabled||s._zoom===s.getMaxZoom())&&Ee(this._zoomInButton,l)}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fs,this.addControl(this.zoomControl))});var Co=en.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Xe("div",l),m=this.options;return this._addScales(m,l+"-line",h),s.on(m.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Xe("div",l,h)),s.imperial&&(this._iScale=Xe("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s);this._updateScale(this._mScale,l<1e3?l+" m":l/1e3+" km",l/s)},_updateImperial:function(s){var h,m,y,l=3.2808399*s;l>5280?(m=this._getRoundNum(h=l/5280),this._updateScale(this._iScale,m+" mi",m/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return l*(h>=10?10:h>=5?5:h>=3?3:h>=2?2:1)}}),tt=en.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(s){nt(this,s),this._attributions={}},onAdd:function(s){for(var l in s.attributionControl=this,this._container=Xe("div","leaflet-control-attribution"),ye(this._container),s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),this._container},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(" | ")}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&(new tt).addTo(this)});en.Layers=Ne,en.Zoom=Fs,en.Scale=Co,en.Attribution=tt,$r.layers=function(s,l,h){return new Ne(s,l,h)},$r.zoom=function(s){return new Fs(s)},$r.scale=function(s){return new Co(s)},$r.attribution=function(s){return new tt(s)};var li=Wn.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});li.addTo=function(s,l){return s.addHandler(l,this),this};var yr,Io={Events:Ve},vr=ln?"touchstart mousedown":"mousedown",So={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Gr={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},xi=Ui.extend({options:{clickTolerance:3},initialize:function(s,l,h,m){nt(this,m),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||($e(this._dragStartTarget,vr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xi._dragging===this&&this.finishDrag(),Ct(this._dragStartTarget,vr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(!s._simulated&&this._enabled&&(this._moved=!1,!et(this._element,"leaflet-zoom-anim")&&!(xi._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches)&&(xi._dragging=this,this._preventOutline&&jt(this._element),_o(),J(),!this._moving))){this.fire("down");var l=s.touches?s.touches[0]:s,h=da(this._element);this._startPoint=new Ie(l.clientX,l.clientY),this._parentScale=Rs(h),$e(document,Gr[s.type],this._onMove,this),$e(document,So[s.type],this._onUp,this)}},_onMove:function(s){if(!s._simulated&&this._enabled){if(s.touches&&s.touches.length>1)return void(this._moved=!0);var l=s.touches&&1===s.touches.length?s.touches[0]:s,h=new Ie(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Nn(s),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=cn(this._element).subtract(h),Ee(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,$t(this._animRequest),this._lastEvent=s,this._animRequest=Rt(this._updatePosition,this,!0))}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),St(this._element,this._newPos),this.fire("drag",s)},_onUp:function(s){s._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var s in Ae(document.body,"leaflet-dragging"),this._lastTarget&&(Ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Gr)Ct(document,Gr[s],this._onMove,this),Ct(document,So[s],this._onUp,this);vo(),Lt(),this._moved&&this._moving&&($t(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,xi._dragging=!1}});function Bs(s,l){if(!l||!s.length)return s.slice();var h=l*l;return function Ju(s,l){var h=s.length,y=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(h);y[0]=y[h-1]=1,qr(s,y,l,0,h-1);var S,N=[];for(S=0;S<h;S++)y[S]&&N.push(s[S]);return N}(s=function ec(s,l){for(var h=[s[0]],m=1,y=0,S=s.length;m<S;m++)To(s[m],s[y])>l&&(h.push(s[m]),y=m);return y<S-1&&h.push(s[S-1]),h}(s,h),h)}function Ll(s,l,h){return Math.sqrt(Zr(s,l,h,!0))}function qr(s,l,h,m,y){var N,j,z,S=0;for(j=m+1;j<=y-1;j++)(z=Zr(s[j],s[m],s[y],!0))>S&&(N=j,S=z);S>h&&(l[N]=1,qr(s,l,h,m,N),qr(s,l,h,N,y))}function js(s,l,h,m,y){var j,z,Y,S=m?yr:Qi(s,h),N=Qi(l,h);for(yr=N;;){if(!(S|N))return[s,l];if(S&N)return!1;Y=Qi(z=Xi(s,l,j=S||N,h,y),h),j===S?(s=z,S=Y):(l=z,N=Y)}}function Xi(s,l,h,m,y){var Y,ae,S=l.x-s.x,N=l.y-s.y,j=m.min,z=m.max;return 8&h?(Y=s.x+S*(z.y-s.y)/N,ae=z.y):4&h?(Y=s.x+S*(j.y-s.y)/N,ae=j.y):2&h?(Y=z.x,ae=s.y+N*(z.x-s.x)/S):1&h&&(Y=j.x,ae=s.y+N*(j.x-s.x)/S),new Ie(Y,ae,y)}function Qi(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function To(s,l){var h=l.x-s.x,m=l.y-s.y;return h*h+m*m}function Zr(s,l,h,m){var Y,y=l.x,S=l.y,N=h.x-y,j=h.y-S,z=N*N+j*j;return z>0&&((Y=((s.x-y)*N+(s.y-S)*j)/z)>1?(y=h.x,S=h.y):Y>0&&(y+=N*Y,S+=j*Y)),N=s.x-y,j=s.y-S,m?N*N+j*j:new Ie(y,S)}function Jn(s){return!ht(s[0])||"object"!=typeof s[0][0]&&typeof s[0][0]<"u"}function Ki(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Jn(s)}var Pl={simplify:Bs,pointToSegmentDistance:Ll,closestPointOnSegment:function Ku(s,l,h){return Zr(s,l,h)},clipSegment:js,_getEdgeIntersection:Xi,_getBitCode:Qi,_sqClosestPointOnSegment:Zr,isFlat:Jn,_flat:Ki};function ui(s,l,h){var m,S,N,j,z,Y,ae,pe,ue,y=[1,4,2,8];for(S=0,ae=s.length;S<ae;S++)s[S]._code=Qi(s[S],l);for(j=0;j<4;j++){for(pe=y[j],m=[],S=0,N=(ae=s.length)-1;S<ae;N=S++)Y=s[N],(z=s[S])._code&pe?Y._code&pe||((ue=Xi(Y,z,pe,l,h))._code=Qi(ue,l),m.push(ue)):(Y._code&pe&&((ue=Xi(Y,z,pe,l,h))._code=Qi(ue,l),m.push(ue)),m.push(z));s=m}return s}var xo={clipPolygon:ui},fe={project:function(s){return new Ie(s.lng,s.lat)},unproject:function(s){return new Le(s.y,s.x)},bounds:new Je([-180,-90],[180,90])},Hs={R:6378137,R_MINOR:6356752.314245179,bounds:new Je([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var l=Math.PI/180,h=this.R,m=s.lat*l,y=this.R_MINOR/h,S=Math.sqrt(1-y*y),N=S*Math.sin(m),j=Math.tan(Math.PI/4-m/2)/Math.pow((1-N)/(1+N),S/2);return m=-h*Math.log(Math.max(j,1e-10)),new Ie(s.lng*l*h,m)},unproject:function(s){for(var Y,l=180/Math.PI,h=this.R,m=this.R_MINOR/h,y=Math.sqrt(1-m*m),S=Math.exp(-s.y/h),N=Math.PI/2-2*Math.atan(S),j=0,z=.1;j<15&&Math.abs(z)>1e-7;j++)Y=y*Math.sin(N),Y=Math.pow((1-Y)/(1+Y),y/2),N+=z=Math.PI/2-2*Math.atan(S*Y)-N;return new Le(N*l,s.x*l/h)}},le={LonLat:fe,Mercator:Hs,SphericalMercator:En},Us=_({},Yn,{code:"EPSG:3395",projection:Hs,transformation:function(){var s=.5/(Math.PI*Hs.R);return Fr(s,.5,-s,.5)}()}),zs=_({},Yn,{code:"EPSG:4326",projection:fe,transformation:Fr(1/180,1,-1/180,.5)}),Wr=_({},Pe,{projection:fe,transformation:Fr(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,m=l.lat-s.lat;return Math.sqrt(h*h+m*m)},infinite:!0});Pe.Earth=Yn,Pe.EPSG3395=Us,Pe.EPSG3857=mn,Pe.EPSG900913=ao,Pe.EPSG4326=zs,Pe.Simple=Wr;var kn=Ui.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[O(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[O(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.getAttribution&&l.attributionControl&&l.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=O(s);return this._layers[l]||(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this},removeLayer:function(s){var l=O(s);return this._layers[l]?(this._loaded&&s.onRemove(this),s.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(s.getAttribution()),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return!!s&&O(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){for(var l=0,h=(s=s?ht(s)?s:[s]:[]).length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[O(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=O(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;s=void 0===y.minZoom?s:Math.min(s,y.minZoom),l=void 0===y.maxZoom?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wr=kn.extend({initialize:function(s,l){var h,m;if(nt(this,l),this._layers={},s)for(h=0,m=s.length;h<m;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){return!!s&&("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var h,m,l=Array.prototype.slice.call(arguments,1);for(h in this._layers)(m=this._layers[h])[s]&&m[s].apply(m,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return O(s)}}),dn=wr.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),wr.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),wr.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new lt;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Gt=Wn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(s){nt(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(h,l&&"IMG"===l.tagName?l:null);return this._setIconStyles(m,s),m},_setIconStyles:function(s,l){var h=this.options,m=h[l+"Size"];"number"==typeof m&&(m=[m,m]);var y=Ke(m),S=Ke("shadow"===l&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),S&&(s.style.marginLeft=-S.x+"px",s.style.marginTop=-S.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return(l=l||document.createElement("img")).src=s,l},_getIconUrl:function(s){return bi&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});var qe=Gt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return qe.imagePath||(qe.imagePath=this._detectIconPath()),(this.options.imagePath||qe.imagePath)+Gt.prototype._getIconUrl.call(this,s)},_detectIconPath:function(){var s=Xe("div","leaflet-default-icon-path",document.body),l=An(s,"background-image")||An(s,"backgroundImage");return document.body.removeChild(s),null===l||0!==l.indexOf("url")?"":l.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Yr=li.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new xi(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ee(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,S=cn(l._icon),N=h.getPixelBounds(),j=h.getPixelOrigin(),z=Qt(N.min._subtract(j).add(y),N.max._subtract(j).subtract(y));if(!z.contains(S)){var Y=Ke((Math.max(z.max.x,S.x)-z.max.x)/(N.max.x-z.max.x)-(Math.min(z.min.x,S.x)-z.min.x)/(N.min.x-z.min.x),(Math.max(z.max.y,S.y)-z.max.y)/(N.max.y-z.max.y)-(Math.min(z.min.y,S.y)-z.min.y)/(N.min.y-z.min.y)).multiplyBy(m);h.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),St(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Rt(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&($t(this._panRequest),this._panRequest=Rt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,m=cn(l._icon),y=l._map.layerPointToLatLng(m);h&&St(h,m),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){$t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Mr=kn.extend({options:{icon:new qe,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){nt(this,l),this._latlng=Re(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=Re(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),m=!1;h!==this._icon&&(this._icon&&this._removeIcon(),m=!0,s.title&&(h.title=s.title),"IMG"===h.tagName&&(h.alt=s.alt||"")),Ee(h,l),s.keyboard&&(h.tabIndex="0"),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var y=s.icon.createShadow(this._shadow),S=!1;y!==this._shadow&&(this._removeShadow(),S=!0),y&&(Ee(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&S&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ct(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ct(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&St(this._icon,s),this._shadow&&St(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yr)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yr(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&un(this._icon,s),this._shadow&&un(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var ci=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return nt(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),bn=ci.extend({options:{fill:!0,radius:10},initialize:function(s,l){nt(this,l),this._latlng=Re(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=Re(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return ci.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),m=[s+h,l+h];this._pxBounds=new Je(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var $s=bn.extend({initialize:function(s,l,h){if("number"==typeof l&&(l=_({},h,{radius:l})),nt(this,l),this._latlng=Re(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new lt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ci.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,m=h.options.crs;if(m.distance===Yn.distance){var y=Math.PI/180,S=this._mRadius/Yn.R/y,N=h.project([l+S,s]),j=h.project([l-S,s]),z=N.add(j).divideBy(2),Y=h.unproject(z).lat,ae=Math.acos((Math.cos(S*y)-Math.sin(l*y)*Math.sin(Y*y))/(Math.cos(l*y)*Math.cos(Y*y)))/y;(isNaN(ae)||0===ae)&&(ae=S/Math.cos(Math.PI/180*l)),this._point=z.subtract(h.getPixelOrigin()),this._radius=isNaN(ae)?0:z.x-h.project([Y,s-ae]).x,this._radiusY=z.y-N.y}else{var pe=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(pe).x}this._updateBounds()}});var On=ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){nt(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var y,S,l=1/0,h=null,m=Zr,N=0,j=this._parts.length;N<j;N++)for(var z=this._parts[N],Y=1,ae=z.length;Y<ae;Y++){var pe=m(s,y=z[Y-1],S=z[Y],!0);pe<l&&(l=pe,h=m(s,y,S))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var s,l,h,m,y,S,N,j=this._rings[0],z=j.length;if(!z)return null;for(s=0,l=0;s<z-1;s++)l+=j[s].distanceTo(j[s+1])/2;if(0===l)return this._map.layerPointToLatLng(j[0]);for(s=0,m=0;s<z-1;s++)if((m+=h=(y=j[s]).distanceTo(S=j[s+1]))>l)return this._map.layerPointToLatLng([S.x-(N=(m-l)/h)*(S.x-y.x),S.y-N*(S.y-y.y)])},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=Re(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new lt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Jn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=Jn(s),m=0,y=s.length;m<y;m++)h?(l[m]=Re(s[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(s[m]);return l},_project:function(){var s=new Je;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new Ie(s,s);this._pxBounds=new Je([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)])},_projectLatlngs:function(s,l,h){var S,N,y=s.length;if(s[0]instanceof Le){for(N=[],S=0;S<y;S++)N[S]=this._map.latLngToLayerPoint(s[S]),h.extend(N[S]);l.push(N)}else for(S=0;S<y;S++)this._projectLatlngs(s[S],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);var h,m,y,S,N,j,z,l=this._parts;for(h=0,y=0,S=this._rings.length;h<S;h++)for(m=0,N=(z=this._rings[h]).length;m<N-1;m++)(j=js(z[m],z[m+1],s,m,!0))&&(l[y]=l[y]||[],l[y].push(j[0]),(j[1]!==z[m+1]||m===N-2)&&(l[y].push(j[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,m=s.length;h<m;h++)s[h]=Bs(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,m,y,S,N,j,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,S=this._parts.length;h<S;h++)for(m=0,y=(N=(j=this._parts[h]).length)-1;m<N;y=m++)if((l||0!==m)&&Ll(s,j[y],j[m])<=z)return!0;return!1}});On._flat=Ki;var Ji=On.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var s,l,h,m,y,S,N,j,Y=this._rings[0],ae=Y.length;if(!ae)return null;for(S=N=j=0,s=0,l=ae-1;s<ae;l=s++)N+=((h=Y[s]).x+(m=Y[l]).x)*(y=h.y*m.x-m.y*h.x),j+=(h.y+m.y)*y,S+=3*y;return this._map.layerPointToLatLng(0===S?Y[0]:[N/S,j/S])},_convertLatLngs:function(s){var l=On.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof Le&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){On.prototype._setLatLngs.call(this,s),Jn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Jn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new Ie(l,l);if(s=new Je(s.min.subtract(h),s.max.add(h)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(s)){if(this.options.noClip)return void(this._parts=this._rings);for(var S,m=0,y=this._rings.length;m<y;m++)(S=ui(this._rings[m],s,!0)).length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var h,m,y,S,N,j,z,Y,l=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(S=0,z=this._parts.length;S<z;S++)for(N=0,j=(Y=(h=this._parts[S]).length)-1;N<Y;j=N++)(m=h[N]).y>s.y!=(y=h[j]).y>s.y&&s.x<(y.x-m.x)*(s.y-m.y)/(y.y-m.y)+m.x&&(l=!l);return l||On.prototype._containsPoint.call(this,s,!0)}});var ti=dn.extend({initialize:function(s,l){nt(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var h,m,y,l=ht(s)?s:s.features;if(l){for(h=0,m=l.length;h<m;h++)((y=l[h]).geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var S=this.options;if(S.filter&&!S.filter(s))return this;var N=Gs(s,S);return N?(N.feature=hi(s),N.defaultOptions=N.options,this.resetStyle(N),S.onEachFeature&&S.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=_({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&("function"==typeof l&&(l=l(s.feature)),s.setStyle(l))}});function Gs(s,l){var j,z,Y,ae,h="Feature"===s.type?s.geometry:s,m=h?h.coordinates:null,y=[],S=l&&l.pointToLayer,N=l&&l.coordsToLatLng||qs;if(!m&&!h)return null;switch(h.type){case"Point":return _a(S,s,j=N(m),l);case"MultiPoint":for(Y=0,ae=m.length;Y<ae;Y++)j=N(m[Y]),y.push(_a(S,s,j,l));return new dn(y);case"LineString":case"MultiLineString":return z=Zs(m,"LineString"===h.type?0:1,N),new On(z,l);case"Polygon":case"MultiPolygon":return z=Zs(m,"Polygon"===h.type?1:2,N),new Ji(z,l);case"GeometryCollection":for(Y=0,ae=h.geometries.length;Y<ae;Y++){var pe=Gs({geometry:h.geometries[Y],type:"Feature",properties:s.properties},l);pe&&y.push(pe)}return new dn(y);default:throw new Error("Invalid GeoJSON object.")}}function _a(s,l,h,m){return s?s(l,h):new Mr(h,m&&m.markersInheritOptions&&m)}function qs(s){return new Le(s[1],s[0],s[2])}function Zs(s,l,h){for(var N,m=[],y=0,S=s.length;y<S;y++)N=l?Zs(s[y],l-1,h):(h||qs)(s[y]),m.push(N);return m}function Lo(s,l){return l="number"==typeof l?l:6,void 0!==s.alt?[De(s.lng,l),De(s.lat,l),De(s.alt,l)]:[De(s.lng,l),De(s.lat,l)]}function fn(s,l,h,m){for(var y=[],S=0,N=s.length;S<N;S++)y.push(l?fn(s[S],l-1,h,m):Lo(s[S],m));return!l&&h&&y.push(y[0]),y}function Tt(s,l){return s.feature?_({},s.feature,{geometry:l}):hi(l)}function hi(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}var er={toGeoJSON:function(s){return Tt(this,{type:"Point",coordinates:Lo(this.getLatLng(),s)})}};function Dr(s,l){return new ti(s,l)}Mr.include(er),$s.include(er),bn.include(er),On.include({toGeoJSON:function(s){var l=!Jn(this._latlngs);return Tt(this,{type:(l?"Multi":"")+"LineString",coordinates:fn(this._latlngs,l?1:0,!1,s)})}}),Ji.include({toGeoJSON:function(s){var l=!Jn(this._latlngs),h=l&&!Jn(this._latlngs[0]),m=fn(this._latlngs,h?2:l?1:0,!0,s);return l||(m=[m]),Tt(this,{type:(h?"Multi":"")+"Polygon",coordinates:m})}}),wr.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),Tt(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===l)return this.toMultiPoint(s);var h="GeometryCollection"===l,m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var S=y.toGeoJSON(s);if(h)m.push(S.geometry);else{var N=hi(S);"FeatureCollection"===N.type?m.push.apply(m,N.features):m.push(N)}}}),h?Tt(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});var Kr=Dr,di=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=st(l),nt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ct(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&pr(this._image),this},bringToBack:function(){return this._map&&qi(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=st(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,l=this._image=s?this._url:Xe("img");Ee(l,"leaflet-image-layer"),this._zoomAnimated&&Ee(l,"leaflet-zoom-animated"),this.options.className&&Ee(l,this.options.className),l.onselectstart=te,l.onmousemove=te,l.onload=T(this.fire,this,"load"),l.onerror=T(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=l.src:(l.src=this._url,l.alt=this.options.alt)},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Qn(this._image,h,l)},_reset:function(){var s=this._image,l=new Je(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();St(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)}}),Jr=di.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var s="VIDEO"===this._url.tagName,l=this._image=s?this._url:Xe("video");if(Ee(l,"leaflet-image-layer"),this._zoomAnimated&&Ee(l,"leaflet-zoom-animated"),this.options.className&&Ee(l,this.options.className),l.onselectstart=te,l.onmousemove=te,l.onloadeddata=T(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),m=[],y=0;y<h.length;y++)m.push(h[y].src);this._url=h.length>0?m:[l.src]}else{ht(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted;for(var S=0;S<this._url.length;S++){var N=Xe("source");N.src=this._url[S],l.appendChild(N)}}}});var va=di.extend({_initImage:function(){var s=this._image=this._url;Ee(s,"leaflet-image-layer"),this._zoomAnimated&&Ee(s,"leaflet-zoom-animated"),this.options.className&&Ee(s,this.options.className),s.onselectstart=te,s.onmousemove=te}});var fi=kn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(s,l){nt(this,s),this._source=l},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&un(this._container,1),this.bringToFront()},onRemove:function(s){s._fadeAnimated?(un(this._container,0),this._removeTimeout=setTimeout(T(ct,void 0,this._container),200)):ct(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Re(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&pr(this._container),this},bringToBack:function(){return this._map&&qi(this._container),this},_prepareOpen:function(s,l,h){if(l instanceof kn||(h=l,l=s),l instanceof dn)for(var m in s._layers){l=s._layers[m];break}if(!h)if(l.getCenter)h=l.getCenter();else{if(!l.getLatLng)throw new Error("Unable to get source layer LatLng.");h=l.getLatLng()}return this._source=l,this.update(),h},_updateContent:function(){if(this._content){var s=this._contentNode,l="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof l)s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=Ke(this.options.offset),h=this._getAnchor();this._zoomAnimated?St(this._container,s.add(h)):l=l.add(s).add(h);var m=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}}),Cr=fi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s.openPopup(this),this},onAdd:function(s){fi.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ci||this._source.on("preclick",mr))},onRemove:function(s){fi.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ci||this._source.off("preclick",mr))},getEvents:function(){var s=fi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this._close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var s="leaflet-popup",l=this._container=Xe("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Xe("div",s+"-content-wrapper",l);if(this._contentNode=Xe("div",s+"-content",h),ye(l),Pt(this._contentNode),$e(l,"contextmenu",mr),this._tipContainer=Xe("div",s+"-tip-container",l),this._tip=Xe("div",s+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=Xe("a",s+"-close-button",l);m.href="#close",m.innerHTML="&#215;",$e(m,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var y=this.options.maxHeight,S="leaflet-popup-scrolled";y&&s.offsetHeight>y?(l.height=y+"px",Ee(s,S)):Ae(s,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();St(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var s=this._map,l=parseInt(An(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,m=this._containerWidth,y=new Ie(this._containerLeft,-h-this._containerBottom);y._add(cn(this._container));var S=s.layerPointToContainerPoint(y),N=Ke(this.options.autoPanPadding),j=Ke(this.options.autoPanPaddingTopLeft||N),z=Ke(this.options.autoPanPaddingBottomRight||N),Y=s.getSize(),ae=0,pe=0;S.x+m+z.x>Y.x&&(ae=S.x+m-Y.x+z.x),S.x-ae-j.x<0&&(ae=S.x-j.x),S.y+h+z.y>Y.y&&(pe=S.y+h-Y.y+z.y),S.y-pe-j.y<0&&(pe=S.y-j.y),(ae||pe)&&s.fire("autopanstart").panBy([ae,pe])}},_onCloseButtonClick:function(s){this._close(),Ti(s)},_getAnchor:function(){return Ke(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(s,l,h){return s instanceof Cr||(s=new Cr(h).setContent(s)),l&&s.setLatLng(l),this.hasLayer(s)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=s,this.addLayer(s))},closePopup:function(s){return(!s||s===this._popup)&&(s=this._popup,this._popup=null),s&&this.removeLayer(s),this}}),kn.include({bindPopup:function(s,l){return s instanceof Cr?(nt(s,l),this._popup=s,s._source=this):((!this._popup||l)&&(this._popup=new Cr(l,this)),this._popup.setContent(s)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s,l){return this._popup&&this._map&&(l=this._popup._prepareOpen(this,s,l),this._map.openPopup(this._popup,l)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(s){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(s)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){var l=s.layer||s.target;if(this._popup&&this._map){if(Ti(s),l instanceof ci)return void this.openPopup(s.layer||s.target,s.latlng);this._map.hasLayer(this._popup)&&this._popup._source===l?this.closePopup():this.openPopup(l,s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}});var vn=fi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(s){fi.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(s){fi.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var s=fi.prototype.getEvents.call(this);return ln&&!this.options.permanent&&(s.preclick=this._close),s},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Xe("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,m=this._map,y=this._container,S=m.latLngToContainerPoint(m.getCenter()),N=m.layerPointToContainerPoint(s),j=this.options.direction,z=y.offsetWidth,Y=y.offsetHeight,ae=Ke(this.options.offset),pe=this._getAnchor();"top"===j?(l=z/2,h=Y):"bottom"===j?(l=z/2,h=0):"center"===j?(l=z/2,h=Y/2):"right"===j?(l=0,h=Y/2):"left"===j?(l=z,h=Y/2):N.x<S.x?(j="right",l=0,h=Y/2):(j="left",l=z+2*(ae.x+pe.x),h=Y/2),s=s.subtract(Ke(l,h,!0)).add(ae).add(pe),Ae(y,"leaflet-tooltip-right"),Ae(y,"leaflet-tooltip-left"),Ae(y,"leaflet-tooltip-top"),Ae(y,"leaflet-tooltip-bottom"),Ee(y,"leaflet-tooltip-"+j),St(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&un(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return Ke(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ge.include({openTooltip:function(s,l,h){return s instanceof vn||(s=new vn(h).setContent(s)),l&&s.setLatLng(l),this.hasLayer(s)?this:this.addLayer(s)},closeTooltip:function(s){return s&&this.removeLayer(s),this}}),kn.include({bindTooltip:function(s,l){return s instanceof vn?(nt(s,l),this._tooltip=s,s._source=this):((!this._tooltip||l)&&(this._tooltip=new vn(l,this)),this._tooltip.setContent(s)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(s||!this._tooltipHandlersAdded){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),ln&&(h.click=this._openTooltip)),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s,l){return this._tooltip&&this._map&&(l=this._tooltip._prepareOpen(this,s,l),this._map.openTooltip(this._tooltip,l),this._tooltip.options.interactive&&this._tooltip._container&&(Ee(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Ae(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(s){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(s)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_openTooltip:function(s){!this._tooltip||!this._map||this.openTooltip(s.layer||s.target,this._tooltip.options.sticky?s.latlng:void 0)},_moveTooltip:function(s){var h,m,l=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),m=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var Ao=Gt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&"DIV"===s.tagName?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(Jt(l),l.appendChild(h.html)):l.innerHTML=!1!==h.html?h.html:"",h.bgPos){var m=Ke(h.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});Gt.Default=qe;var Ot=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ei,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){nt(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),ct(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(pr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=G(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof Ie?s:new Ie(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var S,l=this.getPane().children,h=-s(-1/0,1/0),m=0,y=l.length;m<y;m++)S=l[m].style.zIndex,l[m]!==this._container&&S&&(h=s(h,+S));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!zi){un(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var m in this._tiles){var y=this._tiles[m];if(y.current&&y.loaded){var S=Math.min(1,(s-y.loaded)/200);un(y.el,S),S<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&($t(this._fadeFrame),this._fadeFrame=Rt(this._updateOpacity,this))}},_onOpaqueTile:te,_initContainer:function(){this._container||(this._container=Xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(void 0!==s){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(ct(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var m=this._levels[s],y=this._map;return m||((m=this._levels[s]={}).el=Xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),m.zoom=s,this._setZoomTransform(m,y.getCenter(),y.getZoom()),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:te,_onRemoveLevel:te,_onCreateLevel:te,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom)return void this._removeAllTiles();for(s in this._tiles)(l=this._tiles[s]).retain=l.current;for(s in this._tiles)if((l=this._tiles[s]).current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)ct(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,m){var y=Math.floor(s/2),S=Math.floor(l/2),N=h-1,j=new Ie(+y,+S);j.z=+N;var z=this._tileCoordsToKey(j),Y=this._tiles[z];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),N>m&&this._retainParent(y,S,N,m))},_retainChildren:function(s,l,h,m){for(var y=2*s;y<2*s+2;y++)for(var S=2*l;S<2*l+2;S++){var N=new Ie(y,S);N.z=h+1;var j=this._tileCoordsToKey(N),z=this._tiles[j];z&&z.active?z.retain=!0:(z&&z.loaded&&(z.retain=!0),h+1<m&&this._retainChildren(y,S,h+1,m))}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return void 0!==l.minNativeZoom&&s<l.minNativeZoom?l.minNativeZoom:void 0!==l.maxNativeZoom&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,m){var y=Math.round(l);y=void 0!==this.options.maxZoom&&y>this.options.maxZoom||void 0!==this.options.minZoom&&y<this.options.minZoom?void 0:this._clampZoom(y),(!m||this.options.updateWhenZooming&&y!==this._tileZoom)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==y&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var m=this._map.getZoomScale(h,s.zoom),y=s.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,h)).round();_n?Qn(s.el,y,m):St(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],m).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],m).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],m).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],m).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(h,this._tileZoom),y=l.project(s,this._tileZoom).floor(),S=l.getSize().divideBy(2*m);return new Je(y.subtract(S),y.add(S))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(void 0===s&&(s=l.getCenter()),void 0!==this._tileZoom){var m=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(m),S=y.getCenter(),N=[],j=this.options.keepBuffer,z=new Je(y.getBottomLeft().subtract([j,-j]),y.getTopRight().add([j,-j]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ae=this._tiles[Y].coords;(ae.z!==this._tileZoom||!z.contains(new Ie(ae.x,ae.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(h-this._tileZoom)>1)return void this._setView(s,h);for(var pe=y.min.y;pe<=y.max.y;pe++)for(var ue=y.min.x;ue<=y.max.x;ue++){var Ai=new Ie(ue,pe);if(Ai.z=this._tileZoom,this._isValidTile(Ai)){var gi=this._tiles[this._tileCoordsToKey(Ai)];gi?gi.current=!0:N.push(Ai)}}if(N.sort(function(Ut,br){return Ut.distanceTo(S)-br.distanceTo(S)}),0!==N.length){this._loading||(this._loading=!0,this.fire("loading"));var is=document.createDocumentFragment();for(ue=0;ue<N.length;ue++)this._addTile(N[ue],is);this._level.el.appendChild(is)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(s);return st(this.options.bounds).overlaps(m)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),m=s.scaleBy(h),y=m.add(h);return[l.unproject(m,s.z),l.unproject(y,s.z)]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new lt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new Ie(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(ct(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ee(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=te,s.onmousemove=te,zi&&this.options.opacity<1&&un(s,this.options.opacity),bs&&!Is&&(s.style.WebkitBackfaceVisibility="hidden")},_addTile:function(s,l){var h=this._getTilePos(s),m=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),T(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&Rt(T(this._tileReady,this,s,null,y)),St(y,h),this._tiles[m]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var m=this._tileCoordsToKey(s);(h=this._tiles[m])&&(h.loaded=+new Date,this._map._fadeAnimated?(un(h.el,0),$t(this._fadeFrame),this._fadeFrame=Rt(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Ee(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),zi||!this._map._fadeAnimated?Rt(this._pruneTiles,this):setTimeout(T(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new Ie(this._wrapX?W(s.x,this._wrapX):s.x,this._wrapY?W(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new Je(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});var vt=Ot.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(s,l){this._url=s,(l=nt(this,l)).detectRetina&&bi&&l.maxZoom>0&&(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom++):(l.zoomOffset++,l.maxZoom--),l.minZoom=Math.max(0,l.minZoom)),"string"==typeof l.subdomains&&(l.subdomains=l.subdomains.split("")),bs||this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&void 0===l&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return $e(h,"load",T(this._tileOnLoad,this,l,h)),$e(h,"error",T(this._tileOnError,this,l,h)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(h.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),h.alt="",h.setAttribute("role","presentation"),h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:bi?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return bt(this._url,_(l,this.options))},_tileOnLoad:function(s,l){zi?setTimeout(T(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return this.options.zoomReverse&&(s=this.options.maxZoom-s),s+this.options.zoomOffset},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)this._tiles[s].coords.z!==this._tileZoom&&((l=this._tiles[s].el).onload=te,l.onerror=te,l.complete||(l.src=Ci,ct(l),delete this._tiles[s]))},_removeTile:function(s){var l=this._tiles[s];if(l)return uo||l.el.setAttribute("src",Ci),Ot.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(this._map&&(!h||h.getAttribute("src")!==Ci))return Ot.prototype._tileReady.call(this,s,l,h)}});function qt(s,l){return new vt(s,l)}var nr=vt.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=_({},this.defaultWmsParams);for(var m in l)m in this.options||(h[m]=l[m]);var y=(l=nt(this,l)).detectRetina&&bi?2:1,S=this.getTileSize();h.width=S.x*y,h.height=S.y*y,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,vt.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,m=Qt(h.project(l[0]),h.project(l[1])),y=m.min,S=m.max,N=(this._wmsVersion>=1.3&&this._crs===zs?[y.y,y.x,S.y,S.x]:[y.x,y.y,S.x,S.y]).join(","),j=vt.prototype.getTileUrl.call(this,s);return j+na(this.wmsParams,j,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,l){return _(this.wmsParams,s),l||this.redraw(),this}});vt.WMS=nr,qt.wms=function yn(s,l){return new nr(s,l)};var Fn=kn.extend({options:{padding:.1,tolerance:0},initialize:function(s){nt(this,s),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),m=cn(this._container),y=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,l),j=this._map.project(s,l).subtract(S),z=y.multiplyBy(-h).add(m).add(y).subtract(j);_n?Qn(this._container,z,h):St(this._container,z)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new Je(h,h.add(l.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),No=Fn.extend({getEvents:function(){var s=Fn.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");$e(s,"mousemove",this._onMouseMove,this),$e(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$e(s,"mouseout",this._handleMouseOut,this),this._ctx=s.getContext("2d")},_destroyContainer:function(){$t(this._redrawRequest),delete this._ctx,ct(this._container),Ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var l in this._redrawBounds=null,this._layers)this._layers[l]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Fn.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),m=bi?2:1;St(l,s.min),l.width=m*h.x,l.height=m*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",bi&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Fn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[O(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,m=l.prev;h?h.prev=m:this._drawLast=m,m?m.next=h:this._drawFirst=h,delete s._order,delete this._layers[O(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){var m,y,l=s.options.dashArray.split(/[, ]+/),h=[];for(y=0;y<l.length;y++){if(m=Number(l[y]),isNaN(m))return;h.push(m)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Rt(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Je,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)s=m.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,m,y,S,N=s._parts,j=N.length,z=this._ctx;if(j){for(z.beginPath(),h=0;h<j;h++){for(m=0,y=N[h].length;m<y;m++)z[m?"lineTo":"moveTo"]((S=N[h][m]).x,S.y);l&&z.closePath()}this._fillStroke(z,s)}}},_updateCircle:function(s){if(this._drawing&&!s._empty()){var l=s._point,h=this._ctx,m=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||m)/m;1!==y&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,m,0,2*Math.PI,!1),1!==y&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&0!==h.weight&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var h,m,l=this._map.mouseEventToLayerPoint(s),y=this._drawFirst;y;y=y.next)(h=y.layer).options.interactive&&h._containsPoint(l)&&("click"!==s.type&&"preclick"===s.type||!this._map._draggableMoved(h))&&(m=h);m&&(_r(s),this._fireEvent([m],s))},_onMouseMove:function(s){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,m,y=this._drawFirst;y;y=y.next)(h=y.layer).options.interactive&&h._containsPoint(l)&&(m=h);m!==this._hoveredLayer&&(this._handleMouseOut(s),m&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([m],s,"mouseover"),this._hoveredLayer=m)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(T(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(!h)return;h.prev=m,m?m.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,m=l.prev;if(!m)return;m.next=h,h?h.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function es(s){return xe?new No(s):null}var ts=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),kl={_initContainer:function(){this._container=Xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fn.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=ts("shape");Ee(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=ts("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[O(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;ct(l),s.removeInteractiveTarget(l),delete this._layers[O(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,m=s.options,y=s._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(l||(l=s._stroke=ts("stroke")),y.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,l.dashStyle=m.dashArray?ht(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):"",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(y.removeChild(l),s._stroke=null),m.fill?(h||(h=s._fill=ts("fill")),y.appendChild(h),h.color=m.fillColor||m.color,h.opacity=m.fillOpacity):h&&(y.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),m=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+m+" 0,23592600")},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){pr(s._container)},_bringToBack:function(s){qi(s._container)}},gt=jr?ts:sa,se=Fn.extend({getEvents:function(){var s=Fn.prototype.getEvents.call(this);return s.zoomstart=this._onZoomStart,s},_initContainer:function(){this._container=gt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=gt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ct(this._container),Ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Fn.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),St(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=gt("path");s.options.className&&Ee(l,s.options.className),s.options.interactive&&Ee(l,"leaflet-interactive"),this._updateStyle(s),this._layers[O(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){ct(s._path),s.removeInteractiveTarget(s._path),delete this._layers[O(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Dl(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),y="a"+h+","+(Math.max(Math.round(s._radiusY),1)||h)+" 0 1,0 ",S=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+2*h+",0 "+y+2*-h+",0 ";this._setPath(s,S)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){pr(s._path)},_bringToBack:function(s){qi(s._path)}});function we(s){return xs||jr?new se(s):null}jr&&se.include(kl),Ge.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if("overlayPane"===s||void 0===s)return!1;var l=this._paneRenderers[s];return void 0===l&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&es(s)||we(s)}});var ft=Ji.extend({initialize:function(s,l){Ji.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=st(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});se.create=gt,se.pointsToPath=Dl,ti.geometryToLayer=Gs,ti.coordsToLatLng=qs,ti.coordsToLatLngs=Zs,ti.latLngToCoords=Lo,ti.latLngsToCoords=fn,ti.getFeature=Tt,ti.asFeature=hi,Ge.mergeOptions({boxZoom:!0});var Er=li.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ct(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),J(),_o(),this._startPoint=this._map.mouseEventToContainerPoint(s),$e(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Xe("div","leaflet-zoom-box",this._container),Ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new Je(this._point,this._startPoint),h=l.getSize();St(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(ct(this._box),Ae(this._container,"leaflet-crosshair")),Lt(),vo(),Ct(document,{contextmenu:Ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if((1===s.which||1===s.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(T(this._resetState,this),0);var l=new lt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){27===s.keyCode&&this._finish()}});Ge.addInitHook("addHandler","boxZoom",Er),Ge.mergeOptions({doubleClickZoom:!0});var Ht=li.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),m=l.options.zoomDelta,y=s.originalEvent.shiftKey?h-m:h+m;"center"===l.options.doubleClickZoom?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});Ge.addInitHook("addHandler","doubleClickZoom",Ht),Ge.mergeOptions({dragging:!0,inertia:!Is,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ir=li.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new xi(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ae(this._map._container,"leaflet-grab"),Ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=st(this._map.options.maxBounds);this._offsetLimit=Qt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-l+h)%s+l-h,S=(m+l+h)%s-l-h,N=Math.abs(y+h)<Math.abs(S+h)?y:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var l=this._map,h=l.options,m=!h.inertia||this._times.length<2;if(l.fire("dragend",s),m)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),N=h.easeLinearity,j=y.multiplyBy(N/((this._lastTime-this._times[0])/1e3)),z=j.distanceTo([0,0]),Y=Math.min(h.inertiaMaxSpeed,z),ae=j.multiplyBy(Y/z),pe=Y/(h.inertiaDeceleration*N),ue=ae.multiplyBy(-pe/2).round();ue.x||ue.y?(ue=l._limitOffset(ue,l.options.maxBounds),Rt(function(){l.panBy(ue,{duration:pe,easeLinearity:N,noMoveStart:!0,animate:!0})})):l.fire("moveend")}}});Ge.addInitHook("addHandler","dragging",ir),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yt=li.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),$e(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,m=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var m,y,l=this._panKeys={},h=this.keyCodes;for(m=0,y=h.left.length;m<y;m++)l[h.left[m]]=[-1*s,0];for(m=0,y=h.right.length;m<y;m++)l[h.right[m]]=[s,0];for(m=0,y=h.down.length;m<y;m++)l[h.down[m]]=[0,s];for(m=0,y=h.up.length;m<y;m++)l[h.up[m]]=[0,-1*s]},_setZoomDelta:function(s){var m,y,l=this._zoomKeys={},h=this.keyCodes;for(m=0,y=h.zoomIn.length;m<y;m++)l[h.zoomIn[m]]=s;for(m=0,y=h.zoomOut.length;m<y;m++)l[h.zoomOut[m]]=-s},_addHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var m,l=s.keyCode,h=this._map;if(l in this._panKeys)(!h._panAnim||!h._panAnim._inProgress)&&(m=this._panKeys[l],s.shiftKey&&(m=Ke(m).multiplyBy(3)),h.panBy(m),h.options.maxBounds&&h.panInsideBounds(h.options.maxBounds));else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else{if(27!==l||!h._popup||!h._popup.options.closeOnEscapeKey)return;h.closePopup()}Ti(s)}}});Ge.addInitHook("addHandler","keyboard",yt),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var pi=li.extend({addHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=pa(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var m=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(T(this._performZoom,this),m),Ti(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var y=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,S=h?Math.ceil(y/h)*h:y,N=s._limitZoom(l+(this._delta>0?S:-S))-l;this._delta=0,this._startTime=null,N&&("center"===s.options.scrollWheelZoom?s.setZoom(l+N):s.setZoomAround(this._lastMousePos,l+N))}});Ge.addInitHook("addHandler","scrollWheelZoom",pi),Ge.mergeOptions({tap:!0,tapTolerance:15});var rr=li.extend({addHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(s.touches){if(Nn(s),this._fireClick=!0,s.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var l=s.touches[0],h=l.target;this._startPos=this._newPos=new Ie(l.clientX,l.clientY),h.tagName&&"a"===h.tagName.toLowerCase()&&Ee(h,"leaflet-active"),this._holdTimeout=setTimeout(T(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",l))},this),1e3),this._simulateEvent("mousedown",l),$e(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(s){if(clearTimeout(this._holdTimeout),Ct(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&s&&s.changedTouches){var l=s.changedTouches[0],h=l.target;h&&h.tagName&&"a"===h.tagName.toLowerCase()&&Ae(h,"leaflet-active"),this._simulateEvent("mouseup",l),this._isTapValid()&&this._simulateEvent("click",l)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(s){var l=s.touches[0];this._newPos=new Ie(l.clientX,l.clientY),this._simulateEvent("mousemove",l)},_simulateEvent:function(s,l){var h=document.createEvent("MouseEvents");h._simulated=!0,l.target._simulatedClick=!0,h.initMouseEvent(s,!0,!0,window,1,l.screenX,l.screenY,l.clientX,l.clientY,!1,!1,!1,!1,0,null),l.target.dispatchEvent(h)}});ln&&(!an||on)&&Ge.addInitHook("addHandler","tap",rr),Ge.mergeOptions({touchZoom:ln&&!Is,bounceAtZoomLimits:!0});var Se=li.extend({addHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(s.touches&&2===s.touches.length&&!l._animatingZoom&&!this._zooming){var h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),"center"!==l.options.touchZoom&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(m)._divideBy(2))),this._startDist=h.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend",this._onTouchEnd,this),Nn(s)}},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),m=l.mouseEventToContainerPoint(s.touches[1]),y=h.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),"center"===l.options.touchZoom){if(this._center=this._startLatLng,1===y)return}else{var S=h._add(m)._divideBy(2)._subtract(this._centerPoint);if(1===y&&0===S.x&&0===S.y)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),$t(this._animRequest);var N=T(l._move,l,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Rt(N,this,!0),Nn(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,$t(this._animRequest),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ge.addInitHook("addHandler","touchZoom",Se),Ge.BoxZoom=Er,Ge.DoubleClickZoom=Ht,Ge.Drag=ir,Ge.Keyboard=yt,Ge.ScrollWheelZoom=pi,Ge.Tap=rr,Ge.TouchZoom=Se,ne.version="1.7.1",ne.Control=en,ne.control=$r,ne.Browser=kt,ne.Evented=Ui,ne.Mixin=Io,ne.Util=Cn,ne.Class=Wn,ne.Handler=li,ne.extend=_,ne.bind=T,ne.stamp=O,ne.setOptions=nt,ne.DomEvent=xl,ne.DomUtil=Yi,ne.PosAnimation=Vr,ne.Draggable=xi,ne.LineUtil=Pl,ne.PolyUtil=xo,ne.Point=Ie,ne.point=Ke,ne.Bounds=Je,ne.bounds=Qt,ne.Transformation=ra,ne.transformation=Fr,ne.Projection=le,ne.LatLng=Le,ne.latLng=Re,ne.LatLngBounds=lt,ne.latLngBounds=st,ne.CRS=Pe,ne.GeoJSON=ti,ne.geoJSON=Dr,ne.geoJson=Kr,ne.Layer=kn,ne.LayerGroup=wr,ne.layerGroup=function(s,l){return new wr(s,l)},ne.FeatureGroup=dn,ne.featureGroup=function(s,l){return new dn(s,l)},ne.ImageOverlay=di,ne.imageOverlay=function(s,l,h){return new di(s,l,h)},ne.VideoOverlay=Jr,ne.videoOverlay=function Nl(s,l,h){return new Jr(s,l,h)},ne.SVGOverlay=va,ne.svgOverlay=function Po(s,l,h){return new va(s,l,h)},ne.DivOverlay=fi,ne.Popup=Cr,ne.popup=function(s,l){return new Cr(s,l)},ne.Tooltip=vn,ne.tooltip=function(s,l){return new vn(s,l)},ne.Icon=Gt,ne.icon=function ei(s){return new Gt(s)},ne.DivIcon=Ao,ne.divIcon=function tn(s){return new Ao(s)},ne.Marker=Mr,ne.marker=function Li(s,l){return new Mr(s,l)},ne.TileLayer=vt,ne.tileLayer=qt,ne.GridLayer=Ot,ne.gridLayer=function Qe(s){return new Ot(s)},ne.SVG=se,ne.svg=we,ne.Renderer=Fn,ne.Canvas=No,ne.canvas=es,ne.Path=ci,ne.CircleMarker=bn,ne.circleMarker=function Xr(s,l){return new bn(s,l)},ne.Circle=$s,ne.circle=function ga(s,l,h){return new $s(s,l,h)},ne.Polyline=On,ne.polyline=function ma(s,l){return new On(s,l)},ne.Polygon=Ji,ne.polygon=function Qr(s,l){return new Ji(s,l)},ne.Rectangle=ft,ne.rectangle=function Bn(s,l){return new ft(s,l)},ne.Map=Ge,ne.map=function Os(s,l){return new Ge(s,l)};var ns=window.L;ne.noConflict=function(){return window.L=ns,this},window.L=ne}(Dn)},991:(Di,Dn,ne)=>{"use strict";ne.r(Dn),ne.d(Dn,{default:()=>In});var _=1,D=2,T=3,O=5,G=6378137,W=6356752.314,te=.0066943799901413165,De=484813681109536e-20,Q=Math.PI/2,oe=1e-10,bt=.017453292519943295,ht=57.29577951308232,Ye=Math.PI/4,Ci=2*Math.PI,dt=3.14159265359,Bt={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const Ds={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var Or=/[\s_\-\/\(\)]/g;function xn(u,f){if(u[f])return u[f];for(var b,p=Object.keys(u),M=f.toLowerCase().replace(Or,""),v=-1;++v<p.length;)if((b=p[v]).toLowerCase().replace(Or,"")===M)return u[b]}function Rt(u){var M,v,b,f={},p=u.split("+").map(function(C){return C.trim()}).filter(function(C){return C}).reduce(function(C,P){var R=P.split("=");return R.push(!0),C[R[0].toLowerCase()]=R[1],C},{}),I={proj:"projName",datum:"datumCode",rf:function(C){f.rf=parseFloat(C)},lat_0:function(C){f.lat0=C*bt},lat_1:function(C){f.lat1=C*bt},lat_2:function(C){f.lat2=C*bt},lat_ts:function(C){f.lat_ts=C*bt},lon_0:function(C){f.long0=C*bt},lon_1:function(C){f.long1=C*bt},lon_2:function(C){f.long2=C*bt},alpha:function(C){f.alpha=parseFloat(C)*bt},gamma:function(C){f.rectified_grid_angle=parseFloat(C)},lonc:function(C){f.longc=C*bt},x_0:function(C){f.x0=parseFloat(C)},y_0:function(C){f.y0=parseFloat(C)},k_0:function(C){f.k0=parseFloat(C)},k:function(C){f.k0=parseFloat(C)},a:function(C){f.a=parseFloat(C)},b:function(C){f.b=parseFloat(C)},r_a:function(){f.R_A=!0},zone:function(C){f.zone=parseInt(C,10)},south:function(){f.utmSouth=!0},towgs84:function(C){f.datum_params=C.split(",").map(function(P){return parseFloat(P)})},to_meter:function(C){f.to_meter=parseFloat(C)},units:function(C){f.units=C;var P=xn(Ds,C);P&&(f.to_meter=P.to_meter)},from_greenwich:function(C){f.from_greenwich=C*bt},pm:function(C){var P=xn(Bt,C);f.from_greenwich=(P||parseFloat(C))*bt},nadgrids:function(C){"@null"===C?f.datumCode="none":f.nadgrids=C},axis:function(C){var P="ewnsud";3===C.length&&-1!==P.indexOf(C.substr(0,1))&&-1!==P.indexOf(C.substr(1,1))&&-1!==P.indexOf(C.substr(2,1))&&(f.axis=C)},approx:function(){f.approx=!0}};for(M in p)v=p[M],M in I?"function"==typeof(b=I[M])?b(v):f[b]=v:f[M]=v;return"string"==typeof f.datumCode&&"WGS84"!==f.datumCode&&(f.datumCode=f.datumCode.toLowerCase()),f}const $t=function Le(u){return new st(u).output()};var Cn=1,ia=/\s/,Ke=/[A-Za-z]/,Je=/[A-Za-z84]/,Qt=/[,\]]/,lt=/[\d\.E\-\+]/;function st(u){if("string"!=typeof u)throw new Error("not a string");this.text=u.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Cn}function Re(u,f,p){Array.isArray(f)&&(p.unshift(f),f=null);var v=p.reduce(function(b,I){return Pe(I,b),b},f?{}:u);f&&(u[f]=v)}function Pe(u,f){if(Array.isArray(u)){var p=u.shift();if("PARAMETER"===p&&(p=u.shift()),1===u.length)return Array.isArray(u[0])?(f[p]={},void Pe(u[0],f[p])):void(f[p]=u[0]);if(u.length)if("TOWGS84"!==p){if("AXIS"===p)return p in f||(f[p]=[]),void f[p].push(u);var M;switch(Array.isArray(p)||(f[p]={}),p){case"UNIT":case"PRIMEM":case"VERT_DATUM":return f[p]={name:u[0].toLowerCase(),convert:u[1]},void(3===u.length&&Pe(u[2],f[p]));case"SPHEROID":case"ELLIPSOID":return f[p]={name:u[0],a:u[1],rf:u[2]},void(4===u.length&&Pe(u[3],f[p]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return u[0]=["name",u[0]],void Re(f,p,u);default:for(M=-1;++M<u.length;)if(!Array.isArray(u[M]))return Pe(u,f[p]);return Re(f,p,u)}}else f[p]=u;else f[p]=!0}else f[u]=!0}st.prototype.readCharicter=function(){var u=this.text[this.place++];if(4!==this.state)for(;ia.test(u);){if(this.place>=this.text.length)return;u=this.text[this.place++]}switch(this.state){case Cn:return this.neutral(u);case 2:return this.keyword(u);case 4:return this.quoted(u);case 5:return this.afterquote(u);case 3:return this.number(u);case-1:return}},st.prototype.afterquote=function(u){if('"'===u)return this.word+='"',void(this.state=4);if(Qt.test(u))return this.word=this.word.trim(),void this.afterItem(u);throw new Error("havn't handled \""+u+'" in afterquote yet, index '+this.place)},st.prototype.afterItem=function(u){return","===u?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Cn)):"]"===u?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Cn,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},st.prototype.number=function(u){if(!lt.test(u)){if(Qt.test(u))return this.word=parseFloat(this.word),void this.afterItem(u);throw new Error("havn't handled \""+u+'" in number yet, index '+this.place)}this.word+=u},st.prototype.quoted=function(u){'"'!==u?this.word+=u:this.state=5},st.prototype.keyword=function(u){if(Je.test(u))this.word+=u;else{if("["===u){var f=[];return f.push(this.word),this.level++,null===this.root?this.root=f:this.currentObject.push(f),this.stack.push(this.currentObject),this.currentObject=f,void(this.state=Cn)}if(!Qt.test(u))throw new Error("havn't handled \""+u+'" in keyword yet, index '+this.place);this.afterItem(u)}},st.prototype.neutral=function(u){if(Ke.test(u))return this.word=u,void(this.state=2);if('"'===u)return this.word="",void(this.state=4);if(lt.test(u))return this.word=u,void(this.state=3);if(!Qt.test(u))throw new Error("havn't handled \""+u+'" in neutral yet, index '+this.place);this.afterItem(u)},st.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Yn=.017453292519943295;function En(u){return u*Yn}function Fr(u){var f=$t(u),p=f.shift(),M=f.shift();f.unshift(["name",M]),f.unshift(["type",p]);var v={};return Pe(f,v),function ra(u){if("GEOGCS"===u.type?u.projName="longlat":"LOCAL_CS"===u.type?(u.projName="identity",u.local=!0):u.projName="object"==typeof u.PROJECTION?Object.keys(u.PROJECTION)[0]:u.PROJECTION,u.AXIS){for(var f="",p=0,M=u.AXIS.length;p<M;++p){var v=[u.AXIS[p][0].toLowerCase(),u.AXIS[p][1].toLowerCase()];-1!==v[0].indexOf("north")||("y"===v[0]||"lat"===v[0])&&"north"===v[1]?f+="n":-1!==v[0].indexOf("south")||("y"===v[0]||"lat"===v[0])&&"south"===v[1]?f+="s":-1!==v[0].indexOf("east")||("x"===v[0]||"lon"===v[0])&&"east"===v[1]?f+="e":(-1!==v[0].indexOf("west")||("x"===v[0]||"lon"===v[0])&&"west"===v[1])&&(f+="w")}2===f.length&&(f+="u"),3===f.length&&(u.axis=f)}u.UNIT&&(u.units=u.UNIT.name.toLowerCase(),"metre"===u.units&&(u.units="meter"),u.UNIT.convert&&("GEOGCS"===u.type?u.DATUM&&u.DATUM.SPHEROID&&(u.to_meter=u.UNIT.convert*u.DATUM.SPHEROID.a):u.to_meter=u.UNIT.convert));var b=u.GEOGCS;function I(R){return R*(u.to_meter||1)}"GEOGCS"===u.type&&(b=u),b&&(u.datumCode=b.DATUM?b.DATUM.name.toLowerCase():b.name.toLowerCase(),"d_"===u.datumCode.slice(0,2)&&(u.datumCode=u.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===u.datumCode||"new_zealand_1949"===u.datumCode)&&(u.datumCode="nzgd49"),("wgs_1984"===u.datumCode||"world_geodetic_system_1984"===u.datumCode)&&("Mercator_Auxiliary_Sphere"===u.PROJECTION&&(u.sphere=!0),u.datumCode="wgs84"),"_ferro"===u.datumCode.slice(-6)&&(u.datumCode=u.datumCode.slice(0,-6)),"_jakarta"===u.datumCode.slice(-8)&&(u.datumCode=u.datumCode.slice(0,-8)),~u.datumCode.indexOf("belge")&&(u.datumCode="rnb72"),b.DATUM&&b.DATUM.SPHEROID&&(u.ellps=b.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===u.ellps.toLowerCase().slice(0,13)&&(u.ellps="intl"),u.a=b.DATUM.SPHEROID.a,u.rf=parseFloat(b.DATUM.SPHEROID.rf,10)),b.DATUM&&b.DATUM.TOWGS84&&(u.datum_params=b.DATUM.TOWGS84),~u.datumCode.indexOf("osgb_1936")&&(u.datumCode="osgb36"),~u.datumCode.indexOf("osni_1952")&&(u.datumCode="osni52"),(~u.datumCode.indexOf("tm65")||~u.datumCode.indexOf("geodetic_datum_of_1965"))&&(u.datumCode="ire65"),"ch1903+"===u.datumCode&&(u.datumCode="ch1903"),~u.datumCode.indexOf("israel")&&(u.datumCode="isr93")),u.b&&!isFinite(u.b)&&(u.b=u.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",En],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",En],["x0","false_easting",I],["y0","false_northing",I],["long0","central_meridian",En],["lat0","latitude_of_origin",En],["lat0","standard_parallel_1",En],["lat1","standard_parallel_1",En],["lat2","standard_parallel_2",En],["azimuth","Azimuth"],["alpha","azimuth",En],["srsCode","name"]].forEach(function(R){return function Ml(u,f){var p=f[0],M=f[1];!(p in u)&&M in u&&(u[p]=u[M],3===f.length&&(u[p]=f[2](u[p])))}(u,R)}),!u.long0&&u.longc&&("Albers_Conic_Equal_Area"===u.projName||"Lambert_Azimuthal_Equal_Area"===u.projName)&&(u.long0=u.longc),!u.lat_ts&&u.lat1&&("Stereographic_South_Pole"===u.projName||"Polar Stereographic (variant B)"===u.projName)&&(u.lat0=En(u.lat1>0?90:-90),u.lat_ts=u.lat1)}(v),v}function mn(u){var f=this;if(2===arguments.length){var p=arguments[1];mn[u]="string"==typeof p?"+"===p.charAt(0)?Rt(arguments[1]):Fr(arguments[1]):p}else if(1===arguments.length){if(Array.isArray(u))return u.map(function(M){Array.isArray(M)?mn.apply(f,M):mn(M)});if("string"==typeof u){if(u in mn)return mn[u]}else"EPSG"in u?mn["EPSG:"+u.EPSG]=u:"ESRI"in u?mn["ESRI:"+u.ESRI]=u:"IAU2000"in u?mn["IAU2000:"+u.IAU2000]=u:console.log(u);return}}!function ze(u){u("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),u("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),u("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),u.WGS84=u["EPSG:4326"],u["EPSG:3785"]=u["EPSG:3857"],u.GOOGLE=u["EPSG:3857"],u["EPSG:900913"]=u["EPSG:3857"],u["EPSG:102113"]=u["EPSG:3857"]}(mn);const ao=mn;var Cs=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],zi=["3857","900913","3785","102113"];function uo(u,f){var p,M;if(u=u||{},!f)return u;for(M in f)void 0!==(p=f[M])&&(u[M]=p);return u}function Ln(u,f,p){var M=u*f;return p/Math.sqrt(1-M*M)}function $i(u){return u<0?-1:1}function ce(u){return Math.abs(u)<=dt?u:u-$i(u)*Ci}function on(u,f,p){var M=u*p;return M=Math.pow((1-M)/(1+M),.5*u),Math.tan(.5*(Q-f))/M}function Br(u,f){for(var M,v,p=.5*u,b=Q-2*Math.atan(f),I=0;I<=15;I++)if(M=u*Math.sin(b),b+=v=Q-2*Math.atan(f*Math.pow((1-M)/(1+M),p))-b,Math.abs(v)<=1e-10)return b;return-9999}function Ei(u){return u}var oi=[{init:function Cl(){var u=this.b/this.a;this.es=1-u*u,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):Ln(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function El(u){var M,v,f=u.x,p=u.y;if(p*ht>90&&p*ht<-90&&f*ht>180&&f*ht<-180)return null;if(Math.abs(Math.abs(p)-Q)<=oe)return null;if(this.sphere)M=this.x0+this.a*this.k0*ce(f-this.long0),v=this.y0+this.a*this.k0*Math.log(Math.tan(Ye+.5*p));else{var b=Math.sin(p),I=on(this.e,p,b);M=this.x0+this.a*this.k0*ce(f-this.long0),v=this.y0-this.a*this.k0*Math.log(I)}return u.x=M,u.y=v,u},inverse:function aa(u){var M,v,f=u.x-this.x0,p=u.y-this.y0;if(this.sphere)v=Q-2*Math.atan(Math.exp(-p/(this.a*this.k0)));else{var b=Math.exp(-p/(this.a*this.k0));if(-9999===(v=Br(this.e,b)))return null}return M=ce(this.long0+f/(this.a*this.k0)),u.x=M,u.y=v,u},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function _n(){},forward:Ei,inverse:Ei,names:["longlat","identity"]}],an={},ln=[];function Ts(u,f){var p=ln.length;return u.names?(ln[p]=u,u.names.forEach(function(M){an[M.toLowerCase()]=p}),this):(console.log(f),!0)}const hr={start:function bi(){oi.forEach(Ts)},add:Ts,get:function ai(u){if(!u)return!1;var f=u.toLowerCase();return typeof an[f]<"u"&&ln[an[f]]?ln[an[f]]:void 0}};var xe={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},xs=xe.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};xe.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var kt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};var It={};function bl(u){if(0===u.length)return null;var f="@"===u[0];return f&&(u=u.slice(1)),"null"===u?{name:"null",mandatory:!f,grid:null,isNull:!0}:{name:u,mandatory:!f,grid:It[u]||null,isNull:!1}}function dr(u){return u/3600*Math.PI/180}function po(u,f,p){return String.fromCharCode.apply(null,new Uint8Array(u.buffer.slice(f,p)))}function ua(u){return u.map(function(f){return[dr(f.longitudeShift),dr(f.latitudeShift)]})}function Ls(u,f,p){return{name:po(u,f+8,f+16).trim(),parent:po(u,f+24,f+24+8).trim(),lowerLatitude:u.getFloat64(f+72,p),upperLatitude:u.getFloat64(f+88,p),lowerLongitude:u.getFloat64(f+104,p),upperLongitude:u.getFloat64(f+120,p),latitudeInterval:u.getFloat64(f+136,p),longitudeInterval:u.getFloat64(f+152,p),gridNodeCount:u.getInt32(f+168,p)}}function ca(u,f,p,M){for(var v=f+176,I=[],C=0;C<p.gridNodeCount;C++){var P={latitudeShift:u.getFloat32(v+16*C,M),longitudeShift:u.getFloat32(v+16*C+4,M),latitudeAccuracy:u.getFloat32(v+16*C+8,M),longitudeAccuracy:u.getFloat32(v+16*C+12,M)};I.push(P)}return I}function fr(u,f){if(!(this instanceof fr))return new fr(u);f=f||function(R){if(R)throw R};var p=function Is(u){if(!function sa(u){return"string"==typeof u}(u))return u;if(function Dl(u){return u in ao}(u))return ao[u];if(function lo(u){return Cs.some(function(f){return u.indexOf(f)>-1})}(u)){var f=Fr(u);if(function Es(u){var f=xn(u,"authority");if(f){var p=xn(f,"epsg");return p&&zi.indexOf(p)>-1}}(f))return ao["EPSG:3857"];var p=function oa(u){var f=xn(u,"extension");if(f)return xn(f,"proj4")}(f);return p?Rt(p):f}return function bs(u){return"+"===u[0]}(u)?Rt(u):void 0}(u);if("object"==typeof p){var M=fr.projections.get(p.projName);if(M){if(p.datumCode&&"none"!==p.datumCode){var v=xn(kt,p.datumCode);v&&(p.datum_params=p.datum_params||(v.towgs84?v.towgs84.split(","):null),p.ellps=v.ellipse,p.datumName=v.datumName?v.datumName:p.datumCode)}p.k0=p.k0||1,p.axis=p.axis||"enu",p.ellps=p.ellps||"wgs84",p.lat1=p.lat1||p.lat0;var b=function Xn(u,f,p,M,v){if(!u){var b=xn(xe,M);b||(b=xs),u=b.a,f=b.b,p=b.rf}return p&&!f&&(f=(1-1/p)*u),(0===p||Math.abs(u-f)<oe)&&(v=!0,f=u),{a:u,b:f,rf:p,sphere:v}}(p.a,p.b,p.rf,p.ellps,p.sphere),I=function jr(u,f,p,M){var v=u*u,b=f*f,I=(v-b)/v,C=0;return M?(v=(u*=1-I*(.16666666666666666+I*(.04722222222222222+.022156084656084655*I)))*u,I=0):C=Math.sqrt(I),{es:I,e:C,ep2:(v-b)/b}}(b.a,b.b,0,p.R_A),C=function Kt(u){return void 0===u?null:u.split(",").map(bl)}(p.nadgrids),P=p.datum||function Pn(u,f,p,M,v,b,I){var C={};return C.datum_type=void 0===u||"none"===u?O:4,f&&(C.datum_params=f.map(parseFloat),(0!==C.datum_params[0]||0!==C.datum_params[1]||0!==C.datum_params[2])&&(C.datum_type=_),C.datum_params.length>3&&(0!==C.datum_params[3]||0!==C.datum_params[4]||0!==C.datum_params[5]||0!==C.datum_params[6])&&(C.datum_type=D,C.datum_params[3]*=De,C.datum_params[4]*=De,C.datum_params[5]*=De,C.datum_params[6]=C.datum_params[6]/1e6+1)),I&&(C.datum_type=T,C.grids=I),C.a=p,C.b=M,C.es=v,C.ep2=b,C}(p.datumCode,p.datum_params,b.a,b.b,I.es,I.ep2,C);uo(this,p),uo(this,M),this.a=b.a,this.b=b.b,this.rf=b.rf,this.sphere=b.sphere,this.es=I.es,this.e=I.e,this.ep2=I.ep2,this.datum=P,this.init(),f(null,this)}else f(u)}else f(u)}(fr.projections=hr).start();const Si=fr;function Gi(u,f,p){var I,C,R,M=u.x,v=u.y,b=u.z?u.z:0;if(v<-Q&&v>-1.001*Q)v=-Q;else if(v>Q&&v<1.001*Q)v=Q;else{if(v<-Q)return{x:-1/0,y:-1/0,z:u.z};if(v>Q)return{x:1/0,y:1/0,z:u.z}}return M>Math.PI&&(M-=2*Math.PI),C=Math.sin(v),R=Math.cos(v),{x:((I=p/Math.sqrt(1-f*(C*C)))+b)*R*Math.cos(M),y:(I+b)*R*Math.sin(M),z:(I*(1-f)+b)*C}}function go(u,f,p,M){var C,P,R,H,k,q,ee,U,ie,re,ve,Oe,Ze,gn,Ri,it=u.x,He=u.y,rt=u.z?u.z:0;if(C=Math.sqrt(it*it+He*He),P=Math.sqrt(it*it+He*He+rt*rt),C/p<1e-12){if(gn=0,P/p<1e-12)return Ri=-M,{x:u.x,y:u.y,z:u.z}}else gn=Math.atan2(He,it);R=rt/P,U=(H=C/P)*(1-f)*(k=1/Math.sqrt(1-f*(2-f)*H*H)),ie=R*k,Ze=0;do{Ze++,q=f*(ee=p/Math.sqrt(1-f*ie*ie))/(ee+(Ri=C*U+rt*ie-ee*(1-f*ie*ie))),Oe=(ve=R*(k=1/Math.sqrt(1-q*(2-q)*H*H)))*U-(re=H*(1-q)*k)*ie,U=re,ie=ve}while(Oe*Oe>1e-24&&Ze<30);return{x:gn,y:Math.atan(ve/Math.abs(re)),z:Ri}}function ut(u){return u===_||u===D}function Ce(u,f,p){if(null===u.grids||0===u.grids.length)return console.log("Grid shift grids not found"),-1;for(var M={x:-p.x,y:p.y},v={x:Number.NaN,y:Number.NaN},I=[],C=0;C<u.grids.length;C++){var P=u.grids[C];if(I.push(P.name),P.isNull){v=M;break}if(null!==P.grid){var R=P.grid.subgrids[0],H=(Math.abs(R.del[1])+Math.abs(R.del[0]))/1e4;if(!(R.ll[1]-H>M.y||R.ll[0]-H>M.x||R.ll[1]+(R.lim[1]-1)*R.del[1]+H<M.y||R.ll[0]+(R.lim[0]-1)*R.del[0]+H<M.x||(v=An(M,f,R),isNaN(v.x))))break}else if(P.mandatory)return console.log("Unable to find mandatory grid '"+P.name+"'"),-1}return isNaN(v.x)?(console.log("Failed to find a grid shift table for location '"+-M.x*ht+" "+M.y*ht+" tried: '"+I+"'"),-1):(p.x=-v.x,p.y=v.y,0)}function An(u,f,p){var M={x:Number.NaN,y:Number.NaN};if(isNaN(u.x))return M;var v={x:u.x,y:u.y};v.x-=p.ll[0],v.y-=p.ll[1],v.x=ce(v.x-Math.PI)+Math.PI;var b=Xe(v,p);if(f){if(isNaN(b.x))return M;b.x=v.x-b.x,b.y=v.y-b.y;var P,R,I=9;do{if(R=Xe(b,p),isNaN(R.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}b.x+=(P={x:v.x-(R.x+b.x),y:v.y-(R.y+b.y)}).x,b.y+=P.y}while(I--&&Math.abs(P.x)>1e-12&&Math.abs(P.y)>1e-12);if(I<0)return console.log("Inverse grid shift iterator failed to converge."),M;M.x=ce(b.x+p.ll[0]),M.y=b.y+p.ll[1]}else isNaN(b.x)||(M.x=u.x+b.x,M.y=u.y+b.y);return M}function Xe(u,f){var I,p={x:u.x/f.del[0],y:u.y/f.del[1]},M_x=Math.floor(p.x),M_y=Math.floor(p.y),v_x=p.x-1*M_x,v_y=p.y-1*M_y,b={x:Number.NaN,y:Number.NaN};if(M_x<0||M_x>=f.lim[0]||M_y<0||M_y>=f.lim[1])return b;var C_x=f.cvs[I=M_y*f.lim[0]+M_x][0],C_y=f.cvs[I][1];I++;var P_x=f.cvs[I][0],P_y=f.cvs[I][1],R_x=f.cvs[I+=f.lim[0]][0],R_y=f.cvs[I][1];I--;var H_y=f.cvs[I][1],k=v_x*v_y,q=v_x*(1-v_y),ee=(1-v_x)*(1-v_y),U=(1-v_x)*v_y;return b.x=ee*C_x+q*P_x+U*f.cvs[I][0]+k*R_x,b.y=ee*C_y+q*P_y+U*H_y+k*R_y,b}function ct(u,f,p){var I,C,P,M=p.x,v=p.y,b=p.z||0,R={};for(P=0;P<3;P++)if(!f||2!==P||void 0!==p.z)switch(0===P?(I=M,C=-1!=="ew".indexOf(u.axis[P])?"x":"y"):1===P?(I=v,C=-1!=="ns".indexOf(u.axis[P])?"y":"x"):(I=b,C="z"),u.axis[P]){case"e":case"n":R[C]=I;break;case"w":case"s":R[C]=-I;break;case"u":void 0!==p[C]&&(R.z=I);break;case"d":void 0!==p[C]&&(R.z=-I);break;default:return null}return R}function Jt(u){var f={x:u[0],y:u[1]};return u.length>2&&(f.z=u[2]),u.length>3&&(f.m=u[3]),f}function qi(u){if("function"==typeof Number.isFinite){if(Number.isFinite(u))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof u||u!=u||!isFinite(u))throw new TypeError("coordinates must be finite numbers")}function Ee(u,f,p,M){var v;if(Array.isArray(p)&&(p=Jt(p)),function pr(u){qi(u.x),qi(u.y)}(p),u.datum&&f.datum&&function et(u,f){return(u.datum.datum_type===_||u.datum.datum_type===D)&&"WGS84"!==f.datumCode||(f.datum.datum_type===_||f.datum.datum_type===D)&&"WGS84"!==u.datumCode}(u,f)&&(p=Ee(u,v=new Si("WGS84"),p,M),u=v),M&&"enu"!==u.axis&&(p=ct(u,!1,p)),"longlat"===u.projName)p={x:p.x*bt,y:p.y*bt,z:p.z||0};else if(u.to_meter&&(p={x:p.x*u.to_meter,y:p.y*u.to_meter,z:p.z||0}),!(p=u.inverse(p)))return;if(u.from_greenwich&&(p.x+=u.from_greenwich),p=function ha(u,f,p){if(function Ps(u,f){return!(u.datum_type!==f.datum_type||u.a!==f.a||Math.abs(u.es-f.es)>5e-11)&&(u.datum_type===_?u.datum_params[0]===f.datum_params[0]&&u.datum_params[1]===f.datum_params[1]&&u.datum_params[2]===f.datum_params[2]:u.datum_type!==D||u.datum_params[0]===f.datum_params[0]&&u.datum_params[1]===f.datum_params[1]&&u.datum_params[2]===f.datum_params[2]&&u.datum_params[3]===f.datum_params[3]&&u.datum_params[4]===f.datum_params[4]&&u.datum_params[5]===f.datum_params[5]&&u.datum_params[6]===f.datum_params[6])}(u,f)||u.datum_type===O||f.datum_type===O)return p;var M=u.a,v=u.es;if(u.datum_type===T){if(0!==Ce(u,!1,p))return;M=G,v=te}var I=f.a,C=f.b,P=f.es;return f.datum_type===T&&(I=G,C=W,P=te),v!==P||M!==I||ut(u.datum_type)||ut(f.datum_type)?(p=Gi(p,v,M),ut(u.datum_type)&&(p=function Sl(u,f,p){if(f===_)return{x:u.x+p[0],y:u.y+p[1],z:u.z+p[2]};if(f===D){var I=p[3],C=p[4],P=p[5],R=p[6];return{x:R*(u.x-P*u.y+C*u.z)+p[0],y:R*(P*u.x+u.y-I*u.z)+p[1],z:R*(-C*u.x+I*u.y+u.z)+p[2]}}}(p,u.datum_type,u.datum_params)),ut(f.datum_type)&&(p=function mo(u,f,p){if(f===_)return{x:u.x-p[0],y:u.y-p[1],z:u.z-p[2]};if(f===D){var I=p[3],C=p[4],P=p[5],R=p[6],H=(u.x-p[0])/R,k=(u.y-p[1])/R,q=(u.z-p[2])/R;return{x:H+P*k-C*q,y:-P*H+k+I*q,z:C*H-I*k+q}}}(p,f.datum_type,f.datum_params)),p=go(p,P,I,C),f.datum_type!==T||0===Ce(f,!0,p)?p:void 0):p}(u.datum,f.datum,p))return f.from_greenwich&&(p={x:p.x-f.from_greenwich,y:p.y,z:p.z||0}),"longlat"===f.projName?p={x:p.x*ht,y:p.y*ht,z:p.z||0}:(p=f.forward(p),f.to_meter&&(p={x:p.x/f.to_meter,y:p.y/f.to_meter,z:p.z||0})),M&&"enu"!==f.axis?ct(f,!0,p):p}var Ae=Si("WGS84");function Zi(u,f,p,M){var v,b,I;return Array.isArray(p)?(v=Ee(u,f,p,M)||{x:NaN,y:NaN},p.length>2?typeof u.name<"u"&&"geocent"===u.name||typeof f.name<"u"&&"geocent"===f.name?"number"==typeof v.z?[v.x,v.y,v.z].concat(p.splice(3)):[v.x,v.y,p[2]].concat(p.splice(3)):[v.x,v.y].concat(p.splice(2)):[v.x,v.y]):(b=Ee(u,f,p,M),2===(I=Object.keys(p)).length||I.forEach(function(C){if(typeof u.name<"u"&&"geocent"===u.name||typeof f.name<"u"&&"geocent"===f.name){if("x"===C||"y"===C||"z"===C)return}else if("x"===C||"y"===C)return;b[C]=p[C]}),b)}function Ur(u){return u instanceof Si?u:u.oProj?u.oProj:Si(u)}const de=function un(u,f,p){u=Ur(u);var v,M=!1;return typeof f>"u"?(f=u,u=Ae,M=!0):(typeof f.x<"u"||Array.isArray(f))&&(p=f,f=u,u=Ae,M=!0),f=Ur(f),p?Zi(u,f,p):(v={forward:function(b,I){return Zi(u,f,b,I)},inverse:function(b,I){return Zi(f,u,b,I)}},M&&(v.oProj=f),v)};var Wi=6,Qn="AJSAJS",St="AFAFAF",cn=65,J=73,Lt=79,Me=86,Fe=90;const _o={forward:vo,inverse:function As(u){var f=Rs(ks(u.toUpperCase()));return f.lat&&f.lon?[f.lon,f.lat,f.lon,f.lat]:[f.left,f.bottom,f.right,f.top]},toPoint:gr};function vo(u,f){return f=f||5,function $e(u,f){var p="00000"+u.easting,M="00000"+u.northing;return u.zoneNumber+u.zoneLetter+function Kn(u,f,p){var M=Ct(p);return function Tl(u,f,p){var M=p-1,v=Qn.charCodeAt(M),b=St.charCodeAt(M),I=v+u-1,C=b+f,P=!1;return I>Fe&&(I=I-Fe+cn-1,P=!0),(I===J||v<J&&I>J||(I>J||v<J)&&P)&&I++,(I===Lt||v<Lt&&I>Lt||(I>Lt||v<Lt)&&P)&&++I===J&&I++,I>Fe&&(I=I-Fe+cn-1),C>Me?(C=C-Me+cn-1,P=!0):P=!1,(C===J||b<J&&C>J||(C>J||b<J)&&P)&&C++,(C===Lt||b<Lt&&C>Lt||(C>Lt||b<Lt)&&P)&&++C===J&&C++,C>Me&&(C=C-Me+cn-1),String.fromCharCode(I)+String.fromCharCode(C)}(Math.floor(u/1e5),Math.floor(f/1e5)%20,M)}(u.easting,u.northing,u.zoneNumber)+p.substr(p.length-5,f)+M.substr(M.length-5,f)}(function da(u){var C,P,R,H,k,ie,re,f=u.lat,p=u.lon,M=6378137,v=.00669438,b=.9996,ee=jt(f),U=jt(p);re=Math.floor((p+180)/6)+1,180===p&&(re=60),f>=56&&f<64&&p>=3&&p<12&&(re=32),f>=72&&f<84&&(p>=0&&p<9?re=31:p>=9&&p<21?re=33:p>=21&&p<33?re=35:p>=33&&p<42&&(re=37)),ie=jt(6*(re-1)-180+3),C=v/(1-v),P=M/Math.sqrt(1-v*Math.sin(ee)*Math.sin(ee)),R=Math.tan(ee)*Math.tan(ee),H=C*Math.cos(ee)*Math.cos(ee);var ve=b*P*((k=Math.cos(ee)*(U-ie))+(1-R+H)*k*k*k/6+(5-18*R+R*R+72*H-58*C)*k*k*k*k*k/120)+5e5,Oe=b*(M*(.9983242984503243*ee-.002514607064228144*Math.sin(2*ee)+2639046602129982e-21*Math.sin(4*ee)-35*v*v*v/3072*Math.sin(6*ee))+P*Math.tan(ee)*(k*k/2+(5-R+9*H+4*H*H)*k*k*k*k/24+(61-58*R+R*R+600*H-330*C)*k*k*k*k*k*k/720));return f<0&&(Oe+=1e7),{northing:Math.round(Oe),easting:Math.round(ve),zoneNumber:re,zoneLetter:Yi(f)}}({lat:u[1],lon:u[0]}),f)}function gr(u){var f=Rs(ks(u.toUpperCase()));return f.lat&&f.lon?[f.lon,f.lat]:[(f.left+f.right)/2,(f.top+f.bottom)/2]}function jt(u){return u*(Math.PI/180)}function Ns(u){return u/Math.PI*180}function Rs(u){var f=u.northing,p=u.easting,M=u.zoneLetter,v=u.zoneNumber;if(v<0||v>60)return null;var P,H,k,q,ee,U,re,ve,Oe,b=.9996,I=6378137,C=.00669438,R=(1-Math.sqrt(1-C))/(1+Math.sqrt(1-C)),Ze=p-5e5,it=f;M<"N"&&(it-=1e7),re=6*(v-1)-180+3,P=C/(1-C),Oe=(ve=it/b/6367449.145945056)+(3*R/2-27*R*R*R/32)*Math.sin(2*ve)+(21*R*R/16-55*R*R*R*R/32)*Math.sin(4*ve)+151*R*R*R/96*Math.sin(6*ve),H=I/Math.sqrt(1-C*Math.sin(Oe)*Math.sin(Oe)),k=Math.tan(Oe)*Math.tan(Oe),q=P*Math.cos(Oe)*Math.cos(Oe),ee=I*(1-C)/Math.pow(1-C*Math.sin(Oe)*Math.sin(Oe),1.5),U=Ze/(H*b);var He=Oe-H*Math.tan(Oe)/ee*(U*U/2-(5+3*k+10*q-4*q*q-9*P)*U*U*U*U/24+(61+90*k+298*q+45*k*k-252*P-3*q*q)*U*U*U*U*U*U/720);He=Ns(He);var gn,rt=(U-(1+2*k+q)*U*U*U/6+(5-2*q+28*k-3*q*q+8*P+24*k*k)*U*U*U*U*U/120)/Math.cos(Oe);if(rt=re+Ns(rt),u.accuracy){var xt=Rs({northing:u.northing+u.accuracy,easting:u.easting+u.accuracy,zoneLetter:u.zoneLetter,zoneNumber:u.zoneNumber});gn={top:xt.lat,right:xt.lon,bottom:He,left:rt}}else gn={lat:He,lon:rt};return gn}function Yi(u){var f="Z";return 84>=u&&u>=72?f="X":72>u&&u>=64?f="W":64>u&&u>=56?f="V":56>u&&u>=48?f="U":48>u&&u>=40?f="T":40>u&&u>=32?f="S":32>u&&u>=24?f="R":24>u&&u>=16?f="Q":16>u&&u>=8?f="P":8>u&&u>=0?f="N":0>u&&u>=-8?f="M":-8>u&&u>=-16?f="L":-16>u&&u>=-24?f="K":-24>u&&u>=-32?f="J":-32>u&&u>=-40?f="H":-40>u&&u>=-48?f="G":-48>u&&u>=-56?f="F":-56>u&&u>=-64?f="E":-64>u&&u>=-72?f="D":-72>u&&u>=-80&&(f="C"),f}function Ct(u){var f=u%Wi;return 0===f&&(f=Wi),f}function ks(u){if(u&&0===u.length)throw"MGRSPoint coverting from nothing";for(var v,f=u.length,p=null,M="",b=0;!/[A-Z]/.test(v=u.charAt(b));){if(b>=2)throw"MGRSPoint bad conversion from: "+u;M+=v,b++}var I=parseInt(M,10);if(0===b||b+3>f)throw"MGRSPoint bad conversion from: "+u;var C=u.charAt(b++);if(C<="A"||"B"===C||"Y"===C||C>="Z"||"I"===C||"O"===C)throw"MGRSPoint zone letter "+C+" not handled: "+u;p=u.substring(b,b+=2);for(var P=Ct(I),R=function yo(u,f){for(var p=Qn.charCodeAt(f-1),M=1e5,v=!1;p!==u.charCodeAt(0);){if(++p===J&&p++,p===Lt&&p++,p>Fe){if(v)throw"Bad character: "+u;p=cn,v=!0}M+=1e5}return M}(p.charAt(0),P),H=function wo(u,f){if(u>"V")throw"MGRSPoint given invalid Northing "+u;for(var p=St.charCodeAt(f-1),M=0,v=!1;p!==u.charCodeAt(0);){if(++p===J&&p++,p===Lt&&p++,p>Me){if(v)throw"Bad character: "+u;p=cn,v=!0}M+=1e5}return M}(p.charAt(1),P);H<mr(C);)H+=2e6;var k=f-b;if(k%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+u;var ie,re,ve,q=k/2,ee=0,U=0;return q>0&&(ie=1e5/Math.pow(10,q),re=u.substring(b,b+q),ee=parseFloat(re)*ie,ve=u.substring(b+q),U=parseFloat(ve)*ie),{easting:ee+R,northing:U+H,zoneLetter:C,zoneNumber:I,accuracy:ie}}function mr(u){var f;switch(u){case"C":f=11e5;break;case"D":f=2e6;break;case"E":f=28e5;break;case"F":f=37e5;break;case"G":f=46e5;break;case"H":f=55e5;break;case"J":f=64e5;break;case"K":f=73e5;break;case"L":f=82e5;break;case"M":f=91e5;break;case"N":f=0;break;case"P":f=8e5;break;case"Q":f=17e5;break;case"R":f=26e5;break;case"S":f=35e5;break;case"T":f=44e5;break;case"U":f=53e5;break;case"V":f=62e5;break;case"W":f=7e6;break;case"X":f=79e5;break;default:f=-1}if(f>=0)return f;throw"Invalid zone letter: "+u}function Pt(u,f,p){if(!(this instanceof Pt))return new Pt(u,f,p);if(Array.isArray(u))this.x=u[0],this.y=u[1],this.z=u[2]||0;else if("object"==typeof u)this.x=u.x,this.y=u.y,this.z=u.z||0;else if("string"==typeof u&&typeof f>"u"){var M=u.split(",");this.x=parseFloat(M[0],10),this.y=parseFloat(M[1],10),this.z=parseFloat(M[2],10)||0}else this.x=u,this.y=f,this.z=p||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Pt.fromMGRS=function(u){return new Pt(gr(u))},Pt.prototype.toMGRS=function(u){return vo([this.x,this.y],u)};const ye=Pt;var _e=.01953125,pa=.01068115234375;function Os(u){var f=[];f[0]=1-u*(.25+u*(.046875+u*(_e+u*pa))),f[1]=u*(.75-u*(.046875+u*(_e+u*pa)));var p=u*u;return f[2]=p*(.46875-u*(.013020833333333334+.007120768229166667*u)),f[3]=(p*=u)*(.3645833333333333-.005696614583333333*u),f[4]=p*u*.3076171875,f}function en(u,f,p,M){return M[0]*u-(p*=f)*(M[1]+(f*=f)*(M[2]+f*(M[3]+f*M[4])))}function Ne(u,f,p){for(var M=1/(1-f),v=u,b=20;b;--b){var I=Math.sin(v),C=1-f*I*I;if(v-=C=(en(v,I,Math.cos(v),p)-u)*(C*Math.sqrt(C))*M,Math.abs(C)<oe)return v}return v}const Eo={init:function Do(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Os(this.es),this.ml0=en(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function Fs(u){var v,b,I,p=u.y,M=ce(u.x-this.long0),C=Math.sin(p),P=Math.cos(p);if(this.es){var H=P*M,k=Math.pow(H,2),q=this.ep2*Math.pow(P,2),ee=Math.pow(q,2),U=Math.abs(P)>oe?Math.tan(p):0,ie=Math.pow(U,2),re=Math.pow(ie,2);v=1-this.es*Math.pow(C,2),H/=Math.sqrt(v);var ve=en(p,C,P,this.en);b=this.a*(this.k0*H*(1+k/6*(1-ie+q+k/20*(5-18*ie+re+14*q-58*ie*q+k/42*(61+179*re-re*ie-479*ie)))))+this.x0,I=this.a*(this.k0*(ve-this.ml0+C*M*H/2*(1+k/12*(5-ie+9*q+4*ee+k/30*(61+re-58*ie+270*q-330*ie*q+k/56*(1385+543*re-re*ie-3111*ie))))))+this.y0}else{var R=P*Math.sin(M);if(Math.abs(Math.abs(R)-1)<oe)return 93;if(b=.5*this.a*this.k0*Math.log((1+R)/(1-R))+this.x0,I=P*Math.cos(M)/Math.sqrt(1-Math.pow(R,2)),(R=Math.abs(I))>=1){if(R-1>oe)return 93;I=0}else I=Math.acos(I);p<0&&(I=-I),I=this.a*this.k0*(I-this.lat0)+this.y0}return u.x=b,u.y=I,u},inverse:function hn(u){var f,p,M,v,b=1/this.a*(u.x-this.x0),I=1/this.a*(u.y-this.y0);if(this.es)if(p=Ne(f=this.ml0+I/this.k0,this.es,this.en),Math.abs(p)<Q){var k=Math.sin(p),q=Math.cos(p),ee=Math.abs(q)>oe?Math.tan(p):0,U=this.ep2*Math.pow(q,2),ie=Math.pow(U,2),re=Math.pow(ee,2),ve=Math.pow(re,2);f=1-this.es*Math.pow(k,2);var Oe=b*Math.sqrt(f)/this.k0,Ze=Math.pow(Oe,2);M=p-(f*=ee)*Ze/(1-this.es)*.5*(1-Ze/12*(5+3*re-9*U*re+U-4*ie-Ze/30*(61+90*re-252*U*re+45*ve+46*U-Ze/56*(1385+3633*re+4095*ve+1574*ve*re)))),v=ce(this.long0+Oe*(1-Ze/6*(1+2*re+U-Ze/20*(5+28*re+24*ve+8*U*re+6*U-Ze/42*(61+662*re+1320*ve+720*ve*re))))/q)}else M=Q*$i(I),v=0;else{var C=Math.exp(b/this.k0),P=.5*(C-1/C),H=Math.cos(this.lat0+I/this.k0);f=Math.sqrt((1-Math.pow(H,2))/(1+Math.pow(P,2))),M=Math.asin(f),I<0&&(M=-M),v=0===P&&0===H?0:ce(Math.atan2(P,H)+this.long0)}return u.x=v,u.y=M,u},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function tt(u){var f=Math.exp(u);return(f-1/f)/2}function bo(u,f){u=Math.abs(u),f=Math.abs(f);var p=Math.max(u,f),M=Math.min(u,f)/(p||1);return p*Math.sqrt(1+Math.pow(M,2))}function vr(u,f){for(var I,p=2*Math.cos(2*f),M=u.length-1,v=u[M],b=0;--M>=0;)I=p*v-b+u[M],b=v,v=I;return f+I*Math.sin(2*f)}function xi(u,f,p){for(var U,ie,M=Math.sin(f),v=Math.cos(f),b=tt(p),I=function Gr(u){var f=Math.exp(u);return(f+1/f)/2}(p),C=2*v*I,P=-2*M*b,R=u.length-1,H=u[R],k=0,q=0,ee=0;--R>=0;)U=q,ie=k,H=C*(q=H)-U-P*(k=ee)+u[R],ee=P*q-ie+C*k;return[(C=M*I)*H-(P=v*b)*ee,C*ee+P*H]}const qr={init:function Bs(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Eo.init.apply(this),this.forward=Eo.forward,this.inverse=Eo.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var u=this.es/(1+Math.sqrt(1-this.es)),f=u/(2-u),p=f;this.cgb[0]=f*(2+f*(-2/3+f*(f*(116/45+f*(26/45+f*(-2854/675)))-2))),this.cbg[0]=f*(f*(2/3+f*(4/3+f*(-82/45+f*(32/45+f*(4642/4725)))))-2),this.cgb[1]=(p*=f)*(7/3+f*(f*(-227/45+f*(2704/315+f*(2323/945)))-1.6)),this.cbg[1]=p*(5/3+f*(-16/15+f*(-13/9+f*(904/315+f*(-1522/945))))),this.cgb[2]=(p*=f)*(56/15+f*(-136/35+f*(-1262/105+f*(73814/2835)))),this.cbg[2]=p*(-26/15+f*(34/21+f*(1.6+f*(-12686/2835)))),this.cgb[3]=(p*=f)*(4279/630+f*(-332/35+f*(-399572/14175))),this.cbg[3]=p*(1237/630+f*(f*(-24832/14175)-2.4)),this.cgb[4]=(p*=f)*(4174/315+f*(-144838/6237)),this.cbg[4]=p*(-734/315+f*(109598/31185)),this.cgb[5]=(p*=f)*(601676/22275),this.cbg[5]=p*(444337/155925),p=Math.pow(f,2),this.Qn=this.k0/(1+f)*(1+p*(1/4+p*(1/64+p/256))),this.utg[0]=f*(f*(2/3+f*(-37/96+f*(1/360+f*(81/512+f*(-96199/604800)))))-.5),this.gtu[0]=f*(.5+f*(-2/3+f*(5/16+f*(41/180+f*(-127/288+f*(7891/37800)))))),this.utg[1]=p*(-1/48+f*(-1/15+f*(437/1440+f*(-46/105+f*(1118711/3870720))))),this.gtu[1]=p*(13/48+f*(f*(557/1440+f*(281/630+f*(-1983433/1935360)))-.6)),this.utg[2]=(p*=f)*(-17/480+f*(37/840+f*(209/4480+f*(-5569/90720)))),this.gtu[2]=p*(61/240+f*(-103/140+f*(15061/26880+f*(167603/181440)))),this.utg[3]=(p*=f)*(-4397/161280+f*(11/504+f*(830251/7257600))),this.gtu[3]=p*(49561/161280+f*(-179/168+f*(6601661/7257600))),this.utg[4]=(p*=f)*(-4583/161280+f*(108847/3991680)),this.gtu[4]=p*(34729/80640+f*(-3418889/1995840)),this.utg[5]=(p*=f)*(-20648693/638668800),this.gtu[5]=.6650675310896665*p;var M=vr(this.cbg,this.lat0);this.Zb=-this.Qn*(M+function So(u,f){for(var I,p=2*Math.cos(f),M=u.length-1,v=u[M],b=0;--M>=0;)I=p*v-b+u[M],b=v,v=I;return Math.sin(f)*I}(this.gtu,2*M))},forward:function Ll(u){var f=ce(u.x-this.long0),p=u.y;p=vr(this.cbg,p);var M=Math.sin(p),v=Math.cos(p),b=Math.sin(f),I=Math.cos(f);p=Math.atan2(M,I*v),f=Math.atan2(b*v,bo(M,v*I)),f=function Io(u){var f=Math.abs(u);return f=function li(u){var f=1+u,p=f-1;return 0===p?u:u*Math.log(f)/p}(f*(1+f/(bo(1,f)+1))),u<0?-f:f}(Math.tan(f));var P,R,C=xi(this.gtu,2*p,2*f);return p+=C[0],f+=C[1],Math.abs(f)<=2.623395162778?(P=this.a*(this.Qn*f)+this.x0,R=this.a*(this.Qn*p+this.Zb)+this.y0):(P=1/0,R=1/0),u.x=P,u.y=R,u},inverse:function Ku(u){var M,v,f=1/this.a*(u.x-this.x0),p=1/this.a*(u.y-this.y0);if(p=(p-this.Zb)/this.Qn,f/=this.Qn,Math.abs(f)<=2.623395162778){var b=xi(this.utg,2*p,2*f);p+=b[0],f+=b[1],f=Math.atan(tt(f));var I=Math.sin(p),C=Math.cos(p),P=Math.sin(f),R=Math.cos(f);p=Math.atan2(I*R,bo(P,R*C)),M=ce((f=Math.atan2(P,R*C))+this.long0),v=vr(this.cgb,p)}else M=1/0,v=1/0;return u.x=M,u.y=v,u},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},Qi={init:function js(){var u=function ec(u,f){if(void 0===u){if((u=Math.floor(30*(ce(f)+Math.PI)/Math.PI)+1)<0)return 0;if(u>60)return 60}return u}(this.zone,this.long0);if(void 0===u)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(u)-183)*bt,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,qr.init.apply(this),this.forward=qr.forward,this.inverse=qr.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function To(u,f){return Math.pow((1-u)/(1+u),f)}const xo={init:function Jn(){var u=Math.sin(this.lat0),f=Math.cos(this.lat0);f*=f,this.rc=Math.sqrt(1-this.es)/(1-this.es*u*u),this.C=Math.sqrt(1+this.es*f*f/(1-this.es)),this.phic0=Math.asin(u/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Ye)/(Math.pow(Math.tan(.5*this.lat0+Ye),this.C)*To(this.e*u,this.ratexp))},forward:function Ki(u){var f=u.x,p=u.y;return u.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*p+Ye),this.C)*To(this.e*Math.sin(p),this.ratexp))-Q,u.x=this.C*f,u},inverse:function Pl(u){for(var p=u.x/this.C,M=u.y,v=Math.pow(Math.tan(.5*M+Ye)/this.K,1/this.C),b=20;b>0&&(M=2*Math.atan(v*To(this.e*Math.sin(u.y),-.5*this.e))-Q,!(Math.abs(M-u.y)<1e-14));--b)u.y=M;return b?(u.x=p,u.y=M,u):null},names:["gauss"]},zs={init:function fe(){xo.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function Hs(u){var f,p,M,v;return u.x=ce(u.x-this.long0),xo.forward.apply(this,[u]),f=Math.sin(u.y),p=Math.cos(u.y),M=Math.cos(u.x),u.x=(v=this.k0*this.R2/(1+this.sinc0*f+this.cosc0*p*M))*p*Math.sin(u.x),u.y=v*(this.cosc0*f-this.sinc0*p*M),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function le(u){var f,p,M,v,b;if(u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,u.x/=this.k0,u.y/=this.k0,b=Math.sqrt(u.x*u.x+u.y*u.y)){var I=2*Math.atan2(b,this.R2);f=Math.sin(I),p=Math.cos(I),v=Math.asin(p*this.sinc0+u.y*f*this.cosc0/b),M=Math.atan2(u.x*f,b*this.cosc0*p-u.y*this.sinc0*f)}else v=this.phic0,M=0;return u.x=M,u.y=v,xo.inverse.apply(this,[u]),u.x=ce(u.x+this.long0),u},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Vs={init:function kn(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=oe&&(this.k0=.5*(1+$i(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=oe&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=oe&&(this.k0=.5*this.cons*Ln(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/on(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ln(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Q,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function wr(u){var b,I,C,P,R,H,f=u.x,p=u.y,M=Math.sin(p),v=Math.cos(p),k=ce(f-this.long0);return Math.abs(Math.abs(f-this.long0)-Math.PI)<=oe&&Math.abs(p+this.lat0)<=oe?(u.x=NaN,u.y=NaN,u):this.sphere?(b=2*this.k0/(1+this.sinlat0*M+this.coslat0*v*Math.cos(k)),u.x=this.a*b*v*Math.sin(k)+this.x0,u.y=this.a*b*(this.coslat0*M-this.sinlat0*v*Math.cos(k))+this.y0,u):(I=2*Math.atan(this.ssfn_(p,M,this.e))-Q,P=Math.cos(I),C=Math.sin(I),Math.abs(this.coslat0)<=oe?(R=on(this.e,p*this.con,this.con*M),u.x=this.x0+(H=2*this.a*this.k0*R/this.cons)*Math.sin(f-this.long0),u.y=this.y0-this.con*H*Math.cos(f-this.long0),u):(Math.abs(this.sinlat0)<oe?(b=2*this.a*this.k0/(1+P*Math.cos(k)),u.y=b*C):(b=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*C+this.cosX0*P*Math.cos(k))),u.y=b*(this.cosX0*C-this.sinX0*P*Math.cos(k))+this.y0),u.x=b*P*Math.sin(k)+this.x0,u))},inverse:function Al(u){u.x-=this.x0,u.y-=this.y0;var f,p,v,b,I=Math.sqrt(u.x*u.x+u.y*u.y);if(this.sphere){var C=2*Math.atan(I/(2*this.a*this.k0));return f=this.long0,p=this.lat0,I<=oe?(u.x=f,u.y=p,u):(p=Math.asin(Math.cos(C)*this.sinlat0+u.y*Math.sin(C)*this.coslat0/I),f=Math.abs(this.coslat0)<oe?ce(this.lat0>0?this.long0+Math.atan2(u.x,-1*u.y):this.long0+Math.atan2(u.x,u.y)):ce(this.long0+Math.atan2(u.x*Math.sin(C),I*this.coslat0*Math.cos(C)-u.y*this.sinlat0*Math.sin(C))),u.x=f,u.y=p,u)}if(Math.abs(this.coslat0)<=oe){if(I<=oe)return p=this.lat0,u.x=f=this.long0,u.y=p,u;u.x*=this.con,u.y*=this.con,p=this.con*Br(this.e,I*this.cons/(2*this.a*this.k0)),f=this.con*ce(this.con*this.long0+Math.atan2(u.x,-1*u.y))}else v=2*Math.atan(I*this.cosX0/(2*this.a*this.k0*this.ms1)),f=this.long0,I<=oe?b=this.X0:(b=Math.asin(Math.cos(v)*this.sinX0+u.y*Math.sin(v)*this.cosX0/I),f=ce(this.long0+Math.atan2(u.x*Math.sin(v),I*this.cosX0*Math.cos(v)-u.y*this.sinX0*Math.sin(v)))),p=-1*Br(this.e,Math.tan(.5*(Q+b)));return u.x=f,u.y=p,u},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function Wr(u,f,p){return f*=p,Math.tan(.5*(Q+u))*Math.pow((1-f)/(1+f),.5*p)}},Mr={init:function Gt(){var u=this.lat0;this.lambda0=this.long0;var f=Math.sin(u),p=this.a,v=1/this.rf,b=2*v-Math.pow(v,2),I=this.e=Math.sqrt(b);this.R=this.k0*p*Math.sqrt(1-b)/(1-b*Math.pow(f,2)),this.alpha=Math.sqrt(1+b/(1-b)*Math.pow(Math.cos(u),4)),this.b0=Math.asin(f/this.alpha);var C=Math.log(Math.tan(Math.PI/4+this.b0/2)),P=Math.log(Math.tan(Math.PI/4+u/2)),R=Math.log((1+I*f)/(1-I*f));this.K=C-this.alpha*P+this.alpha*I/2*R},forward:function ei(u){var f=Math.log(Math.tan(Math.PI/4-u.y/2)),p=this.e/2*Math.log((1+this.e*Math.sin(u.y))/(1-this.e*Math.sin(u.y))),v=2*(Math.atan(Math.exp(-this.alpha*(f+p)+this.K))-Math.PI/4),b=this.alpha*(u.x-this.lambda0),I=Math.atan(Math.sin(b)/(Math.sin(this.b0)*Math.tan(v)+Math.cos(this.b0)*Math.cos(b))),C=Math.asin(Math.cos(this.b0)*Math.sin(v)-Math.sin(this.b0)*Math.cos(v)*Math.cos(b));return u.y=this.R/2*Math.log((1+Math.sin(C))/(1-Math.sin(C)))+this.y0,u.x=this.R*I+this.x0,u},inverse:function qe(u){for(var M=(u.x-this.x0)/this.R,v=2*(Math.atan(Math.exp((u.y-this.y0)/this.R))-Math.PI/4),b=Math.asin(Math.cos(this.b0)*Math.sin(v)+Math.sin(this.b0)*Math.cos(v)*Math.cos(M)),I=Math.atan(Math.sin(M)/(Math.cos(this.b0)*Math.cos(M)-Math.sin(this.b0)*Math.tan(v))),C=this.lambda0+I/this.alpha,P=0,R=b,H=-1e3,k=0;Math.abs(R-H)>1e-7;){if(++k>20)return;P=1/this.alpha*(Math.log(Math.tan(Math.PI/4+b/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(R))/2)),H=R,R=2*Math.atan(Math.exp(P))-Math.PI/2}return u.x=C,u.y=R,u},names:["somerc"]};var Li=1e-7;const On={init:function bn(){var u,f,p,M,v,b,I,C,P,R,k,H=0,q=0,ee=0,U=0,ie=0,re=0,ve=0;this.no_off=function ci(u){var p="object"==typeof u.PROJECTION?Object.keys(u.PROJECTION)[0]:u.PROJECTION;return"no_uoff"in u||"no_off"in u||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(p)}(this),this.no_rot="no_rot"in this;var Ze=!1;"alpha"in this&&(Ze=!0);var it=!1;if("rectified_grid_angle"in this&&(it=!0),Ze&&(ve=this.alpha),it&&(H=this.rectified_grid_angle*bt),Ze||it)q=this.longc;else if(ee=this.long1,ie=this.lat1,U=this.long2,re=this.lat2,Math.abs(ie-re)<=Li||(u=Math.abs(ie))<=Li||Math.abs(u-Q)<=Li||Math.abs(Math.abs(this.lat0)-Q)<=Li||Math.abs(Math.abs(re)-Q)<=Li)throw new Error;var He=1-this.es;f=Math.sqrt(He),Math.abs(this.lat0)>oe?(C=Math.sin(this.lat0),p=Math.cos(this.lat0),u=1-this.es*C*C,this.B=p*p,this.B=Math.sqrt(1+this.es*this.B*this.B/He),this.A=this.B*this.k0*f/u,(v=(M=this.B*f/(p*Math.sqrt(u)))*M-1)<=0?v=0:(v=Math.sqrt(v),this.lat0<0&&(v=-v)),this.E=v+=M,this.E*=Math.pow(on(this.e,this.lat0,C),this.B)):(this.B=1/f,this.A=this.k0,this.E=M=v=1),Ze||it?(Ze?(k=Math.asin(Math.sin(ve)/M),it||(H=ve)):(k=H,ve=Math.asin(M*Math.sin(k))),this.lam0=q-Math.asin(.5*(v-1/v)*Math.tan(k))/this.B):(b=Math.pow(on(this.e,ie,Math.sin(ie)),this.B),I=Math.pow(on(this.e,re,Math.sin(re)),this.B),v=this.E/b,P=(I-b)/(I+b),R=((R=this.E*this.E)-I*b)/(R+I*b),(u=ee-U)<-Math.pi?U-=Ci:u>Math.pi&&(U+=Ci),this.lam0=ce(.5*(ee+U)-Math.atan(R*Math.tan(.5*this.B*(ee-U))/P)/this.B),k=Math.atan(2*Math.sin(this.B*ce(ee-this.lam0))/(v-1/v)),H=ve=Math.asin(M*Math.sin(k))),this.singam=Math.sin(k),this.cosgam=Math.cos(k),this.sinrot=Math.sin(H),this.cosrot=Math.cos(H),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(M*M-1)/Math.cos(ve))),this.lat0<0&&(this.u_0=-this.u_0)),v=.5*k,this.v_pole_n=this.ArB*Math.log(Math.tan(Ye-v)),this.v_pole_s=this.ArB*Math.log(Math.tan(Ye+v))},forward:function Xr(u){var p,M,v,b,I,C,P,R,f={};if(u.x=u.x-this.lam0,Math.abs(Math.abs(u.y)-Q)>oe){if(p=.5*((I=this.E/Math.pow(on(this.e,u.y,Math.sin(u.y)),this.B))-(C=1/I)),M=.5*(I+C),b=Math.sin(this.B*u.x),v=(p*this.singam-b*this.cosgam)/M,Math.abs(Math.abs(v)-1)<oe)throw new Error;R=.5*this.ArB*Math.log((1-v)/(1+v)),C=Math.cos(this.B*u.x),P=Math.abs(C)<Li?this.A*u.x:this.ArB*Math.atan2(p*this.cosgam+b*this.singam,C)}else R=u.y>0?this.v_pole_n:this.v_pole_s,P=this.ArB*u.y;return this.no_rot?(f.x=P,f.y=R):(f.x=R*this.cosrot+(P-=this.u_0)*this.sinrot,f.y=P*this.cosrot-R*this.sinrot),f.x=this.a*f.x+this.x0,f.y=this.a*f.y+this.y0,f},inverse:function $s(u){var f,p,M,v,b,I,C,P={};if(u.x=1/this.a*(u.x-this.x0),u.y=1/this.a*(u.y-this.y0),this.no_rot?(p=u.y,f=u.x):(p=u.x*this.cosrot-u.y*this.sinrot,f=u.y*this.cosrot+u.x*this.sinrot+this.u_0),v=.5*((M=Math.exp(-this.BrA*p))-1/M),b=.5*(M+1/M),C=((I=Math.sin(this.BrA*f))*this.cosgam+v*this.singam)/b,Math.abs(Math.abs(C)-1)<oe)P.x=0,P.y=C<0?-Q:Q;else{if(P.y=this.E/Math.sqrt((1+C)/(1-C)),P.y=Br(this.e,Math.pow(P.y,1/this.B)),P.y===1/0)throw new Error;P.x=-this.rB*Math.atan2(v*this.cosgam-I*this.singam,Math.cos(this.BrA*f))}return P.x+=this.lam0,P},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},Gs={init:function ma(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<oe)){var u=this.b/this.a;this.e=Math.sqrt(1-u*u);var f=Math.sin(this.lat1),p=Math.cos(this.lat1),M=Ln(this.e,f,p),v=on(this.e,this.lat1,f),b=Math.sin(this.lat2),I=Math.cos(this.lat2),C=Ln(this.e,b,I),P=on(this.e,this.lat2,b),R=on(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>oe?Math.log(M/C)/Math.log(v/P):f,isNaN(this.ns)&&(this.ns=f),this.f0=M/(this.ns*Math.pow(v,this.ns)),this.rh=this.a*this.f0*Math.pow(R,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function Ji(u){var f=u.x,p=u.y;Math.abs(2*Math.abs(p)-Math.PI)<=oe&&(p=$i(p)*(Q-2*oe));var v,b,M=Math.abs(Math.abs(p)-Q);if(M>oe)v=on(this.e,p,Math.sin(p)),b=this.a*this.f0*Math.pow(v,this.ns);else{if((M=p*this.ns)<=0)return null;b=0}var I=this.ns*ce(f-this.long0);return u.x=this.k0*(b*Math.sin(I))+this.x0,u.y=this.k0*(this.rh-b*Math.cos(I))+this.y0,u},inverse:function Qr(u){var f,p,M,v,b,I=(u.x-this.x0)/this.k0,C=this.rh-(u.y-this.y0)/this.k0;this.ns>0?(f=Math.sqrt(I*I+C*C),p=1):(f=-Math.sqrt(I*I+C*C),p=-1);var P=0;if(0!==f&&(P=Math.atan2(p*I,p*C)),0!==f||this.ns>0){if(p=1/this.ns,M=Math.pow(f/(this.a*this.f0),p),-9999===(v=Br(this.e,M)))return null}else v=-Q;return b=ce(P/this.ns+this.long0),u.x=b,u.y=v,u},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc"]},fn={init:function _a(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function qs(u){var f,p,M,v,b,I,C,R=u.y,H=ce(u.x-this.long0);return f=Math.pow((1+this.e*Math.sin(R))/(1-this.e*Math.sin(R)),this.alfa*this.e/2),p=2*(Math.atan(this.k*Math.pow(Math.tan(R/2+this.s45),this.alfa)/f)-this.s45),M=-H*this.alfa,v=Math.asin(Math.cos(this.ad)*Math.sin(p)+Math.sin(this.ad)*Math.cos(p)*Math.cos(M)),b=Math.asin(Math.cos(p)*Math.sin(M)/Math.cos(v)),I=this.n*b,C=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(v/2+this.s45),this.n),u.y=C*Math.cos(I)/1,u.x=C*Math.sin(I)/1,this.czech||(u.y*=-1,u.x*=-1),u},inverse:function Zs(u){var f,p,M,v,I,C,P,R=u.x;u.x=u.y,u.y=R,this.czech||(u.y*=-1,u.x*=-1),I=Math.sqrt(u.x*u.x+u.y*u.y),v=Math.atan2(u.y,u.x)/Math.sin(this.s0),M=2*(Math.atan(Math.pow(this.ro0/I,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),f=Math.asin(Math.cos(this.ad)*Math.sin(M)-Math.sin(this.ad)*Math.cos(M)*Math.cos(v)),p=Math.asin(Math.cos(M)*Math.sin(v)/Math.cos(f)),u.x=this.long0-p/this.alfa,C=f,P=0;var H=0;do{u.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(f/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(C))/(1-this.e*Math.sin(C)),this.e/2))-this.s45),Math.abs(C-u.y)<1e-10&&(P=1),C=u.y,H+=1}while(0===P&&H<15);return H>=15?null:u},names:["Krovak","krovak"]};function Tt(u,f,p,M,v){return u*v-f*Math.sin(2*v)+p*Math.sin(4*v)-M*Math.sin(6*v)}function hi(u){return 1-.25*u*(1+u/16*(3+1.25*u))}function er(u){return.375*u*(1+.25*u*(1+.46875*u))}function Dr(u){return.05859375*u*u*(1+.75*u)}function Kr(u){return u*u*u*(35/3072)}function di(u,f,p){var M=f*p;return u/Math.sqrt(1-M*M)}function tr(u){return Math.abs(u)<Q?u:u-$i(u)*Math.PI}function Jr(u,f,p,M,v){var b,I;b=u/f;for(var C=0;C<15;C++)if(b+=I=(u-(f*b-p*Math.sin(2*b)+M*Math.sin(4*b)-v*Math.sin(6*b)))/(f-2*p*Math.cos(2*b)+4*M*Math.cos(4*b)-6*v*Math.cos(6*b)),Math.abs(I)<=1e-10)return b;return NaN}const Cr={init:function Nl(){this.sphere||(this.e0=hi(this.es),this.e1=er(this.es),this.e2=Dr(this.es),this.e3=Kr(this.es),this.ml0=this.a*Tt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function va(u){var f,p,M=u.x,v=u.y;if(M=ce(M-this.long0),this.sphere)f=this.a*Math.asin(Math.cos(v)*Math.sin(M)),p=this.a*(Math.atan2(Math.tan(v),Math.cos(M))-this.lat0);else{var b=Math.sin(v),I=Math.cos(v),C=di(this.a,this.e,b),P=Math.tan(v)*Math.tan(v),R=M*Math.cos(v),H=R*R,k=this.es*I*I/(1-this.es);f=C*R*(1-H*P*(1/6-(8-P+8*k)*H/120)),p=this.a*Tt(this.e0,this.e1,this.e2,this.e3,v)-this.ml0+C*b/I*H*(.5+(5-P+6*k)*H/24)}return u.x=f+this.x0,u.y=p+this.y0,u},inverse:function Po(u){u.x-=this.x0,u.y-=this.y0;var M,v,f=u.x/this.a,p=u.y/this.a;if(this.sphere){var b=p+this.lat0;M=Math.asin(Math.sin(b)*Math.cos(f)),v=Math.atan2(Math.tan(f),Math.cos(b))}else{var C=Jr(this.ml0/this.a+p,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(C)-Q)<=oe)return u.x=this.long0,u.y=Q,p<0&&(u.y*=-1),u;var P=di(this.a,this.e,Math.sin(C)),R=P*P*P/this.a/this.a*(1-this.es),H=Math.pow(Math.tan(C),2),k=f*this.a/P,q=k*k;M=C-P*Math.tan(C)/R*k*k*(.5-(1+3*H)*k*k/24),v=k*(1-q*(H/3+(1+3*H)*H*q/15))/Math.cos(C)}return u.x=ce(v+this.long0),u.y=tr(M),u},names:["Cassini","Cassini_Soldner","cass"]};function Pi(u,f){var p;return u>1e-7?(1-u*u)*(f/(1-(p=u*f)*p)-.5/u*Math.log((1-p)/(1+p))):2*f}const se={init:function Ot(){var f,u=Math.abs(this.lat0);if(this.mode=Math.abs(u-Q)<oe?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(u)<oe?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=Pi(this.e,1),this.mmf=.5/(1-this.es),this.apa=function ts(u){var f,p=[];return p[0]=.3333333333333333*u,p[0]+=.17222222222222222*(f=u*u),p[1]=.06388888888888888*f,p[0]+=.10257936507936508*(f*=u),p[1]+=.0664021164021164*f,p[2]=.016415012942191543*f,p}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),f=Math.sin(this.lat0),this.sinb1=Pi(this.e,f)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*f*f)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function Qe(u){var f,p,M,v,b,I,C,P,R,H,k=u.x,q=u.y;if(k=ce(k-this.long0),this.sphere){if(b=Math.sin(q),H=Math.cos(q),M=Math.cos(k),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((p=this.mode===this.EQUIT?1+H*M:1+this.sinph0*b+this.cosph0*H*M)<=oe)return null;f=(p=Math.sqrt(2/p))*H*Math.sin(k),p*=this.mode===this.EQUIT?b:this.cosph0*b-this.sinph0*H*M}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(M=-M),Math.abs(q+this.lat0)<oe)return null;p=Ye-.5*q,f=(p=2*(this.mode===this.S_POLE?Math.cos(p):Math.sin(p)))*Math.sin(k),p*=M}}else{switch(C=0,P=0,R=0,M=Math.cos(k),v=Math.sin(k),b=Math.sin(q),I=Pi(this.e,b),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(C=I/this.qp,P=Math.sqrt(1-C*C)),this.mode){case this.OBLIQ:R=1+this.sinb1*C+this.cosb1*P*M;break;case this.EQUIT:R=1+P*M;break;case this.N_POLE:R=Q+q,I=this.qp-I;break;case this.S_POLE:R=q-Q,I=this.qp+I}if(Math.abs(R)<oe)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:R=Math.sqrt(2/R),p=this.mode===this.OBLIQ?this.ymf*R*(this.cosb1*C-this.sinb1*P*M):(R=Math.sqrt(2/(1+P*M)))*C*this.ymf,f=this.xmf*R*P*v;break;case this.N_POLE:case this.S_POLE:I>=0?(f=(R=Math.sqrt(I))*v,p=M*(this.mode===this.S_POLE?R:-R)):f=p=0}}return u.x=this.a*f+this.x0,u.y=this.a*p+this.y0,u},inverse:function vt(u){u.x-=this.x0,u.y-=this.y0;var M,v,b,I,C,P,R,f=u.x/this.a,p=u.y/this.a;if(this.sphere){var k,H=0,q=0;if((v=.5*(k=Math.sqrt(f*f+p*p)))>1)return null;switch(v=2*Math.asin(v),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(q=Math.sin(v),H=Math.cos(v)),this.mode){case this.EQUIT:v=Math.abs(k)<=oe?0:Math.asin(p*q/k),f*=q,p=H*k;break;case this.OBLIQ:v=Math.abs(k)<=oe?this.lat0:Math.asin(H*this.sinph0+p*q*this.cosph0/k),f*=q*this.cosph0,p=(H-Math.sin(v)*this.sinph0)*k;break;case this.N_POLE:p=-p,v=Q-v;break;case this.S_POLE:v-=Q}M=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(f,p):0}else{if(R=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(f/=this.dd,p*=this.dd,(P=Math.sqrt(f*f+p*p))<oe)return u.x=this.long0,u.y=this.lat0,u;I=2*Math.asin(.5*P/this.rq),b=Math.cos(I),f*=I=Math.sin(I),this.mode===this.OBLIQ?(C=this.qp*(R=b*this.sinb1+p*I*this.cosb1/P),p=P*this.cosb1*b-p*this.sinb1*I):(C=this.qp*(R=p*I/P),p=P*b)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(C=f*f+p*p))return u.x=this.long0,u.y=this.lat0,u;R=1-C/this.qp,this.mode===this.S_POLE&&(R=-R)}M=Math.atan2(f,p),v=function kl(u,f){var p=u+u;return u+f[0]*Math.sin(p)+f[1]*Math.sin(p+p)+f[2]*Math.sin(p+p+p)}(Math.asin(R),this.apa)}return u.x=ce(this.long0+M),u.y=v,u},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function we(u){return Math.abs(u)>1&&(u=u>1?1:-1),Math.asin(u)}const yt={init:function ft(){Math.abs(this.lat1+this.lat2)<oe||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ln(this.e3,this.sin_po,this.cos_po),this.qs1=Pi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ln(this.e3,this.sin_po,this.cos_po),this.qs2=Pi(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Pi(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>oe?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function Bn(u){var f=u.x,p=u.y;this.sin_phi=Math.sin(p),this.cos_phi=Math.cos(p);var M=Pi(this.e3,this.sin_phi),v=this.a*Math.sqrt(this.c-this.ns0*M)/this.ns0,b=this.ns0*ce(f-this.long0),I=v*Math.sin(b)+this.x0,C=this.rh-v*Math.cos(b)+this.y0;return u.x=I,u.y=C,u},inverse:function Er(u){var f,M,v,b,I;return u.x-=this.x0,u.y=this.rh-u.y+this.y0,this.ns0>=0?(f=Math.sqrt(u.x*u.x+u.y*u.y),M=1):(f=-Math.sqrt(u.x*u.x+u.y*u.y),M=-1),v=0,0!==f&&(v=Math.atan2(M*u.x,M*u.y)),M=f*this.ns0/this.a,I=this.sphere?Math.asin((this.c-M*M)/(2*this.ns0)):this.phi1z(this.e3,(this.c-M*M)/this.ns0),b=ce(v/this.ns0+this.long0),u.x=b,u.y=I,u},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function Ht(u,f){var p,v,b,I,C=we(.5*f);if(u<oe)return C;for(var P=u*u,R=1;R<=25;R++)if(C+=I=.5*(b=1-(v=u*(p=Math.sin(C)))*v)*b/Math.cos(C)*(f/(1-P)-p/b+.5/u*Math.log((1-v)/(1+v))),Math.abs(I)<=1e-7)return C;return null}},s={init:function pi(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function rr(u){var f,p,M,v,I,C,P,H=u.y;return M=ce(u.x-this.long0),f=Math.sin(H),p=Math.cos(H),v=Math.cos(M),(I=this.sin_p14*f+this.cos_p14*p*v)>0||Math.abs(I)<=oe?(C=this.x0+1*this.a*p*Math.sin(M)/I,P=this.y0+1*this.a*(this.cos_p14*f-this.sin_p14*p*v)/I):(C=this.x0+this.infinity_dist*p*Math.sin(M),P=this.y0+this.infinity_dist*(this.cos_p14*f-this.sin_p14*p*v)),u.x=C,u.y=P,u},inverse:function Se(u){var f,p,M,v,b,I;return u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,u.x/=this.k0,u.y/=this.k0,(f=Math.sqrt(u.x*u.x+u.y*u.y))?(v=Math.atan2(f,this.rc),p=Math.sin(v),I=we((M=Math.cos(v))*this.sin_p14+u.y*p*this.cos_p14/f),b=Math.atan2(u.x*p,f*this.cos_p14*M-u.y*this.sin_p14*p),b=ce(this.long0+b)):(I=this.phic0,b=0),u.x=b,u.y=I,u},names:["gnom"]},N={init:function h(){this.sphere||(this.k0=Ln(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function m(u){var M,v,p=u.y,b=ce(u.x-this.long0);if(this.sphere)M=this.x0+this.a*b*Math.cos(this.lat_ts),v=this.y0+this.a*Math.sin(p)/Math.cos(this.lat_ts);else{var I=Pi(this.e,Math.sin(p));M=this.x0+this.a*this.k0*b,v=this.y0+this.a*I*.5/this.k0}return u.x=M,u.y=v,u},inverse:function y(u){var f,p;return u.x-=this.x0,u.y-=this.y0,this.sphere?(f=ce(this.long0+u.x/this.a/Math.cos(this.lat_ts)),p=Math.asin(u.y/this.a*Math.cos(this.lat_ts))):(p=function l(u,f){var p=1-(1-u*u)/(2*u)*Math.log((1-u)/(1+u));if(Math.abs(Math.abs(f)-p)<1e-6)return f<0?-1*Q:Q;for(var v,b,I,C,M=Math.asin(.5*f),P=0;P<30;P++)if(b=Math.sin(M),I=Math.cos(M),C=u*b,M+=v=Math.pow(1-C*C,2)/(2*I)*(f/(1-u*u)-b/(1-C*C)+.5/u*Math.log((1-C)/(1+C))),Math.abs(v)<=1e-10)return M;return NaN}(this.e,2*u.y*this.k0/this.a),f=ce(this.long0+u.x/(this.a*this.k0))),u.x=f,u.y=p,u},names:["cea"]},pe={init:function j(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function z(u){var p=u.y,M=ce(u.x-this.long0),v=tr(p-this.lat0);return u.x=this.x0+this.a*M*this.rc,u.y=this.y0+this.a*v,u},inverse:function Y(u){var p=u.y;return u.x=ce(this.long0+(u.x-this.x0)/(this.a*this.rc)),u.y=tr(this.lat0+(p-this.y0)/this.a),u},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},br={init:function Ai(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hi(this.es),this.e1=er(this.es),this.e2=Dr(this.es),this.e3=Kr(this.es),this.ml0=this.a*Tt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function gi(u){var M,v,b,p=u.y,I=ce(u.x-this.long0);if(b=I*Math.sin(p),this.sphere)Math.abs(p)<=oe?(M=this.a*I,v=-1*this.a*this.lat0):(M=this.a*Math.sin(b)/Math.tan(p),v=this.a*(tr(p-this.lat0)+(1-Math.cos(b))/Math.tan(p)));else if(Math.abs(p)<=oe)M=this.a*I,v=-1*this.ml0;else{var C=di(this.a,this.e,Math.sin(p))/Math.tan(p);M=C*Math.sin(b),v=this.a*Tt(this.e0,this.e1,this.e2,this.e3,p)-this.ml0+C*(1-Math.cos(b))}return u.x=M+this.x0,u.y=v+this.y0,u},inverse:function is(u){var f,p,M,v,b,I,C,P,R;if(M=u.x-this.x0,v=u.y-this.y0,this.sphere)if(Math.abs(v+this.a*this.lat0)<=oe)f=ce(M/this.a+this.long0),p=0;else{var H;for(C=M*M/this.a/this.a+(I=this.lat0+v/this.a)*I,P=I,b=20;b;--b)if(P+=R=-1*(I*(P*(H=Math.tan(P))+1)-P-.5*(P*P+C)*H)/((P-I)/H-1),Math.abs(R)<=oe){p=P;break}f=ce(this.long0+Math.asin(M*Math.tan(P)/this.a)/Math.sin(p))}else if(Math.abs(v+this.ml0)<=oe)p=0,f=ce(this.long0+M/this.a);else{var k,q,ee,U,ie;for(C=M*M/this.a/this.a+(I=(this.ml0+v)/this.a)*I,P=I,b=20;b;--b)if(ie=this.e*Math.sin(P),k=Math.sqrt(1-ie*ie)*Math.tan(P),q=this.a*Tt(this.e0,this.e1,this.e2,this.e3,P),ee=this.e0-2*this.e1*Math.cos(2*P)+4*this.e2*Math.cos(4*P)-6*this.e3*Math.cos(6*P),P-=R=(I*(k*(U=q/this.a)+1)-U-.5*k*(U*U+C))/(this.es*Math.sin(2*P)*(U*U+C-2*I*U)/(4*k)+(I-U)*(k*ee-2/Math.sin(2*P))-ee),Math.abs(R)<=oe){p=P;break}k=Math.sqrt(1-this.es*Math.pow(Math.sin(p),2))*Math.tan(p),f=ce(this.long0+Math.asin(M*k/this.a)/Math.sin(p))}return u.x=f,u.y=p,u},names:["Polyconic","poly"]},nn={init:function ss(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function zt(u){var f,I=(u.y-this.lat0)/De*1e-5,C=u.x-this.long0,P=1,R=0;for(f=1;f<=10;f++)R+=this.A[f]*(P*=I);var ie,H=R,k=C,q=1,ee=0,re=0,ve=0;for(f=1;f<=6;f++)ie=ee*H+q*k,re=re+this.B_re[f]*(q=q*H-ee*k)-this.B_im[f]*(ee=ie),ve=ve+this.B_im[f]*q+this.B_re[f]*ee;return u.x=ve*this.a+this.x0,u.y=re*this.a+this.y0,u},inverse:function Ol(u){var f,k,I=(u.y-this.y0)/this.a,C=(u.x-this.x0)/this.a,P=1,R=0,q=0,ee=0;for(f=1;f<=6;f++)k=R*I+P*C,q=q+this.C_re[f]*(P=P*I-R*C)-this.C_im[f]*(R=k),ee=ee+this.C_im[f]*P+this.C_re[f]*R;for(var U=0;U<this.iterations;U++){var Oe,ie=q,re=ee,Ze=I,it=C;for(f=2;f<=6;f++)Oe=re*q+ie*ee,Ze+=(f-1)*(this.B_re[f]*(ie=ie*q-re*ee)-this.B_im[f]*(re=Oe)),it+=(f-1)*(this.B_im[f]*ie+this.B_re[f]*re);ie=1,re=0;var He=this.B_re[1],rt=this.B_im[1];for(f=2;f<=6;f++)Oe=re*q+ie*ee,He+=f*(this.B_re[f]*(ie=ie*q-re*ee)-this.B_im[f]*(re=Oe)),rt+=f*(this.B_im[f]*ie+this.B_re[f]*re);var gn=He*He+rt*rt;q=(Ze*He+it*rt)/gn,ee=(it*He-Ze*rt)/gn}var xt=q,Ri=ee,ls=1,X=0;for(f=1;f<=9;f++)X+=this.D[f]*(ls*=xt);var We=this.lat0+X*De*1e5;return u.x=this.long0+Ri,u.y=We,u},names:["New_Zealand_Map_Grid","nzmg"]},Ro={init:function wt(){},forward:function ni(u){var p=u.y,M=ce(u.x-this.long0),v=this.x0+this.a*M,b=this.y0+this.a*Math.log(Math.tan(Math.PI/4+p/2.5))*1.25;return u.x=v,u.y=b,u},inverse:function Ws(u){u.x-=this.x0,u.y-=this.y0;var f=ce(this.long0+u.x/this.a),p=2.5*(Math.atan(Math.exp(.8*u.y/this.a))-Math.PI/4);return u.x=f,u.y=p,u},names:["Miller_Cylindrical","mill"]},im={init:function ya(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Os(this.es)},forward:function tc(u){var f,p,M=u.x,v=u.y;if(M=ce(M-this.long0),this.sphere){if(this.m)for(var b=this.n*Math.sin(v),I=20;I;--I){var C=(this.m*v+Math.sin(v)-b)/(this.m+Math.cos(v));if(v-=C,Math.abs(C)<oe)break}else v=1!==this.n?Math.asin(this.n*Math.sin(v)):v;f=this.a*this.C_x*M*(this.m+Math.cos(v)),p=this.a*this.C_y*v}else{var P=Math.sin(v),R=Math.cos(v);p=this.a*en(v,P,R,this.en),f=this.a*M*R/Math.sqrt(1-this.es*P*P)}return u.x=f,u.y=p,u},inverse:function md(u){var f,M,v;return u.x-=this.x0,M=u.x/this.a,u.y-=this.y0,f=u.y/this.a,this.sphere?(f/=this.C_y,M/=this.C_x*(this.m+Math.cos(f)),this.m?f=we((this.m*f+Math.sin(f))/this.n):1!==this.n&&(f=we(Math.sin(f)/this.n)),M=ce(M+this.long0),f=tr(f)):(f=Ne(u.y/this.a,this.es,this.en),(v=Math.abs(f))<Q?(v=Math.sin(f),M=ce(this.long0+u.x*Math.sqrt(1-this.es*v*v)/(this.a*Math.cos(f)))):v-oe<Q&&(M=this.long0)),u.x=M,u.y=f,u},names:["Sinusoidal","sinu"]},lm={init:function rm(){},forward:function sm(u){for(var p=u.y,M=ce(u.x-this.long0),v=p,b=Math.PI*Math.sin(p);;){var I=-(v+Math.sin(v)-b)/(1+Math.cos(v));if(v+=I,Math.abs(I)<oe)break}v/=2,Math.PI/2-Math.abs(p)<oe&&(M=0);var C=.900316316158*this.a*M*Math.cos(v)+this.x0,P=1.4142135623731*this.a*Math.sin(v)+this.y0;return u.x=C,u.y=P,u},inverse:function om(u){var f,p;u.x-=this.x0,u.y-=this.y0,p=u.y/(1.4142135623731*this.a),Math.abs(p)>.999999999999&&(p=.999999999999),f=Math.asin(p);var M=ce(this.long0+u.x/(.900316316158*this.a*Math.cos(f)));M<-Math.PI&&(M=-Math.PI),M>Math.PI&&(M=Math.PI),p=(2*f+Math.sin(2*f))/Math.PI,Math.abs(p)>1&&(p=1);var v=Math.asin(p);return u.x=M,u.y=v,u},names:["Mollweide","moll"]},fm={init:function um(){Math.abs(this.lat1+this.lat2)<oe||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=hi(this.es),this.e1=er(this.es),this.e2=Dr(this.es),this.e3=Kr(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ln(this.e,this.sinphi,this.cosphi),this.ml1=Tt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<oe?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ln(this.e,this.sinphi,this.cosphi),this.ml2=Tt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Tt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function cm(u){var M,f=u.x,p=u.y;if(this.sphere)M=this.a*(this.g-p);else{var v=Tt(this.e0,this.e1,this.e2,this.e3,p);M=this.a*(this.g-v)}var b=this.ns*ce(f-this.long0),I=this.x0+M*Math.sin(b),C=this.y0+this.rh-M*Math.cos(b);return u.x=I,u.y=C,u},inverse:function hm(u){var f,p,M,v;u.x-=this.x0,u.y=this.rh-u.y+this.y0,this.ns>=0?(p=Math.sqrt(u.x*u.x+u.y*u.y),f=1):(p=-Math.sqrt(u.x*u.x+u.y*u.y),f=-1);var b=0;return 0!==p&&(b=Math.atan2(f*u.x,f*u.y)),this.sphere?(v=ce(this.long0+b/this.ns),M=tr(this.g-p/this.a),u.x=v,u.y=M,u):(M=Jr(this.g-p/this.a,this.e0,this.e1,this.e2,this.e3),v=ce(this.long0+b/this.ns),u.x=v,u.y=M,u)},names:["Equidistant_Conic","eqdc"]},mm={init:function pm(){this.R=this.a},forward:function nc(u){var v,b,p=u.y,M=ce(u.x-this.long0);Math.abs(p)<=oe&&(v=this.x0+this.R*M,b=this.y0);var I=we(2*Math.abs(p/Math.PI));(Math.abs(M)<=oe||Math.abs(Math.abs(p)-Q)<=oe)&&(v=this.x0,b=p>=0?this.y0+Math.PI*this.R*Math.tan(.5*I):this.y0+Math.PI*this.R*-Math.tan(.5*I));var C=.5*Math.abs(Math.PI/M-M/Math.PI),P=C*C,R=Math.sin(I),H=Math.cos(I),k=H/(R+H-1),ee=k*(2/R-1),U=ee*ee,ie=Math.PI*this.R*(C*(k-U)+Math.sqrt(P*(k-U)*(k-U)-(U+P)*(k*k-U)))/(U+P);M<0&&(ie=-ie),v=this.x0+ie;var re=P+k;return ie=Math.PI*this.R*(ee*re-C*Math.sqrt((U+P)*(P+1)-re*re))/(U+P),b=p>=0?this.y0+ie:this.y0-ie,u.x=v,u.y=b,u},inverse:function ic(u){var f,p,M,v,b,I,C,P,R,H,k,q;return u.x-=this.x0,u.y-=this.y0,k=Math.PI*this.R,b=(M=u.x/k)*M+(v=u.y/k)*v,k=3*(v*v/(P=-2*(I=-Math.abs(v)*(1+b))+1+2*v*v+b*b)+(2*(C=I-2*v*v+M*M)*C*C/P/P/P-9*I*C/P/P)/27)/(R=(I-C*C/3/P)/P)/(H=2*Math.sqrt(-R/3)),Math.abs(k)>1&&(k=k>=0?1:-1),q=Math.acos(k)/3,p=u.y>=0?(-H*Math.cos(q+Math.PI/3)-C/3/P)*Math.PI:-(-H*Math.cos(q+Math.PI/3)-C/3/P)*Math.PI,f=Math.abs(M)<oe?this.long0:ce(this.long0+Math.PI*(b-1+Math.sqrt(1+2*(M*M-v*v)+b*b))/2/M),u.x=f,u.y=p,u},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Fl={init:function _m(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function os(u){var I,C,P,R,H,k,q,ee,U,ie,re,ve,Oe,Ze,it,He,rt,gn,xt,Ri,ls,X,f=u.x,p=u.y,M=Math.sin(u.y),v=Math.cos(u.y),b=ce(f-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=oe?(u.x=this.x0+this.a*(Q-p)*Math.sin(b),u.y=this.y0-this.a*(Q-p)*Math.cos(b),u):Math.abs(this.sin_p12+1)<=oe?(u.x=this.x0+this.a*(Q+p)*Math.sin(b),u.y=this.y0+this.a*(Q+p)*Math.cos(b),u):(gn=this.sin_p12*M+this.cos_p12*v*Math.cos(b),rt=(He=Math.acos(gn))?He/Math.sin(He):1,u.x=this.x0+this.a*rt*v*Math.sin(b),u.y=this.y0+this.a*rt*(this.cos_p12*M-this.sin_p12*v*Math.cos(b)),u):(I=hi(this.es),C=er(this.es),P=Dr(this.es),R=Kr(this.es),Math.abs(this.sin_p12-1)<=oe?(H=this.a*Tt(I,C,P,R,Q),k=this.a*Tt(I,C,P,R,p),u.x=this.x0+(H-k)*Math.sin(b),u.y=this.y0-(H-k)*Math.cos(b),u):Math.abs(this.sin_p12+1)<=oe?(H=this.a*Tt(I,C,P,R,Q),k=this.a*Tt(I,C,P,R,p),u.x=this.x0+(H+k)*Math.sin(b),u.y=this.y0+(H+k)*Math.cos(b),u):(q=M/v,ee=di(this.a,this.e,this.sin_p12),U=di(this.a,this.e,M),ie=Math.atan((1-this.es)*q+this.es*ee*this.sin_p12/(U*v)),xt=0===(re=Math.atan2(Math.sin(b),this.cos_p12*Math.tan(ie)-this.sin_p12*Math.cos(b)))?Math.asin(this.cos_p12*Math.sin(ie)-this.sin_p12*Math.cos(ie)):Math.abs(Math.abs(re)-Math.PI)<=oe?-Math.asin(this.cos_p12*Math.sin(ie)-this.sin_p12*Math.cos(ie)):Math.asin(Math.sin(b)*Math.cos(ie)/Math.sin(re)),ve=this.e*this.sin_p12/Math.sqrt(1-this.es),Oe=this.e*this.cos_p12*Math.cos(re)/Math.sqrt(1-this.es),u.x=this.x0+(He=ee*xt*(1-(Ri=xt*xt)*(it=Oe*Oe)*(1-it)/6+(ls=Ri*xt)/8*(Ze=ve*Oe)*(1-2*it)+(X=ls*xt)/120*(it*(4-7*it)-3*ve*ve*(1-7*it))-X*xt/48*Ze))*Math.sin(re),u.y=this.y0+He*Math.cos(re),u))},inverse:function rc(u){var f,p,M,v,b,I,C,P,R,H,k,q,U,ie,re,ve,Oe,Ze,it,He,rt,gn,xt;return u.x-=this.x0,u.y-=this.y0,this.sphere?(f=Math.sqrt(u.x*u.x+u.y*u.y))>2*Q*this.a?void 0:(p=f/this.a,M=Math.sin(p),v=Math.cos(p),b=this.long0,Math.abs(f)<=oe?I=this.lat0:(I=we(v*this.sin_p12+u.y*M*this.cos_p12/f),C=Math.abs(this.lat0)-Q,b=Math.abs(C)<=oe?ce(this.lat0>=0?this.long0+Math.atan2(u.x,-u.y):this.long0-Math.atan2(-u.x,u.y)):ce(this.long0+Math.atan2(u.x*M,f*this.cos_p12*v-u.y*this.sin_p12*M))),u.x=b,u.y=I,u):(P=hi(this.es),R=er(this.es),H=Dr(this.es),k=Kr(this.es),Math.abs(this.sin_p12-1)<=oe?(I=Jr(((q=this.a*Tt(P,R,H,k,Q))-(f=Math.sqrt(u.x*u.x+u.y*u.y)))/this.a,P,R,H,k),b=ce(this.long0+Math.atan2(u.x,-1*u.y)),u.x=b,u.y=I,u):Math.abs(this.sin_p12+1)<=oe?(q=this.a*Tt(P,R,H,k,Q),I=Jr(((f=Math.sqrt(u.x*u.x+u.y*u.y))-q)/this.a,P,R,H,k),b=ce(this.long0+Math.atan2(u.x,u.y)),u.x=b,u.y=I,u):(f=Math.sqrt(u.x*u.x+u.y*u.y),re=Math.atan2(u.x,u.y),U=di(this.a,this.e,this.sin_p12),ve=Math.cos(re),it=3*this.es*(1-(Ze=-(Oe=this.e*this.cos_p12*ve)*Oe/(1-this.es)))*this.sin_p12*this.cos_p12*ve/(1-this.es),gn=1-Ze*(rt=(He=f/U)-Ze*(1+Ze)*Math.pow(He,3)/6-it*(1+3*Ze)*Math.pow(He,4)/24)*rt/2-He*rt*rt*rt/6,ie=Math.asin(this.sin_p12*Math.cos(rt)+this.cos_p12*Math.sin(rt)*ve),b=ce(this.long0+Math.asin(Math.sin(re)*Math.sin(rt)/Math.cos(ie))),xt=Math.sin(ie),I=Math.atan2((xt-this.es*gn*this.sin_p12)*Math.tan(ie),xt*(1-this.es)),u.x=b,u.y=I,u))},names:["Azimuthal_Equidistant","aeqd"]},ym={init:function sc(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function vd(u){var f,p,M,v,I,C,P,H=u.y;return M=ce(u.x-this.long0),f=Math.sin(H),p=Math.cos(H),v=Math.cos(M),((I=this.sin_p14*f+this.cos_p14*p*v)>0||Math.abs(I)<=oe)&&(C=1*this.a*p*Math.sin(M),P=this.y0+1*this.a*(this.cos_p14*f-this.sin_p14*p*v)),u.x=C,u.y=P,u},inverse:function yd(u){var f,p,M,v,b,I,C;return u.x-=this.x0,u.y-=this.y0,p=we((f=Math.sqrt(u.x*u.x+u.y*u.y))/this.a),M=Math.sin(p),v=Math.cos(p),I=this.long0,Math.abs(f)<=oe?(C=this.lat0,u.x=I,u.y=C,u):(C=we(v*this.sin_p14+u.y*M*this.cos_p14/f),b=Math.abs(this.lat0)-Q,Math.abs(b)<=oe?(I=ce(this.lat0>=0?this.long0+Math.atan2(u.x,-u.y):this.long0-Math.atan2(-u.x,u.y)),u.x=I,u.y=C,u):(I=ce(this.long0+Math.atan2(u.x*M,f*this.cos_p14*v-u.y*this.sin_p14*M)),u.x=I,u.y=C,u))},names:["ortho"]};var je_AREA_0=1,je_AREA_1=2,je_AREA_2=3,je_AREA_3=4;function Bl(u,f,p,M){var v;return u<oe?(M.value=je_AREA_0,v=0):(v=Math.atan2(f,p),Math.abs(v)<=Ye?M.value=je_AREA_0:v>Ye&&v<=Q+Ye?(M.value=je_AREA_1,v-=Q):v>Q+Ye||v<=-(Q+Ye)?(M.value=je_AREA_2,v=v>=0?v-dt:v+dt):(M.value=je_AREA_3,v+=Q)),v}function Ir(u,f){var p=u+f;return p<-dt?p+=Ci:p>+dt&&(p-=Ci),p}const Ma={init:function wa(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=Q-Ye/2?5:this.lat0<=-(Q-Ye/2)?6:Math.abs(this.long0)<=Ye?1:Math.abs(this.long0)<=Q+Ye?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function Zt(u){var p,M,v,b,I,C,f={x:0,y:0},P={value:0};if(u.x-=this.long0,p=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(u.y)):u.y,M=u.x,5===this.face)b=Q-p,M>=Ye&&M<=Q+Ye?(P.value=je_AREA_0,v=M-Q):M>Q+Ye||M<=-(Q+Ye)?(P.value=je_AREA_1,v=M>0?M-dt:M+dt):M>-(Q+Ye)&&M<=-Ye?(P.value=je_AREA_2,v=M+Q):(P.value=je_AREA_3,v=M);else if(6===this.face)b=Q+p,M>=Ye&&M<=Q+Ye?(P.value=je_AREA_0,v=-M+Q):M<Ye&&M>=-Ye?(P.value=je_AREA_1,v=-M):M<-Ye&&M>=-(Q+Ye)?(P.value=je_AREA_2,v=-M-Q):(P.value=je_AREA_3,v=M>0?-M+dt:-M-dt);else{var R,H,k,q,ee,U;2===this.face?M=Ir(M,+Q):3===this.face?M=Ir(M,+dt):4===this.face&&(M=Ir(M,-Q)),q=Math.sin(p),ee=Math.cos(p),U=Math.sin(M),R=ee*Math.cos(M),H=ee*U,k=q,1===this.face?v=Bl(b=Math.acos(R),k,H,P):2===this.face?v=Bl(b=Math.acos(H),k,-R,P):3===this.face?v=Bl(b=Math.acos(-R),k,-H,P):4===this.face?v=Bl(b=Math.acos(-H),k,R,P):(b=v=0,P.value=je_AREA_0)}return C=Math.atan(12/dt*(v+Math.acos(Math.sin(v)*Math.cos(Ye))-Q)),I=Math.sqrt((1-Math.cos(b))/(Math.cos(C)*Math.cos(C))/(1-Math.cos(Math.atan(1/Math.cos(v))))),P.value===je_AREA_1?C+=Q:P.value===je_AREA_2?C+=dt:P.value===je_AREA_3&&(C+=1.5*dt),f.x=I*Math.cos(C),f.y=I*Math.sin(C),f.x=f.x*this.a+this.x0,f.y=f.y*this.a+this.y0,u.x=f.x,u.y=f.y,u},inverse:function oc(u){var p,M,v,b,I,C,P,R,H,ie,re,ve,f={lam:0,phi:0},k={value:0};if(u.x=(u.x-this.x0)/this.a,u.y=(u.y-this.y0)/this.a,M=Math.atan(Math.sqrt(u.x*u.x+u.y*u.y)),p=Math.atan2(u.y,u.x),u.x>=0&&u.x>=Math.abs(u.y)?k.value=je_AREA_0:u.y>=0&&u.y>=Math.abs(u.x)?(k.value=je_AREA_1,p-=Q):u.x<0&&-u.x>=Math.abs(u.y)?(k.value=je_AREA_2,p=p<0?p+dt:p-dt):(k.value=je_AREA_3,p+=Q),H=dt/12*Math.tan(p),I=Math.sin(H)/(Math.cos(H)-1/Math.sqrt(2)),C=Math.atan(I),(P=1-(v=Math.cos(p))*v*(b=Math.tan(M))*b*(1-Math.cos(Math.atan(1/Math.cos(C)))))<-1?P=-1:P>1&&(P=1),5===this.face)R=Math.acos(P),f.phi=Q-R,f.lam=k.value===je_AREA_0?C+Q:k.value===je_AREA_1?C<0?C+dt:C-dt:k.value===je_AREA_2?C-Q:C;else if(6===this.face)R=Math.acos(P),f.phi=R-Q,f.lam=k.value===je_AREA_0?-C+Q:k.value===je_AREA_1?-C:k.value===je_AREA_2?-C-Q:C<0?-C-dt:-C+dt;else{var q,ee,U;H=(q=P)*q,ee=(H+=(U=H>=1?0:Math.sqrt(1-H)*Math.sin(C))*U)>=1?0:Math.sqrt(1-H),k.value===je_AREA_1?(H=ee,ee=-U,U=H):k.value===je_AREA_2?(ee=-ee,U=-U):k.value===je_AREA_3&&(H=ee,ee=U,U=-H),2===this.face?(H=q,q=-ee,ee=H):3===this.face?(q=-q,ee=-ee):4===this.face&&(H=q,q=ee,ee=-H),f.phi=Math.acos(-U)-Q,f.lam=Math.atan2(ee,q),2===this.face?f.lam=Ir(f.lam,-Q):3===this.face?f.lam=Ir(f.lam,-dt):4===this.face&&(f.lam=Ir(f.lam,+Q))}return 0!==this.es&&(ie=f.phi<0?1:0,re=Math.tan(f.phi),ve=this.b/Math.sqrt(re*re+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-ve*ve)/(this.one_minus_f*ve)),ie&&(f.phi=-f.phi)),f.lam+=this.long0,u.x=f.lam,u.y=f.phi,u},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Hl=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Da=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],ac=ht/5,Ea=1/ac,zl=function(u,f){return u[0]+f*(u[1]+f*(u[2]+f*u[3]))};const cc={init:function uc(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function Md(u){var f=ce(u.x-this.long0),p=Math.abs(u.y),M=Math.floor(p*ac);M<0?M=0:M>=18&&(M=17);var v={x:zl(Hl[M],p=ht*(p-Ea*M))*f,y:zl(Da[M],p)};return u.y<0&&(v.y=-v.y),v.x=v.x*this.a*.8487+this.x0,v.y=v.y*this.a*1.3523+this.y0,v},inverse:function Dd(u){var f={x:(u.x-this.x0)/(.8487*this.a),y:Math.abs(u.y-this.y0)/(1.3523*this.a)};if(f.y>=1)f.x/=Hl[18][0],f.y=u.y<0?-Q:Q;else{var p=Math.floor(18*f.y);for(p<0?p=0:p>=18&&(p=17);;)if(Da[p][0]>f.y)--p;else{if(!(Da[p+1][0]<=f.y))break;++p}var M=Da[p],v=5*(f.y-M[0])/(Da[p+1][0]-M[0]);v=function lc(u,f,p,M){for(var v=f;M;--M){var b=u(v);if(v-=b,Math.abs(b)<p)break}return v}(function(b){return(zl(M,b)-f.y)/function(u,f){return u[1]+f*(2*u[2]+3*f*u[3])}(M,b)},v,oe,100),f.x/=zl(Hl[p],v),f.y=(5*p+v)*bt,u.y<0&&(f.y=-f.y)}return f.x=ce(f.x+this.long0),f},names:["Robinson","robin"]},bd={init:function Cd(){this.name="geocent"},forward:function Ed(u){return Gi(u,this.es,this.a)},inverse:function hc(u){return go(u,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var Oo={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const Id={init:function Ni(){if(Object.keys(Oo).forEach(function(p){if(typeof this[p]>"u")this[p]=Oo[p].def;else{if(Oo[p].num&&isNaN(this[p]))throw new Error("Invalid parameter value, must be numeric "+p+" = "+this[p]);Oo[p].num&&(this[p]=parseFloat(this[p]))}Oo[p].degrees&&(this[p]=this[p]*bt)}.bind(this)),Math.abs(Math.abs(this.lat0)-Q)<oe?this.mode=this.lat0<0?1:0:Math.abs(this.lat0)<oe?this.mode=2:(this.mode=3,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var u=this.tilt,f=this.azi;this.cg=Math.cos(f),this.sg=Math.sin(f),this.cw=Math.cos(u),this.sw=Math.sin(u)},forward:function fc(u){u.x-=this.long0;var v,b,I,C,f=Math.sin(u.y),p=Math.cos(u.y),M=Math.cos(u.x);switch(this.mode){case 3:b=this.sinph0*f+this.cosph0*p*M;break;case 2:b=p*M;break;case 1:b=-f;break;case 0:b=f}switch(v=(b=this.pn1/(this.p-b))*p*Math.sin(u.x),this.mode){case 3:b*=this.cosph0*f-this.sinph0*p*M;break;case 2:b*=f;break;case 0:b*=-p*M;break;case 1:b*=p*M}return v=(v*this.cg-b*this.sg)*this.cw*(C=1/((I=b*this.cg+v*this.sg)*this.sw*this.h1+this.cw)),b=I*C,u.x=v*this.a,u.y=b*this.a,u},inverse:function pc(u){u.x/=this.a,u.y/=this.a;var p,M,v,f={x:u.x,y:u.y};u.x=(p=this.pn1*u.x*(v=1/(this.pn1-u.y*this.sw)))*this.cg+(M=this.pn1*u.y*this.cw*v)*this.sg,u.y=M*this.cg-p*this.sg;var b=bo(u.x,u.y);if(Math.abs(b)<oe)f.x=0,f.y=u.y;else{var I,C;switch(C=1-b*b*this.pfact,C=(this.p-Math.sqrt(C))/(this.pn1/b+b/this.pn1),I=Math.sqrt(1-C*C),this.mode){case 3:f.y=Math.asin(I*this.sinph0+u.y*C*this.cosph0/b),u.y=(I-this.sinph0*Math.sin(f.y))*b,u.x*=C*this.cosph0;break;case 2:f.y=Math.asin(u.y*C/b),u.y=I*b,u.x*=C;break;case 0:f.y=Math.asin(I),u.y=-u.y;break;case 1:f.y=-Math.asin(I)}f.x=Math.atan2(u.x,u.y)}return u.x=f.x+this.long0,u.y=f.y,u},names:["Tilted_Perspective","tpers"]};de.defaultDatum="WGS84",de.Proj=Si,de.WGS84=new de.Proj("WGS84"),de.Point=ye,de.toPoint=Jt,de.defs=ao,de.nadgrid=function Ii(u,f){var p=new DataView(f),M=function Il(u){var f=u.getInt32(8,!1);return 11!==f&&(11!==(f=u.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(p),v=function fo(u,f){return{nFields:u.getInt32(8,f),nSubgridFields:u.getInt32(24,f),nSubgrids:u.getInt32(40,f),shiftType:po(u,56,64).trim(),fromSemiMajorAxis:u.getFloat64(120,f),fromSemiMinorAxis:u.getFloat64(136,f),toSemiMajorAxis:u.getFloat64(152,f),toSemiMinorAxis:u.getFloat64(168,f)}}(p,M);v.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var b=function Hr(u,f,p){for(var v=[],b=0;b<f.nSubgrids;b++){var I=Ls(u,176,p),C=ca(u,176,I,p),P=Math.round(1+(I.upperLongitude-I.lowerLongitude)/I.longitudeInterval),R=Math.round(1+(I.upperLatitude-I.lowerLatitude)/I.latitudeInterval);v.push({ll:[dr(I.lowerLongitude),dr(I.lowerLatitude)],del:[dr(I.longitudeInterval),dr(I.latitudeInterval)],lim:[P,R],count:I.gridNodeCount,cvs:ua(C)})}return v}(p,v,M),I={header:v,subgrids:b};return It[u]=I,I},de.transform=Ee,de.mgrs=_o,de.version="__VERSION__",function ba(u){u.Proj.projections.add(Eo),u.Proj.projections.add(qr),u.Proj.projections.add(Qi),u.Proj.projections.add(zs),u.Proj.projections.add(Vs),u.Proj.projections.add(Mr),u.Proj.projections.add(On),u.Proj.projections.add(Gs),u.Proj.projections.add(fn),u.Proj.projections.add(Cr),u.Proj.projections.add(se),u.Proj.projections.add(yt),u.Proj.projections.add(s),u.Proj.projections.add(N),u.Proj.projections.add(pe),u.Proj.projections.add(br),u.Proj.projections.add(nn),u.Proj.projections.add(Ro),u.Proj.projections.add(im),u.Proj.projections.add(lm),u.Proj.projections.add(fm),u.Proj.projections.add(mm),u.Proj.projections.add(Fl),u.Proj.projections.add(ym),u.Proj.projections.add(Ma),u.Proj.projections.add(cc),u.Proj.projections.add(bd),u.Proj.projections.add(Id)}(de);const In=de},946:(Di,Dn,ne)=>{var ze,_,D;_=[ne(433),ne(991)],void 0!==(D="function"==typeof(ze=function(T,B){return B.__esModule&&B.default&&(B=B.default),T.Proj={},T.Proj._isProj4Obj=function(O){return typeof O.inverse<"u"&&typeof O.forward<"u"},T.Proj.Projection=T.Class.extend({initialize:function(O,G,W){var te=T.Proj._isProj4Obj(O);this._proj=te?O:this._projFromCodeDef(O,G),this.bounds=te?G:W},project:function(O){var G=this._proj.forward([O.lng,O.lat]);return new T.Point(G[0],G[1])},unproject:function(O,G){var W=this._proj.inverse([O.x,O.y]);return new T.LatLng(W[1],W[0],G)},_projFromCodeDef:function(O,G){if(G)B.defs(O,G);else if(void 0===B.defs[O]){var W=O.split(":");if(W.length>3&&(O=W[W.length-3]+":"+W[W.length-1]),void 0===B.defs[O])throw"No projection definition for code "+O}return B(O)}}),T.Proj.CRS=T.Class.extend({includes:T.CRS,options:{transformation:new T.Transformation(1,0,-1,0)},initialize:function(O,G,W){var te,De,Xt;if(T.Proj._isProj4Obj(O)?(te=(De=O).srsCode,this.projection=new T.Proj.Projection(De,(Xt=G||{}).bounds)):this.projection=new T.Proj.Projection(te=O,G,(Xt=W||{}).bounds),T.Util.setOptions(this,Xt),this.code=te,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new T.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var nt=this.options.resolutions.length-1;nt>=0;nt--)this.options.resolutions[nt]&&(this._scales[nt]=1/this.options.resolutions[nt])}this.infinite=!this.options.bounds},scale:function(O){var W,G=Math.floor(O);return O===G?this._scales[O]:(W=this._scales[G])+(this._scales[G+1]-W)*(O-G)},zoom:function(O){var te,G=this._closestElement(this._scales,O),W=this._scales.indexOf(G);return O===G?W:void 0===G?-1/0:void 0===(te=this._scales[W+1])?1/0:(O-G)/(te-G)+W},distance:T.CRS.Earth.distance,R:T.CRS.Earth.R,_closestElement:function(O,G){for(var W,te=O.length;te--;)O[te]<=G&&(void 0===W||W<O[te])&&(W=O[te]);return W}}),T.Proj.GeoJSON=T.GeoJSON.extend({initialize:function(O,G){this._callLevel=0,T.GeoJSON.prototype.initialize.call(this,O,G)},addData:function(O){var G;O&&(O.crs&&"name"===O.crs.type?G=new T.Proj.CRS(O.crs.properties.name):O.crs&&O.crs.type&&(G=new T.Proj.CRS(O.crs.type+":"+O.crs.properties.code)),void 0!==G&&(this.options.coordsToLatLng=function(W){var te=T.point(W[0],W[1]);return G.projection.unproject(te)})),this._callLevel++;try{T.GeoJSON.prototype.addData.call(this,O)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),T.Proj.geoJson=function(O,G){return new T.Proj.GeoJSON(O,G)},T.Proj.ImageOverlay=T.ImageOverlay.extend({initialize:function(O,G,W){T.ImageOverlay.prototype.initialize.call(this,O,null,W),this._projectedBounds=G},_animateZoom:function(O){var G=this._map.getZoomScale(O.zoom),W=T.point(this._projectedBounds.min.x,this._projectedBounds.max.y),te=this._projectedToNewLayerPoint(W,O.zoom,O.center);T.DomUtil.setTransform(this._image,te,G)},_reset:function(){var O=this._map.getZoom(),G=this._map.getPixelOrigin(),W=T.bounds(this._transform(this._projectedBounds.min,O)._subtract(G),this._transform(this._projectedBounds.max,O)._subtract(G)),te=W.getSize();T.DomUtil.setPosition(this._image,W.min),this._image.style.width=te.x+"px",this._image.style.height=te.y+"px"},_projectedToNewLayerPoint:function(O,G,W){var te=this._map.getSize()._divideBy(2),Q=this._map.project(W,G)._subtract(te)._round().add(this._map._getMapPanePos());return this._transform(O,G)._subtract(Q)},_transform:function(O,G){var W=this._map.options.crs,te=W.transformation,De=W.scale(G);return te.transform(O,De)}}),T.Proj.imageOverlay=function(O,G,W){return new T.Proj.ImageOverlay(O,G,W)},T.Proj})?ze.apply(Dn,_):ze)&&(Di.exports=D)}},Di=>{Di(Di.s=523)}]);